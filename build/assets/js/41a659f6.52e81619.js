"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[82429],{68861:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var i=t(74848),s=t(28453);const r={sidebar_label:"Device-level Experiments",title:"Build your first Device-level Experiment",keywords:["owner:brock"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},o=void 0,l={id:"guides/first-device-level-experiment",title:"Build your first Device-level Experiment",description:"When you cannot identify a user via their user ID, device-level experiments allow you to randomize experiments based on a consistent identifier for the user's device. While Statsig can automatically generate a stable ID, it's recommended to use your own cookie or logged-out ID when possible.",source:"@site/docs/guides/first-device-level-experiment.mdx",sourceDirName:"guides",slug:"/guides/first-device-level-experiment",permalink:"/guides/first-device-level-experiment",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/guides/first-device-level-experiment.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{sidebar_label:"Device-level Experiments",title:"Build your first Device-level Experiment",keywords:["owner:brock"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud",previous:{title:"Using Parameter Stores",permalink:"/client/concepts/parameter-stores"},next:{title:"Custom ID Types",permalink:"/guides/experiment-on-custom-id-types"}},a={},c=[{value:"Step 1: Create a Device-level Experiment",id:"step-1-create-a-device-level-experiment",level:3},{value:"Step 2: Initialize the SDK in Your Application",id:"step-2-initialize-the-sdk-in-your-application",level:3},{value:"Example (JavaScript):",id:"example-javascript",level:4},{value:"Step 3 (Optional): Update User Info for Logged-in Users",id:"step-3-optional-update-user-info-for-logged-in-users",level:3},{value:"Example (JavaScript):",id:"example-javascript-1",level:4}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"When you cannot identify a user via their user ID, device-level experiments allow you to randomize experiments based on a consistent identifier for the user's device. While Statsig can automatically generate a stable ID, it's recommended to use your own cookie or logged-out ID when possible."}),"\n",(0,i.jsx)(n.p,{children:"Device-level experiments are ideal in scenarios such as:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Anonymous or first-time users"}),": When users haven't signed in yet or are browsing anonymously."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cross-device consistency"}),": Ensuring the same experience on the same device, regardless of user sign-in status."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can implement a device-level experiment almost exactly like a traditional user-level experiment. The key difference is setting the experiment\u2019s ID type. In this example, we set the ",(0,i.jsx)(n.code,{children:"stableID"})," as the ID type, but if you have your own identifier you can substitute that as well."]}),"\n",(0,i.jsx)(n.h3,{id:"step-1-create-a-device-level-experiment",children:"Step 1: Create a Device-level Experiment"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log into the Statsig Console"}),": Visit ",(0,i.jsx)(n.a,{href:"https://console.statsig.com/",children:"Statsig Console"})," and navigate to ",(0,i.jsx)(n.strong,{children:"Experiments+"})," on the left-hand sidebar."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Create a New Experiment"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Create"})," and fill out the ",(0,i.jsx)(n.strong,{children:"name"})," and ",(0,i.jsx)(n.strong,{children:"description"})," of your experiment."]}),"\n",(0,i.jsxs)(n.li,{children:["Enable the ",(0,i.jsx)(n.strong,{children:"Use Stable ID"})," option during setup."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create"})," to proceed."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://user-images.githubusercontent.com/74584483/175827163-7669bd8d-ee7f-49af-943a-b1f71d95428e.png",alt:"Stable ID Setup"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Define Experiment Metrics"}),": Add a hypothesis, primary metrics, and secondary metrics in the ",(0,i.jsx)(n.strong,{children:"Scorecard"})," section, just like you would for a user-level experiment."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Set Groups and Parameters"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["In the ",(0,i.jsx)(n.strong,{children:"Groups"})," section, define the parameters for your experiment. For instance, you can experiment with a simple boolean parameter like ",(0,i.jsx)(n.code,{children:'"enabled"'}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://user-images.githubusercontent.com/74584483/175827265-53e18e66-14ce-4d8e-a409-201bd6191615.png",alt:"Experiment Groups"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Set Allocation"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"By default, the experiment targets 100% of your user base. Adjust the allocation if needed. Starting with a smaller rollout is often recommended until you're confident in the new variant."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://user-images.githubusercontent.com/1315028/138972419-b7c42f97-29ec-407e-851f-3301130a21c5.png",alt:"Allocation Panel"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Save and Start"}),": Once everything is configured, click ",(0,i.jsx)(n.strong,{children:"Save"})," to finalize your experiment. When you're ready to launch, click ",(0,i.jsx)(n.strong,{children:"Start"})," to roll it out."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"step-2-initialize-the-sdk-in-your-application",children:"Step 2: Initialize the SDK in Your Application"}),"\n",(0,i.jsx)(n.p,{children:"After setting up your experiment in the Statsig console, the next step is to integrate it into your client application using one of Statsig\u2019s SDKs."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Important:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"userID"})})," should ",(0,i.jsx)(n.strong,{children:"only"})," be set for authenticated, logged-in users."]}),"\n",(0,i.jsxs)(n.li,{children:["For logged-out or anonymous users, use ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"stableID"})})," (Statsig\u2019s auto-generated device ID) or your own custom deviceID to identify the device.  See ",(0,i.jsx)(n.a,{href:"/guides/experiment-on-custom-id-types",children:"customID types"})," if you have your own deviceID"]}),"\n",(0,i.jsx)(n.li,{children:"Always pass all known IDs to the SDK \u2014 Statsig will use the correct one for evaluation depending on the experiment or gate\u2019s ID type."}),"\n",(0,i.jsx)(n.li,{children:"If you do rely on stableID, it is only generated by Statsig client SDKs (javascript, react, mobile, etc) - server SDKs are unable to generate this ID for you"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"User attributes"}),": You can pass additional attributes like ",(0,i.jsx)(n.code,{children:"appVersion"}),", and ",(0,i.jsx)(n.code,{children:"custom"})," properties for experiment targeting."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"example-javascript",children:"Example (JavaScript):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'const user = {\n    userID: userID: isLoggedIn() ? getLoggedInUserID() : undefined,\n\n    // Optional attributes to help with targeting\n    appVersion: "1.0.0",\n    custom: {\n        promoCode: "New30Off"\n    }\n};\n\n// Initialize the Statsig Client\nconst client = new StatsigClient(sdkKey, user, {\n  environment: { tier: "production" }\n});\n\nawait client.initializeAsync();\n'})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Tip"}),": If your app collects other relevant attributes (e.g., device type, region), pass them in the ",(0,i.jsx)(n.code,{children:"user"})," object to improve experiment precision."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"step-3-optional-update-user-info-for-logged-in-users",children:"Step 3 (Optional): Update User Info for Logged-in Users"}),"\n",(0,i.jsx)(n.p,{children:"When a user signs in or creates an account, call the SDK\u2019s updateUser method to attach userID and other logged-in attributes. This allows user-level experiments and gates to evaluate with the authenticated identifier."}),"\n",(0,i.jsx)(n.h4,{id:"example-javascript-1",children:"Example (JavaScript):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const updatedUser = {\n  ...user, // continue to send the deviceID!\n  userID: loggedInID,\n  email: signUpEmail\n};\n\n// Update the user object\nawait client.updateUserAsync(user);\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note"}),": Adding userID after login enables user-level experiments/gates to target and evaluate using userID. ",(0,i.jsx)(n.em,{children:"Device-level"})," experiment evaluations remain based on stableID (or deviceID) and are not changed by adding userID, as long as you continue to pass that identifier as well! This preserves consistency of device-level bucketing."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(96540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);