"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[95153],{68529:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>n,metadata:()=>o,toc:()=>d});var a=t(74848),i=t(28453);const n={title:"Egress, Privacy, & Storage",slug:"/statsig-warehouse-native/data-privacy",sidebar_label:"Egress, Privacy, & Storage",description:"Understand how Statsig uses your warehouse",keywords:["owner:vm"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},r=void 0,o={id:"statsig-warehouse-native/analysis-tools/data-privacy",title:"Egress, Privacy, & Storage",description:"Understand how Statsig uses your warehouse",source:"@site/docs/statsig-warehouse-native/analysis-tools/data-privacy.md",sourceDirName:"statsig-warehouse-native/analysis-tools",slug:"/statsig-warehouse-native/data-privacy",permalink:"/statsig-warehouse-native/data-privacy",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/statsig-warehouse-native/analysis-tools/data-privacy.md",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Egress, Privacy, & Storage",slug:"/statsig-warehouse-native/data-privacy",sidebar_label:"Egress, Privacy, & Storage",description:"Understand how Statsig uses your warehouse",keywords:["owner:vm"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"warehouse",previous:{title:"Other Warehouses",permalink:"/statsig-warehouse-native/connecting-your-warehouse/other"},next:{title:"Warehouse Storage",permalink:"/statsig-warehouse-native/warehouse-management/storage"}},l={},d=[{value:"Permissions",id:"permissions",level:2},{value:"What Statsig Reads",id:"what-statsig-reads",level:2},{value:"Data Retention in Statsig",id:"data-retention-in-statsig",level:2},{value:"Storage Management",id:"storage-management",level:2}];function u(e){const s={h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.p,{children:"One advantage of using Statsig Warehouse Native is that user-level data comes directly from your source of truth without needing to be copied or leave your warehouse. This page walks through how Statsig interacts with your warehouse."}),"\n",(0,a.jsx)(s.h2,{id:"permissions",children:"Permissions"}),"\n",(0,a.jsx)(s.p,{children:"The permissions Statsig requires are:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Job Access (where applicable) to run queries as a service user"}),"\n",(0,a.jsxs)(s.li,{children:["Read Access on event, metric, and exposure data you want to use for experiment analysis","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Statsig only selects from these tables"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["Read, Write, Delete access in a Statsig Staging environment you specify","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"In Bigquery this is a dataset"}),"\n",(0,a.jsx)(s.li,{children:"In Snowflake and Redshift this is a schema"}),"\n",(0,a.jsx)(s.li,{children:"In Databricks this is a database, or a database within a separate workspace with a scoped delta share to your production datasets"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Best practice is to create a new dataset for Statsig Staging to make sure this environment is isolated. Statsig only modifies tables it creates as part of analysis."}),"\n",(0,a.jsx)(s.h2,{id:"what-statsig-reads",children:"What Statsig Reads"}),"\n",(0,a.jsx)(s.p,{children:"Statsig only reads two forms of data, both of which are very small (generally in Kilobytes)"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Small samples used for validating setup in the following surfaces:","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Metrics Tab"}),"\n",(0,a.jsx)(s.li,{children:"Metric Source Tab"}),"\n",(0,a.jsx)(s.li,{children:"Assignment Source Tab"}),"\n",(0,a.jsx)(s.li,{children:"(If using Statsig exposures) Users Tab"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["Aggregated results at the group or experiment level. This data doesn't contain user IDs and is rolled up at the group, metric, group/metric or experiment level. This includes:","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Existing groups and group sizes for experiment setup"}),"\n",(0,a.jsx)(s.li,{children:"Pulse Results"}),"\n",(0,a.jsx)(s.li,{children:"Total exposure counts for power analysis"}),"\n",(0,a.jsx)(s.li,{children:"Daily total metric values"}),"\n",(0,a.jsx)(s.li,{children:"Experiment-level health checks (e.g. distinct metrics, count of exposures)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:""}),"\n",(0,a.jsx)(s.p,{children:"During analysis, data stays in your warehouse. Intermediate tables and results are written to the Statsig data staging set. When the results of Health Checks or Pulse become available, Statsig consumes those result sets and stores them on its servers as well (usually < 1000 rows):"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://user-images.githubusercontent.com/102695539/264110212-b9e07098-cd3a-4107-aa3f-6740fc3d8b7a.png",alt:"Analysis Flow"})}),"\n",(0,a.jsx)(s.h2,{id:"data-retention-in-statsig",children:"Data Retention in Statsig"}),"\n",(0,a.jsx)(s.p,{children:"Customer data contained within exposure events when using the SDK for assignment is retained for a maximum of 30 days purely for diagnostics and debugging purposes.\nStatsig will automatically remove any customer data no longer than 30 days after the events are sent to our system."}),"\n",(0,a.jsx)(s.h2,{id:"storage-management",children:"Storage Management"}),"\n",(0,a.jsx)(s.p,{children:"Experimentation staging datasets can generate a lot of data, since they can potentially blow up your data by the number of experiments you run; for example, if you have user-day data and run 100 experiments that all expose every user, you'd end up with 100 copies of the data with slight differences based on when users were exposed to the various experiments."}),"\n",(0,a.jsx)(s.p,{children:"To help manage this, Statsig has a table management system to help manage storage costs and visibility:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Temporary artifacts (tables generated as part of explore queries or pulse results) are dropped 2-7 days after creation. This gives some buffer to debug, but they won't maintain long-term copies of data"}),"\n",(0,a.jsx)(s.li,{children:"When you finish an experiment by making a decision, you're prompted to delete the tables. By default, Statsig leaves the result sets (on the order of kilobytes) in your warehouse for reference, but you can override this setting."}),"\n",(0,a.jsx)(s.li,{children:"At any time, you can drop tables for your experiment from the three-dot menu in the experiment."}),"\n"]})]})}function c(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>o});var a=t(96540);const i={},n=a.createContext(i);function r(e){const s=a.useContext(n);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(n.Provider,{value:s},e.children)}}}]);