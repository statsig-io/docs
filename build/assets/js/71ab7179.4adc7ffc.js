"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[17526],{70396:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var s=a(74848),i=a(28453),t=a(11470),r=a(19365);const l={title:"Migrating from Legacy Java/Kotlin SDK to Java Core",sidebar_label:"Migration Guide",keywords:["owner:brock"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},c="Migrating from Legacy Java SDK to Java Core",o={id:"server-core/java/migration",title:"Migrating from Legacy Java/Kotlin SDK to Java Core",description:"This guide will help you migrate from the legacy Java/Kotlin Server SDK to the new Java Core SDK. The Java Core SDK offers significant performance improvements and new features, as it's built on a shared Rust core library.",source:"@site/docs/server-core/java/migration.mdx",sourceDirName:"server-core/java",slug:"/server-core/java/migration",permalink:"/server-core/java/migration",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/server-core/java/migration.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Migrating from Legacy Java/Kotlin SDK to Java Core",sidebar_label:"Migration Guide",keywords:["owner:brock"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"api",previous:{title:"Java",permalink:"/server-core/java-core"},next:{title:".NET",permalink:"/server-core/dotnetCoreSDK"}},d={},u=[{value:"Why Migrate?",id:"why-migrate",level:2},{value:"Installation Differences",id:"installation-differences",level:2},{value:"Legacy Java/Kotlin SDK",id:"legacy-javakotlin-sdk",level:3},{value:"Java Core SDK",id:"java-core-sdk",level:3},{value:"API Differences",id:"api-differences",level:2},{value:"Key Package and Class Changes",id:"key-package-and-class-changes",level:3},{value:"Initialization",id:"initialization",level:3},{value:"Checking Gates",id:"checking-gates",level:3},{value:"Getting Configs",id:"getting-configs",level:3},{value:"Getting Experiments",id:"getting-experiments",level:3},{value:"Getting Layers",id:"getting-layers",level:3},{value:"Logging Events",id:"logging-events",level:3},{value:"Configuration Options Differences",id:"configuration-options-differences",level:2},{value:"Migration Steps",id:"migration-steps",level:2},{value:"New Features in Java Core",id:"new-features-in-java-core",level:2},{value:"Parameter Stores",id:"parameter-stores",level:3},{value:"Improved Performance",id:"improved-performance",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Need Help?",id:"need-help",level:2}];function g(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"migrating-from-legacy-java-sdk-to-java-core",children:"Migrating from Legacy Java SDK to Java Core"})}),"\n",(0,s.jsx)(n.p,{children:"This guide will help you migrate from the legacy Java/Kotlin Server SDK to the new Java Core SDK. The Java Core SDK offers significant performance improvements and new features, as it's built on a shared Rust core library."}),"\n",(0,s.jsx)(n.h2,{id:"why-migrate",children:"Why Migrate?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance"}),": Java Core achieves faster evaluation times and lower CPU consumption, making it more efficient than the legacy SDK."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"New Features"}),": Access to Parameter Stores, CMAB (Contextual Multi-Armed Bandits), observabilityClient, and more"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Future Support"}),": All new features and improvements will only be available in Java Core"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maintenance"}),": The legacy Java SDK is in maintenance mode and will only receive critical bug fixes"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"installation-differences",children:"Installation Differences"}),"\n",(0,s.jsx)(n.h3,{id:"legacy-javakotlin-sdk",children:"Legacy Java/Kotlin SDK"}),"\n",(0,s.jsxs)(t.A,{groupId:"java-build-tools",defaultValue:"gradle",values:[{label:"Gradle",value:"gradle"},{label:"Maven",value:"maven"}],children:[(0,s.jsx)(r.A,{value:"gradle",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-groovy",children:"repositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.statsig:serversdk:X.X.X'\n}\n"})})}),(0,s.jsx)(r.A,{value:"maven",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<dependencies>\n    <dependency>\n        <groupId>com.statsig</groupId>\n        <artifactId>serversdk</artifactId>\n        <version>X.X.X</version>\n    </dependency>\n</dependencies>\n"})})})]}),"\n",(0,s.jsx)(n.h3,{id:"java-core-sdk",children:"Java Core SDK"}),"\n",(0,s.jsx)(n.p,{children:"Java Core requires both the core library and a platform-specific native library:"}),"\n",(0,s.jsxs)(t.A,{groupId:"java-build-tools",defaultValue:"gradle",values:[{label:"Gradle",value:"gradle"},{label:"Maven",value:"maven"}],children:[(0,s.jsx)(r.A,{value:"gradle",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-groovy",children:"repositories {\n    mavenCentral()\n}\n\ndependencies {\n    // Core library (required)\n    implementation 'com.statsig:javacore:X.X.X'\n    \n    // Platform-specific library (required)\n    implementation 'com.statsig:javacore:X.X.X:YOUR-OS-ARCHITECTURE'\n}\n"})})}),(0,s.jsx)(r.A,{value:"maven",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<dependencies>\n    \x3c!-- Core library (required) --\x3e\n    <dependency>\n        <groupId>com.statsig</groupId>\n        <artifactId>javacore</artifactId>\n        <version>X.X.X</version>\n    </dependency>\n    \n    \x3c!-- Platform-specific library (required) --\x3e\n    <dependency>\n        <groupId>com.statsig</groupId>\n        <artifactId>javacore</artifactId>\n        <version>X.X.X</version>\n        <classifier>YOUR-OS-ARCHITECTURE</classifier>\n    </dependency>\n</dependencies>\n"})})})]}),"\n",(0,s.jsx)(n.p,{children:"To determine the correct platform-specific dependency, you can run this code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'import com.statsig.*;\n\nStatsigOptions options = new StatsigOptions.Builder().build();\nStatsig statsig = new Statsig("your-secret-key", options);\n'})}),"\n",(0,s.jsx)(n.p,{children:"This will output the appropriate dependency for your system."}),"\n",(0,s.jsx)(n.h2,{id:"api-differences",children:"API Differences"}),"\n",(0,s.jsx)(n.h3,{id:"key-package-and-class-changes",children:"Key Package and Class Changes"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"Legacy Java SDK"}),(0,s.jsx)(n.th,{children:"Java Core SDK"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Package"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"com.statsig.sdk.*"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"com.statsig.*"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Main Class"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"Statsig"})," (static methods)"]}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"Statsig"})," (instance methods)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Options"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"StatsigOptions"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"StatsigOptions.Builder()"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"User"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"StatsigUser"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"StatsigUser.Builder()"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Check Gate"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Statsig.checkGateSync()"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"statsig.checkGate()"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Get Config"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Statsig.getConfigSync()"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"statsig.getDynamicConfig()"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Get Experiment"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Statsig.getExperimentSync()"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"statsig.getExperiment()"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Get Layer"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Statsig.getLayerSync()"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"statsig.getLayer()"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Log Event"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Statsig.logEvent()"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"statsig.logEvent()"})})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"initialization",children:"Initialization"}),"\n",(0,s.jsxs)(t.A,{groupId:"sdk-comparison",defaultValue:"legacy-java",values:[{label:"Legacy Java SDK",value:"legacy-java"},{label:"Legacy Kotlin SDK",value:"legacy-kotlin"},{label:"Java Core SDK",value:"core"}],children:[(0,s.jsx)(r.A,{value:"legacy-java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'import com.statsig.sdk.Statsig;\n\nStatsigOptions options = new StatsigOptions();\n// Customize options as needed\n// options.initTimeoutMs = 9999;\nFuture initFuture = Statsig.initializeAsync("server-secret-key", options);\ninitFuture.get();\n'})})}),(0,s.jsx)(r.A,{value:"legacy-kotlin",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'import com.statsig.sdk.Statsig\n\nval options = StatsigOptions().apply {\n    // Customize options as needed\n    initTimeoutMs = 9999\n}\nasync { Statsig.initialize("server-secret-key", options) }.await()\n'})})}),(0,s.jsx)(r.A,{value:"core",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'import com.statsig.*;\n\n// All StatsigOptions are optional\nStatsigOptions options = new StatsigOptions.Builder()\n                    .setSpecsSyncIntervalMs(10000)\n                    .setEventLoggingFlushIntervalMs(10000)\n                    .setOutputLoggerLevel(OutputLogger.LogLevel.INFO)\n                    .build();\n\nStatsig statsig = new Statsig("server-secret-key", options);\nstatsig.initialize().get();\n'})})})]}),"\n",(0,s.jsx)(n.h3,{id:"checking-gates",children:"Checking Gates"}),"\n",(0,s.jsxs)(t.A,{groupId:"sdk-comparison",defaultValue:"legacy-java",values:[{label:"Legacy Java SDK",value:"legacy-java"},{label:"Legacy Kotlin SDK",value:"legacy-kotlin"},{label:"Java Core SDK",value:"core"}],children:[(0,s.jsx)(r.A,{value:"legacy-java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'StatsigUser user = new StatsigUser("user_id");\nBoolean isFeatureOn = Statsig.checkGateSync(user, "use_new_feature");\n\nif (isFeatureOn) {\n  // Gate is on, use new feature\n} else {\n  // Gate is off\n}\n'})})}),(0,s.jsx)(r.A,{value:"legacy-kotlin",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val user = StatsigUser("user_id")\nval featureOn = Statsig.checkGateSync(user, "use_new_feature")\n\nif (featureOn) {\n  // Gate is on, use new feature\n} else {\n  // Gate is off\n}\n'})})}),(0,s.jsx)(r.A,{value:"core",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'StatsigUser user = new StatsigUser.Builder().setUserID("user_id").build();\nboolean isFeatureOn = statsig.checkGate(user, "use_new_feature");\n\nif (isFeatureOn) {\n  // Gate is on, use new feature\n} else {\n  // Gate is off\n}\n'})})})]}),"\n",(0,s.jsx)(n.h3,{id:"getting-configs",children:"Getting Configs"}),"\n",(0,s.jsxs)(t.A,{groupId:"sdk-comparison",defaultValue:"legacy-java",values:[{label:"Legacy Java SDK",value:"legacy-java"},{label:"Legacy Kotlin SDK",value:"legacy-kotlin"},{label:"Java Core SDK",value:"core"}],children:[(0,s.jsx)(r.A,{value:"legacy-java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'DynamicConfig config = Statsig.getConfigSync(user, "awesome_product_details");\n\nString itemName = config.getString("product_name", "Awesome Product v1");\nDouble price = config.getDouble("price", 10.0);\nBoolean shouldDiscount = config.getBoolean("discount", false);\n'})})}),(0,s.jsx)(r.A,{value:"legacy-kotlin",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val config = Statsig.getConfigSync(user, "awesome_product_details")\n\nval itemName = config.getString("product_name", "Awesome Product v1")\nval price = config.getDouble("price", 10.0)\nval shouldDiscount = config.getBoolean("discount", false)\n'})})}),(0,s.jsx)(r.A,{value:"core",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'DynamicConfig config = statsig.getDynamicConfig(user, "awesome_product_details");\n\nString itemName = config.getString("product_name", "Awesome Product v1");\nDouble price = config.getDouble("price", 10.0);\nBoolean shouldDiscount = config.getBoolean("discount", false);\n'})})})]}),"\n",(0,s.jsx)(n.h3,{id:"getting-experiments",children:"Getting Experiments"}),"\n",(0,s.jsxs)(t.A,{groupId:"sdk-comparison",defaultValue:"legacy-java",values:[{label:"Legacy Java SDK",value:"legacy-java"},{label:"Legacy Kotlin SDK",value:"legacy-kotlin"},{label:"Java Core SDK",value:"core"}],children:[(0,s.jsx)(r.A,{value:"legacy-java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'DynamicConfig experiment = Statsig.getExperimentSync(user, "new_user_promo_title");\n\nString promoTitle = experiment.getString("title", "Welcome to Statsig!");\nDouble discount = experiment.getDouble("discount", 0.1);\n'})})}),(0,s.jsx)(r.A,{value:"legacy-kotlin",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val experiment = Statsig.getExperimentSync(user, "new_user_promo_title")\n\nval promoTitle = experiment.getString("title", "Welcome to Statsig!")\nval discount = experiment.getDouble("discount", 0.1)\n'})})}),(0,s.jsx)(r.A,{value:"core",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'Experiment experiment = statsig.getExperiment(user, "new_user_promo_title");\n\nString promoTitle = experiment.getString("title", "Welcome to Statsig!");\nDouble discount = experiment.getDouble("discount", 0.1);\n'})})})]}),"\n",(0,s.jsx)(n.h3,{id:"getting-layers",children:"Getting Layers"}),"\n",(0,s.jsxs)(t.A,{groupId:"sdk-comparison",defaultValue:"legacy-java",values:[{label:"Legacy Java SDK",value:"legacy-java"},{label:"Legacy Kotlin SDK",value:"legacy-kotlin"},{label:"Java Core SDK",value:"core"}],children:[(0,s.jsx)(r.A,{value:"legacy-java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'Layer layer = Statsig.getLayerSync(user, "user_promo_experiments");\n\nString promoTitle = layer.getString("title", "Welcome to Statsig!");\nDouble discount = layer.getDouble("discount", 0.1);\n'})})}),(0,s.jsx)(r.A,{value:"legacy-kotlin",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val layer = Statsig.getLayerSync(user, "user_promo_experiments")\n\nval promoTitle = layer.getString("title", "Welcome to Statsig!")\nval discount = layer.getDouble("discount", 0.1)\n'})})}),(0,s.jsx)(r.A,{value:"core",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'Layer layer = statsig.getLayer(user, "user_promo_experiments");\n\nString promoTitle = layer.getString("title", "Welcome to Statsig!");\nDouble discount = layer.getDouble("discount", 0.1);\n'})})})]}),"\n",(0,s.jsx)(n.h3,{id:"logging-events",children:"Logging Events"}),"\n",(0,s.jsxs)(t.A,{groupId:"sdk-comparison",defaultValue:"legacy-java",values:[{label:"Legacy Java SDK",value:"legacy-java"},{label:"Legacy Kotlin SDK",value:"legacy-kotlin"},{label:"Java Core SDK",value:"core"}],children:[(0,s.jsx)(r.A,{value:"legacy-java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'Statsig.logEvent(user, "purchase", 2.99, Map.of("item_name", "remove_ads"));\n'})})}),(0,s.jsx)(r.A,{value:"legacy-kotlin",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'Statsig.logEvent(user, "purchase", 2.99, mapOf("item_name" to "remove_ads"))\n'})})}),(0,s.jsx)(r.A,{value:"core",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'Map<String, String> metadata = new HashMap<>();\nmetadata.put("item_name", "remove_ads");\n\nstatsig.logEvent(user, "purchase", "2.99", metadata);\n'})})})]}),"\n",(0,s.jsx)(n.h2,{id:"configuration-options-differences",children:"Configuration Options Differences"}),"\n",(0,s.jsxs)(t.A,{groupId:"sdk-comparison",defaultValue:"legacy-java",values:[{label:"Legacy Java SDK",value:"legacy-java"},{label:"Legacy Kotlin SDK",value:"legacy-kotlin"},{label:"Java Core SDK",value:"core"}],children:[(0,s.jsx)(r.A,{value:"legacy-java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'StatsigOptions options = new StatsigOptions();\noptions.setInitTimeoutMs(3000);\noptions.setTier("staging");\noptions.setLocalMode(false);\noptions.setApi("https://api.statsig.com/v1");\noptions.setRulesetsSyncIntervalMs(10 * 1000);\noptions.setIdListsSyncIntervalMs(60 * 1000);\noptions.setDisableAllLogging(false);\n'})})}),(0,s.jsx)(r.A,{value:"legacy-kotlin",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:"val options = StatsigOptions().apply {\n    initTimeoutMs(3000)\n    disableAllLogging(false)\n}\n"})})}),(0,s.jsx)(r.A,{value:"core",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'StatsigOptions options = new StatsigOptions.Builder()\n    .setInitTimeoutMs(3000)\n    .setEnvironment("staging")\n    .setDisableNetwork(false) // Replaces localMode\n    .setSpecsUrl("https://api.statsig.com/v1")\n    .setSpecsSyncIntervalMs(10 * 1000)\n    .setIdListsSyncIntervalMs(60 * 1000)\n    .setDisableAllLogging(false)\n    .build();\n'})})})]}),"\n",(0,s.jsx)(n.h2,{id:"migration-steps",children:"Migration Steps"}),"\n",(0,s.jsxs)(t.A,{groupId:"sdk-comparison",defaultValue:"java",values:[{label:"Java Migration",value:"java"},{label:"Kotlin Migration",value:"kotlin"}],children:[(0,s.jsx)(r.A,{value:"java",children:(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update Dependencies"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Replace ",(0,s.jsx)(n.code,{children:"com.statsig:serversdk"})," with ",(0,s.jsx)(n.code,{children:"com.statsig:javacore"})]}),"\n",(0,s.jsx)(n.li,{children:"Add the platform-specific dependency"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update Imports"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Replace ",(0,s.jsx)(n.code,{children:"import com.statsig.sdk.*"})," with ",(0,s.jsx)(n.code,{children:"import com.statsig.*"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update Initialization"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Change from static methods to instance methods"}),"\n",(0,s.jsx)(n.li,{children:"Use the builder pattern for options and StatsigUser"}),"\n",(0,s.jsxs)(n.li,{children:["Replace ",(0,s.jsx)(n.code,{children:'new StatsigUser("user_id")'})," with ",(0,s.jsx)(n.code,{children:'new StatsigUser.Builder().setUserID("user_id").build()'})]}),"\n",(0,s.jsxs)(n.li,{children:["Initialize with ",(0,s.jsx)(n.code,{children:"new Statsig(key, options)"})," and call ",(0,s.jsx)(n.code,{children:"initialize()"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update User Creation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use the builder pattern: ",(0,s.jsx)(n.code,{children:'new StatsigUser.Builder().setUserID("user_id").build()'})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update Method Calls"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Replace static methods with instance methods"}),"\n",(0,s.jsxs)(n.li,{children:["Remove ",(0,s.jsx)(n.code,{children:"Sync"})," suffix from method names"]}),"\n",(0,s.jsx)(n.li,{children:"Update method signatures as needed"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Test Thoroughly"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify all feature gates, experiments, and configs work as expected"}),"\n",(0,s.jsx)(n.li,{children:"Check that event logging is functioning correctly"}),"\n"]}),"\n"]}),"\n"]})}),(0,s.jsx)(r.A,{value:"kotlin",children:(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update Dependencies"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Replace ",(0,s.jsx)(n.code,{children:"com.statsig:serversdk"})," with ",(0,s.jsx)(n.code,{children:"com.statsig:javacore"})]}),"\n",(0,s.jsx)(n.li,{children:"Add the platform-specific dependency"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update Imports"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Replace ",(0,s.jsx)(n.code,{children:"import com.statsig.sdk.*"})," with ",(0,s.jsx)(n.code,{children:"import com.statsig.*"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update Initialization"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Change from static methods to instance methods"}),"\n",(0,s.jsxs)(n.li,{children:["Replace ",(0,s.jsx)(n.code,{children:".apply {}"})," blocks with the builder pattern"]}),"\n",(0,s.jsxs)(n.li,{children:["Replace ",(0,s.jsx)(n.code,{children:'val user = StatsigUser("user_id")'})," with ",(0,s.jsx)(n.code,{children:'val user = StatsigUser.Builder().setUserID("user_id").build()'})]}),"\n",(0,s.jsxs)(n.li,{children:["Initialize with ",(0,s.jsx)(n.code,{children:'val statsig = Statsig("key", options)'})," and call ",(0,s.jsx)(n.code,{children:"initialize()"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update User Creation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use the builder pattern: ",(0,s.jsx)(n.code,{children:'val user = StatsigUser.Builder().setUserID("user_id").build()'})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update Method Calls"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Replace static methods with instance methods"}),"\n",(0,s.jsxs)(n.li,{children:["Remove ",(0,s.jsx)(n.code,{children:"Sync"})," suffix from method names"]}),"\n",(0,s.jsx)(n.li,{children:"Update method signatures as needed"}),"\n",(0,s.jsxs)(n.li,{children:["Replace ",(0,s.jsx)(n.code,{children:'mapOf("key" to "value")'})," with appropriate map creation methods"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Test Thoroughly"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify all feature gates, experiments, and configs work as expected"}),"\n",(0,s.jsx)(n.li,{children:"Check that event logging is functioning correctly"}),"\n"]}),"\n"]}),"\n"]})})]}),"\n",(0,s.jsx)(n.h2,{id:"new-features-in-java-core",children:"New Features in Java Core"}),"\n",(0,s.jsx)(n.h3,{id:"parameter-stores",children:"Parameter Stores"}),"\n",(0,s.jsx)(n.p,{children:"Java Core introduces Parameter Stores, which allow you to manage parameters across multiple feature gates, experiments, and dynamic configs:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'ParameterStore parameterStore = statsig.getParameterStore(user, "my_parameter_store");\nString value = parameterStore.getString("parameter_name", "default_value");\n'})}),"\n",(0,s.jsx)(n.h3,{id:"improved-performance",children:"Improved Performance"}),"\n",(0,s.jsx)(n.p,{children:"Java Core offers significantly better performance:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Faster evaluation times"}),"\n",(0,s.jsx)(n.li,{children:"More efficient network usage"}),"\n",(0,s.jsx)(n.li,{children:"Reduced CPU usage"}),"\n",(0,s.jsx)(n.li,{children:"Better memory management"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Missing Platform-Specific Dependency"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Error: ",(0,s.jsx)(n.code,{children:"java.lang.UnsatisfiedLinkError: no statsig_jni in java.library.path"})]}),"\n",(0,s.jsx)(n.li,{children:"Solution: Add the correct platform-specific dependency"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Incompatible Method Calls"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Error: ",(0,s.jsx)(n.code,{children:"java.lang.NoSuchMethodError"})]}),"\n",(0,s.jsx)(n.li,{children:"Solution: Update method calls to match the new API"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Configuration Differences"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Issue: Features not evaluating as expected"}),"\n",(0,s.jsx)(n.li,{children:"Solution: Verify options are correctly configured in the new format"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,s.jsx)(n.p,{children:"If you encounter any issues during migration, please reach out to us:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://statsig.com/slack",children:"Statsig Slack Community"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/statsig-io/statsig-server-core/issues",children:"GitHub Issues"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}},19365:(e,n,a)=>{a.d(n,{A:()=>r});a(96540);var s=a(34164);const i={tabItem:"tabItem_Ymn6"};var t=a(74848);function r(e){let{children:n,hidden:a,className:r}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,s.A)(i.tabItem,r),hidden:a,children:n})}},11470:(e,n,a)=>{a.d(n,{A:()=>b});var s=a(96540),i=a(34164),t=a(23104),r=a(56347),l=a(205),c=a(57485),o=a(31682),d=a(70679);function u(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function g(e){const{values:n,children:a}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:a,attributes:s,default:i}}=e;return{value:n,label:a,attributes:s,default:i}}))}(a);return function(e){const n=(0,o.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function h(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function j(e){let{queryString:n=!1,groupId:a}=e;const i=(0,r.W6)(),t=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,c.aZ)(t),(0,s.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(i.location.search);n.set(t,e),i.replace({...i.location,search:n.toString()})}),[t,i])]}function p(e){const{defaultValue:n,queryString:a=!1,groupId:i}=e,t=g(e),[r,c]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=a.find((e=>e.default))??a[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:t}))),[o,u]=j({queryString:a,groupId:i}),[p,x]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[i,t]=(0,d.Dv)(a);return[i,(0,s.useCallback)((e=>{a&&t.set(e)}),[a,t])]}({groupId:i}),v=(()=>{const e=o??p;return h({value:e,tabValues:t})?e:null})();(0,l.A)((()=>{v&&c(v)}),[v]);return{selectedValue:r,selectValue:(0,s.useCallback)((e=>{if(!h({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),x(e)}),[u,x,t]),tabValues:t}}var x=a(92303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var m=a(74848);function f(e){let{className:n,block:a,selectedValue:s,selectValue:r,tabValues:l}=e;const c=[],{blockElementScrollPositionUntilNextRender:o}=(0,t.a_)(),d=e=>{const n=e.currentTarget,a=c.indexOf(n),i=l[a].value;i!==s&&(o(n),r(i))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=c.indexOf(e.currentTarget)+1;n=c[a]??c[0];break}case"ArrowLeft":{const a=c.indexOf(e.currentTarget)-1;n=c[a]??c[c.length-1];break}}n?.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":a},n),children:l.map((e=>{let{value:n,label:a,attributes:t}=e;return(0,m.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>c.push(e),onKeyDown:u,onClick:d,...t,className:(0,i.A)("tabs__item",v.tabItem,t?.className,{"tabs__item--active":s===n}),children:a??n},n)}))})}function y(e){let{lazy:n,children:a,selectedValue:t}=e;const r=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===t));return e?(0,s.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function S(e){const n=p(e);return(0,m.jsxs)("div",{className:(0,i.A)("tabs-container",v.tabList),children:[(0,m.jsx)(f,{...n,...e}),(0,m.jsx)(y,{...n,...e})]})}function b(e){const n=(0,x.A)();return(0,m.jsx)(S,{...e,children:u(e.children)},String(n))}},28453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>l});var s=a(96540);const i={},t=s.createContext(i);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);