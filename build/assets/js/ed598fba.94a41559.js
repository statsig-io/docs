"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[40523],{26024:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var i=n(74848),a=n(28453);const s={sidebar_label:"Guided Tutorial",title:"Making Your Code More Flexible with Dynamic Config",keywords:["owner:shubham"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},o=void 0,r={id:"guides/first-dynamic-config",title:"Making Your Code More Flexible with Dynamic Config",description:"Now that you have created your Statsig account, and perhaps even your first feature, this guide will help you make your app a bit more flexible with Dynamic Config.",source:"@site/docs/guides/first-dynamic-config.mdx",sourceDirName:"guides",slug:"/guides/first-dynamic-config",permalink:"/guides/first-dynamic-config",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/guides/first-dynamic-config.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{sidebar_label:"Guided Tutorial",title:"Making Your Code More Flexible with Dynamic Config",keywords:["owner:shubham"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud",previous:{title:"Add rule",permalink:"/dynamic-config/add-rule"},next:{title:"Overview",permalink:"/segments"}},c={},d=[{value:"Step 1 - Create a new Dynamic Config",id:"step-1---create-a-new-dynamic-config",level:3},{value:"Step 2 - Create Targeting Rule(s) and Conditions",id:"step-2---create-targeting-rules-and-conditions",level:3},{value:"Step 3 - Update the Return Value for Users Matching Each Rule",id:"step-3---update-the-return-value-for-users-matching-each-rule",level:3},{value:"Step 4 - Call getDynamicConfig In Your App",id:"step-4---call-getdynamicconfig-in-your-app",level:3}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["Now that you have created your Statsig account, and perhaps even your ",(0,i.jsx)(t.a,{href:"/guides/first-feature",children:"first feature"}),", this guide will help you make your app a bit more flexible with Dynamic Config.\nWhether it be for server-side rendered UI, rate limiting configurations, ranking systems, algorithms, etc. Dynamic Config can help you update configurations on the fly."]}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsx)(t.p,{children:"This guide focuses on a client-side example, as it is easier to illustrate how Dynamic Configs work and can be used. You can and still should use Dynamic Config on the server side as well."})}),"\n",(0,i.jsx)(t.p,{children:"In this guide, we will be building a front page banner - something that may show up on an ecommerce site to advertise an upcoming sale, for instance.\nHere, I will apply it to a stripped down version of the Statsig homepage. It will look something like this green banner when we are finished:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://github.com/user-attachments/assets/b82e808a-99b5-4922-90f7-727d9e5d942a",alt:"ui for mac users"})}),"\n",(0,i.jsx)(t.admonition,{title:"Codepen Example",type:"info",children:(0,i.jsxs)(t.p,{children:["This example is implemented in ",(0,i.jsx)(t.a,{href:"https://codepen.io/tore-statsig/pen/mdWEajo",children:"a codepen"})," where you can see the actual code, or fork it to quickly test your own Dynamic Configs."]})}),"\n",(0,i.jsx)(t.h3,{id:"step-1---create-a-new-dynamic-config",children:"Step 1 - Create a new Dynamic Config"}),"\n",(0,i.jsx)(t.p,{children:'Start by creating a new Dynamic Config. Dynamic Configs live under the "Feature Management" tab in the Statsig Console.Pick a name related to the set of variables this config will hold. Since we are building a homepage banner, let\'s call it "Banner Config":'}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://github.com/user-attachments/assets/c0564d86-a83c-45c7-a3c3-62397ae00448",alt:"Create Dynamic Config"})}),"\n",(0,i.jsx)(t.p,{children:"Great! We have created an (empty) Dynamic Config. It returns the default value (an empty JSON object) whenever it is evaluated. For our example, we are going to add some options to populate a homepage banner. The end goal is to show a targeted banner to a few different sets of developers: those likely to use a .NET SDK, and those more likely to use a Swift SDK. Let's keep our targeting simple here: we want to promote the new .NET SDK to anyone that is browsing our site on the Windows operating system, and the new Swift SDK to anyone browsing on MacOS. That takes us to steps 2 and 3."}),"\n",(0,i.jsx)(t.h3,{id:"step-2---create-targeting-rules-and-conditions",children:"Step 2 - Create Targeting Rule(s) and Conditions"}),"\n",(0,i.jsx)(t.p,{children:'First, let\'s add the Window\'s rule. Select "Add Targeting", and then "Add new Rule":'}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://github.com/user-attachments/assets/9011708a-24e0-43c9-8e4d-468d57476413",alt:"Add Rule"})}),"\n",(0,i.jsx)(t.p,{children:"Though Feature Gates and Dynamic Config share the same powerful user segmentation and targeting tools, they differ in what you return for those different sets of users. Feature Gates are intended to be super lightweight, and only return a boolean indicating the user matched one of the rules. Dynamic Configs, on the other hand, can return a different JSON blob of data for each rule!"}),"\n",(0,i.jsx)(t.h3,{id:"step-3---update-the-return-value-for-users-matching-each-rule",children:"Step 3 - Update the Return Value for Users Matching Each Rule"}),"\n",(0,i.jsx)(t.p,{children:"This is the rough schema we want to return:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"{\n  text,\n  backgroundColor,\n  color,\n  fontSize,\n  isCloseable,\n}\n"})}),"\n",(0,i.jsx)(t.p,{children:'Let\'s edit the return value for the windows rule, and fill it in. Under "Return" on the right hand side, hit "edit". Then paste the following:'}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"{\n  text: 'New!  Introducing the Statsig .NET SDK',\n  backgroundColor: '#194b7d',\n  color: 'white',\n  fontSize: 14,\n  isCloseable: false,\n}\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://github.com/user-attachments/assets/a2dc7b2a-98f4-4570-86db-34b390d80a89",alt:"Return Value"})}),"\n",(0,i.jsx)(t.p,{children:'Remember to hit "Save" in the bottom right.'}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://github.com/user-attachments/assets/b6e0eb73-c623-4a05-b605-ad9eb2c42792",alt:"Config with one rule"})}),"\n",(0,i.jsx)(t.p,{children:'Let\'s repeat this process for people using Mac OS. Adding the the same OS rule, but this time select "Mac OS X".'}),"\n",(0,i.jsx)(t.p,{children:"Then, lets update the return value:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"{\n  text: 'New!  Introducing the Statsig Swift SDK',\n  backgroundColor: '#197d4b',\n  color: 'white',\n  fontSize: 16,\n}\n"})}),"\n",(0,i.jsx)(t.p,{children:'Once again, don\'t forget to click "Save" to apply these new rules to your config. Your Dynamic Config should now look something like this:'}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://github.com/user-attachments/assets/a04575a8-6afb-4380-8cb6-77052a2d5943",alt:"Dynamic Config with two rules"})}),"\n",(0,i.jsx)(t.h3,{id:"step-4---call-getdynamicconfig-in-your-app",children:"Step 4 - Call getDynamicConfig In Your App"}),"\n",(0,i.jsxs)(t.p,{children:["This is a specific guide for creating a Dynamic Config using the Statsig Javascript SDK - for more guides to calling the statsig SDKs in code, use the Statsig SDK ",(0,i.jsx)(t.a,{href:"https://docs.statsig.com/sdks/quickstart",children:"quickstart guides"})," where you can select which SDK you'll be using!\nYou can also reference the code snippet you'll want to use for a particular dynamic config by clicking into the code snippet button on the dynamic config page and selecting the desired SDK\n",(0,i.jsx)(t.img,{src:"https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/CbjKvuo40oMU45psWLvG/8211d6ea-db5f-448b-9589-e112de3ac4b2.png",alt:"dynamic config code snippet button"})]}),"\n",(0,i.jsxs)(t.p,{children:["Now let's use this Dynamic Config to create a different landing page experience for different sets of developers. Check out this ",(0,i.jsx)(t.a,{href:"https://codepen.io/tore-statsig/pen/mdWEajo",children:"codepen"})," to follow along. If you fork the code and put in the API Key from your Statsig project, you should be able to see the banner for your platform."]}),"\n",(0,i.jsxs)(t.p,{children:["After adding the SDK to the webpage via the ",(0,i.jsx)(t.a,{href:"https://www.jsdelivr.com/package/npm/@statsig/js-client",children:"jsdelivr cdn"}),", we initialize the SDK:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:'const client = new window.Statsig.StatsigClient("<CLIENT-SDK-KEY>", {});\n'})}),"\n",(0,i.jsx)(t.p,{children:"Now, let's fetch our config and construct the banner:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:'const bannerConfig = client.getDynamicConfig("banner_config");\nconst text = bannerConfig.get("text", null);\nconst backgroundColor = bannerConfig.get("backgroundColor", "black");\nconst color = bannerConfig.get("color", "white");\nconst fontSize = bannerConfig.get("fontSize", 14);\nif (text == null) {\n  return;\n}\nconst banner = document.getElementById("homepageBanner");\nconst bannerText = document.createElement("p");\nbanner.style.display = "block";\nbannerText.innerHTML = text;\nbanner.style.color = color;\nbanner.style.fontSize = fontSize + "px";\nbanner.style.backgroundColor = backgroundColor;\nbanner.appendChild(bannerText);\n'})}),"\n",(0,i.jsx)(t.p,{children:"Note that this js relies on the html page having the homepageBanner div:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'<div id="homepageBanner"></div>\n'})}),"\n",(0,i.jsx)(t.p,{children:"And that's it! With just a handful of javascript, we integrated with the Statsig SDK and started using the Dynamic Config we created. Now, without updating our website, we can add a new rule to the Dynamic Config and return a completely new banner to a different set of people!"}),"\n",(0,i.jsx)(t.p,{children:"Here's what it looks like for me, viewing this webpage in chrome on a Mac:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://github.com/user-attachments/assets/b82e808a-99b5-4922-90f7-727d9e5d942a",alt:"ui for mac users"})}),"\n",(0,i.jsx)(t.p,{children:"We hope this inspires some ideas of what you could do with your app/website/backend service, and we can't wait to see what you build."})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var i=n(96540);const a={},s=i.createContext(a);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);