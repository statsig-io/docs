"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[88153],{41694:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var s=t(74848),i=t(28453);const r={title:"Redshift",keywords:["owner:tim"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},o=void 0,a={id:"data-warehouse-ingestion/redshift",title:"Redshift",description:"Overview",source:"@site/docs/data-warehouse-ingestion/redshift.mdx",sourceDirName:"data-warehouse-ingestion",slug:"/data-warehouse-ingestion/redshift",permalink:"/data-warehouse-ingestion/redshift",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/data-warehouse-ingestion/redshift.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Redshift",keywords:["owner:tim"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud",previous:{title:"BigQuery",permalink:"/data-warehouse-ingestion/bigquery"},next:{title:"Snowflake",permalink:"/data-warehouse-ingestion/snowflake"}},d={},c=[{value:"Overview",id:"overview",level:2},{value:"SSH Tunneling",id:"ssh-tunneling",level:2},{value:"Custom User Privileges",id:"custom-user-privileges",level:3}];function l(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"To set up connection with Redshift, Statsig needs the following"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cluster Endpoint"}),"\n",(0,s.jsx)(n.li,{children:"Admin User Name"}),"\n",(0,s.jsx)(n.li,{children:"Admin User Password"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"SHA256 passwords are not currently supported, please utilize MD5 to avoid issues."})}),"\n",(0,s.jsx)(n.p,{children:"You can find this information in your aws console within your specific cluster, as shown in the image below. (Open image in new tab for a bigger image)"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://user-images.githubusercontent.com/108023879/187515405-17fa7d90-44e1-422f-87a7-cfde090637ed.png",alt:"Frame 1"})}),"\n",(0,s.jsx)("b",{children:"Admin user name and password will be used by Statsig to create a user with restricted access to query from your data warehouse."}),"\n",(0,s.jsx)(n.h2,{id:"ssh-tunneling",children:"SSH Tunneling"}),"\n",(0,s.jsx)(n.p,{children:"For Redshift connections, we also allow users to create an SSH tunnel into their Redshift cluster for a more secure and private access to the database.\nTo enable access, Statsig requires:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"SSH Host"}),"\n",(0,s.jsx)(n.li,{children:"SSH Port"}),"\n",(0,s.jsx)(n.li,{children:"SSH User"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Statsig will use this information to generate an SSH key. Please add this generated key to your ",(0,s.jsx)(n.code,{children:"~/.ssh/authorized_keys"})," file on your SSH proxy machine to enable SSH tunneling."]}),"\n",(0,s.jsx)(n.h3,{id:"custom-user-privileges",children:"Custom User Privileges"}),"\n",(0,s.jsxs)(n.p,{children:["To create a custom user with specific privileges instead of using an admin user, run the following code in your Redshift cluster with your admin user.\nReplace ",(0,s.jsx)(n.code,{children:"<USER>"})," and ",(0,s.jsx)(n.code,{children:"<PASSWORD>"})," with your value, which you will copy over into our console."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"# Create Statsig User\nCREATE USER <USER> WITH PASSWORD <PASSWORD> SYSLOG ACCESS UNRESTRICTED;\n\n# Give access to any Schemas that the Statsig User needs to read from\nGRANT USAGE ON SCHEMA <SCHEMA> to <USER>;\nGRANT SELECT ON ALL TABLES IN SCHEMA <SCHEMA> to <USER>;\n\n# Create a Schema for Statsig User to write temporary data to\nCREATE SCHEMA IF NOT EXISTS statsig_ingestion_staging;\nGRANT ALL ON SCHEMA <SCHEMA> TO <USER>;\n"})}),"\n",(0,s.jsxs)(n.p,{children:["After running the script, input the ",(0,s.jsx)(n.code,{children:"<USER>"})," and ",(0,s.jsx)(n.code,{children:"<PASSWORD>"})," you created in our console, during Connection Set Up stage under the Advanced settings options."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://user-images.githubusercontent.com/108023879/188943178-6b541962-62da-4529-b5af-ff59b20b7a8d.png",alt:"Screen Shot 2022-09-07 at 10 36 57 AM"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(96540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);