"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[5516],{45498:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>h,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>d,toc:()=>g});var t=n(74848),s=n(28453),a=n(11470),l=n(19365),r=n(55088);const o={title:"Migrating to @statsig/js-client",sidebar_label:"Migrating to @statsig/js-client",slug:"/client/javascript-sdk/migrating-from-statsig-js",keywords:["owner:brock"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},c=void 0,d={id:"client/javascript-mono/MigrationFromOldJsClient",title:"Migrating to @statsig/js-client",description:"Migrate soon! Official support for statsig-js ends Jan 31, 2025.",source:"@site/docs/client/javascript-mono/MigrationFromOldJsClient.mdx",sourceDirName:"client/javascript-mono",slug:"/client/javascript-sdk/migrating-from-statsig-js",permalink:"/client/javascript-sdk/migrating-from-statsig-js",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/client/javascript-mono/MigrationFromOldJsClient.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Migrating to @statsig/js-client",sidebar_label:"Migrating to @statsig/js-client",slug:"/client/javascript-sdk/migrating-from-statsig-js",keywords:["owner:brock"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"api",previous:{title:"On Device Evaluation",permalink:"/client/jsLocalEvaluationSDK"},next:{title:"Migrating to @statsig/react-bindings",permalink:"/client/javascript-sdk/migrating-from-statsig-react"}},h={},g=[{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"Initialization",id:"initialization",level:3},{value:"getConfig is now getDynamicConfig",id:"getconfig-is-now-getdynamicconfig",level:3},{value:"Bootstrapping",id:"bootstrapping",level:3},{value:"Updating the User",id:"updating-the-user",level:3},{value:"Static Instance",id:"static-instance",level:2},{value:"Overrides",id:"overrides",level:2},{value:"GDPR",id:"gdpr",level:2},{value:"stableID and getStableID",id:"stableid-and-getstableid",level:2},{value:"Cached Values",id:"cached-values",level:2},{value:"Legacy StatsigOptions",id:"legacy-statsigoptions",level:2},{value:"disableErrorLogging",id:"disableerrorlogging",level:4},{value:"disableAutoMetricsLogging",id:"disableautometricslogging",level:4},{value:"disableAllLogging",id:"disablealllogging",level:4},{value:"disableCurrentPageLogging",id:"disablecurrentpagelogging",level:4},{value:"disableLocalStorage",id:"disablelocalstorage",level:4},{value:"localMode",id:"localmode",level:4},{value:"loggingIntervalMillis",id:"loggingintervalmillis",level:4},{value:"loggingBufferMaxSize",id:"loggingbuffermaxsize",level:4},{value:"environment",id:"environment",level:4},{value:"disableNetworkKeepalive",id:"disablenetworkkeepalive",level:4},{value:"api",id:"api",level:4},{value:"overrideStableID",id:"overridestableid",level:4},{value:"initTimeoutMs",id:"inittimeoutms",level:4},{value:"initializeValues",id:"initializevalues",level:4},{value:"eventLoggingApi",id:"eventloggingapi",level:4},{value:"prefetchUsers",id:"prefetchusers",level:4},{value:"initCompletionCallback",id:"initcompletioncallback",level:4},{value:"updateUserCompletionCallback",id:"updateusercompletioncallback",level:4},{value:"fetchMode",id:"fetchmode",level:4},{value:"disableDiagnosticsLogging",id:"disablediagnosticslogging",level:4},{value:"initRequestRetries",id:"initrequestretries",level:4},{value:"ignoreWindowUndefined",id:"ignorewindowundefined",level:4},{value:"disableHashing",id:"disablehashing",level:4},{value:"logLevel",id:"loglevel",level:4},{value:"logger",id:"logger",level:4},{value:"evaluationCallback",id:"evaluationcallback",level:4}];function u(e){const i={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.admonition,{title:"DEPRECATED",type:"warning",children:(0,t.jsx)(i.p,{children:"Migrate soon! Official support for statsig-js ends Jan 31, 2025."})}),"\n",(0,t.jsx)(i.p,{children:"The architecture and majority of the APIs in the updated SDK have been retained; however,\nmodifications have been made to address common pitfalls, resolve existing issues, and streamline the SDK logic, resulting in some breaking changes."}),"\n",(0,t.jsx)(i.h2,{id:"breaking-changes",children:"Breaking Changes"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["The SDK now offers both a synchronous and asynchronous ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/migrating-from-statsig-js#initialization",children:"initialization"})," and ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/migrating-from-statsig-js#updating-the-user",children:"updateUser"})," methods."]}),"\n",(0,t.jsxs)(i.li,{children:['The "getConfig" method has ',(0,t.jsx)(i.a,{href:"/client/javascript-sdk/migrating-from-statsig-js#getconfig-is-now-getdynamicconfig",children:'changed to "getDynamicConfig"'})]}),"\n",(0,t.jsxs)(i.li,{children:["When Bootstrapping, you'll now have to ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/migrating-from-statsig-js#bootstrapping",children:"pass the hash parameter as 'djb2'"})]}),"\n",(0,t.jsxs)(i.li,{children:["The top-level static instance has moved to a static method, ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/migrating-from-statsig-js#static-instance",children:"StatsigClient.instance()"})]}),"\n",(0,t.jsxs)(i.li,{children:["Overrides have moved into their own package: ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/migrating-from-statsig-js#overrides",children:"js-local-overrides"})]}),"\n",(0,t.jsxs)(i.li,{children:["Parameters for GDPR compliance have ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/migrating-from-statsig-js#gdpr",children:"changed and been centralized"})]}),"\n",(0,t.jsxs)(i.li,{children:["The method to retrieve a stableID ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/migrating-from-statsig-js#stableid-and-getstableid",children:"has changed"})]}),"\n",(0,t.jsxs)(i.li,{children:["The structure of ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/migrating-from-statsig-js#cached-values",children:"cached values has changed"}),", with implications on first-run experience"]}),"\n",(0,t.jsxs)(i.li,{children:["Several StatsigOptions ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/migrating-from-statsig-js#legacy-statsigoptions",children:"have changed"})]}),"\n",(0,t.jsxs)(i.li,{children:["Manual exposure logging methods have been deprecated (",(0,t.jsx)(i.code,{children:"getExperimentWithExposureLoggingDisabled"}),", ",(0,t.jsx)(i.code,{children:"checkGateWithExposureLoggingDisabled"}),"). The checkGate and getExperiment methods now support a second argument to suppress exposure logging ",(0,t.jsx)(i.a,{href:"https://docs.statsig.com/client/javascript-sdk/#manual-exposures-",children:"as shown here"}),"."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"initialization",children:"Initialization"}),"\n",(0,t.jsx)(i.p,{children:"Previously, the SDK employed a single method for initialization. However, we have recognized that waiting for a method call during app startup can be impractical. Consequently, we have introduced two distinct initialization approaches: one synchronous and one asynchronous."}),"\n",(0,t.jsx)(i.p,{children:"Synchronous initialization will leverage cache (if available), returning immediately. Data for subsequent sessions will then be fetched in the background."}),"\n",(0,t.jsx)(i.p,{children:"Asynchronous initialization, on the other hand, is awaitable and ensures that the most current data is fetched and used."}),"\n",(0,t.jsxs)(a.A,{groupId:"js-migration-choice",defaultValue:"new",values:[{label:"statsig-js (Legacy)",value:"legacy"},{label:"New",value:"new"}],children:[(0,t.jsx)(l.A,{value:"legacy",children:(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-typescript",children:'import Statsig from "statsig-js";\n\n// initialize returns a promise which always resolves\nawait Statsig.initialize(\n  "client-sdk-key",\n  { userID: "some_user_id" },\n  { environment: { tier: "staging" } } // optional, pass options here if needed\n);\n'})})}),(0,t.jsxs)(l.A,{value:"new",children:[(0,t.jsx)(r.A,{url:"https://raw.githubusercontent.com/statsig-io/js-client-monorepo/main/samples/react/src/samples/precomputed-client/sample-precomp-initialize.tsx"}),(0,t.jsxs)(i.p,{children:["You can read more about StatsigClient initialization ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk#initialize-the-sdk",children:"here"}),"."]})]})]}),"\n",(0,t.jsx)(i.h3,{id:"getconfig-is-now-getdynamicconfig",children:"getConfig is now getDynamicConfig"}),"\n",(0,t.jsxs)(i.p,{children:["Make sure you update your ",(0,t.jsx)(i.code,{children:"getConfig"})," call sites to call the new method, ",(0,t.jsx)(i.code,{children:"getDynamicConfig"}),".  In addition, ",(0,t.jsx)(i.code,{children:"DynamicConfig"})," and ",(0,t.jsx)(i.code,{children:"Layer"})," are no longer classes, but javascript objects.  There are still convenience ",(0,t.jsx)(i.code,{children:"get"})," methods, which should remain unchanged."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-js",children:"// old\nstatsig.getConfig('config_name');\n\n// new\nstatsigClient.getDynamicConfig('config_name');\n"})}),"\n",(0,t.jsx)(i.h3,{id:"bootstrapping",children:"Bootstrapping"}),"\n",(0,t.jsxs)(i.p,{children:["If you are using a server SDK to bootstrap your js/react app, you will need to make some updates to how your server SDK generates values.  One of the optimizations we made with this new js-client SDK was to remove the ",(0,t.jsx)(i.code,{children:"sha256"})," library for hashing gate/experiment names.  Instead, we use a ",(0,t.jsx)(i.code,{children:"djb2"})," hash.  By default, all server SDKs generate ",(0,t.jsx)(i.code,{children:"sha256"})," hashes of gate/experiment names in the ",(0,t.jsx)(i.code,{children:"getClientInitializeResponse"})," method.  You will need to set the hash algorithm parameter to that method call to ",(0,t.jsx)(i.code,{children:'"djb2"'})," instead in order to bootstrap this new client SDK.  One of the benefits to this hashing algorithm is it will make the entire payload smaller as well, so its a net win on package size, speed, and payload size for the SDK.  This does not change any of the bucketing logic, only the obfuscation method used for the payload."]}),"\n",(0,t.jsx)(i.p,{children:"For example, if you are bootstrapping from a nodejs app, you will need to do:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-js",children:"statsig.getClientInitializeResponse(\n  user,\n  '[client-key]',\n  {\n    hash: 'djb2',\n  },\n);\n"})}),"\n",(0,t.jsx)(i.h3,{id:"updating-the-user",children:"Updating the User"}),"\n",(0,t.jsxs)(i.p,{children:["Similar to initialization, the ",(0,t.jsx)(i.code,{children:"updateUser"})," method now supports both synchronous and asynchronous approaches. Each method functions in the same manner as the initialization process."]}),"\n",(0,t.jsxs)(a.A,{groupId:"js-migration-choice",defaultValue:"new",values:[{label:"statsig-js (Legacy)",value:"legacy"},{label:"New",value:"new"}],children:[(0,t.jsx)(l.A,{value:"legacy",children:(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-typescript",children:'import Statsig from "statsig-js";\n\nconst user = { userID: "a-user" };\n\nawait Statsig.updateUser(user);\n'})})}),(0,t.jsx)(l.A,{value:"new",children:(0,t.jsx)(r.A,{url:"https://raw.githubusercontent.com/statsig-io/js-client-monorepo/main/samples/react/src/samples/precomputed-client/sample-precomp-update-user.tsx"})})]}),"\n",(0,t.jsx)(i.h2,{id:"static-instance",children:"Static Instance"}),"\n",(0,t.jsx)(i.p,{children:"In the previous SDK version, there was a top-level static interface for using Statsig. To enhance support for multiple instances,\nwe have replaced this with a static method that retrieves an instance."}),"\n",(0,t.jsxs)(a.A,{groupId:"js-migration-choice",defaultValue:"new",values:[{label:"statsig-js (Legacy)",value:"legacy"},{label:"New",value:"new"}],children:[(0,t.jsx)(l.A,{value:"legacy",children:(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-typescript",children:"import Statsig from \"statsig-js\";\n\nawait Statsig.initialize(YOUR_CLIENT_KEY, { userID: 'a-user' });\n\n// then later, at some other location in your code base\nif (Statsig.checkGate('a_gate')) { \n  // do something...\n}\n"})})}),(0,t.jsxs)(l.A,{value:"new",children:[(0,t.jsx)(r.A,{url:"https://raw.githubusercontent.com/statsig-io/js-client-monorepo/main/samples/react/src/samples/precomputed-client/sample-precomp-static-instance.tsx"}),(0,t.jsxs)(i.p,{children:["You can read more about StatsigClient multi-instance support ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk#multiple-client-instances",children:"here"}),"."]})]})]}),"\n",(0,t.jsx)(i.h2,{id:"overrides",children:"Overrides"}),"\n",(0,t.jsxs)(i.p,{children:["Previously, the client had top level methods for managing overrides for gates/configs/experiments/layers, etc.  Now, this has been removed from the main SDK and is in its own package.  You can implement your own overrides, or use ",(0,t.jsx)(i.code,{children:"@statsig/js-local-overrides"})," and plug it in as the local override adapter in ",(0,t.jsx)(i.code,{children:"StatsigOptions"})]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"import { StatsigClient } from '@statsig/js-client';\nimport { LocalOverrideAdapter } from '@statsig/js-local-overrides';\n\nconst overrideAdapter = new LocalOverrideAdapter();\noverrideAdapter.overrideGate('gate_a', false);\noverrideAdapter.overrideGate('gate_b', true);\n\nconst client = new StatsigClient(\n  DEMO_CLIENT_KEY,\n  { userID: 'a-user' },\n  {\n    overrideAdapter,\n  },\n);\n"})}),"\n",(0,t.jsx)(i.p,{children:"Full example here:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://github.com/statsig-io/js-client-monorepo/blob/0e7201635f71e77633de04c4c19c1006030a3a81/samples/next-js/src/app/override-adapter-example/OverrideAdapterExample.tsx#L14",children:"https://github.com/statsig-io/js-client-monorepo/blob/0e7201635f71e77633de04c4c19c1006030a3a81/samples/next-js/src/app/override-adapter-example/OverrideAdapterExample.tsx#L14"})}),"\n",(0,t.jsx)(i.h2,{id:"gdpr",children:"GDPR"}),"\n",(0,t.jsx)(i.p,{children:"In certain use cases (consent management), it is necessary to suspend cache and network usage until the user grants specific\npermissions. Previously, the method for achieving this was somewhat fragmented.\nIn the new SDK, these functionalities have been consolidated for improved coherence and ease of implementation."}),"\n",(0,t.jsxs)(a.A,{groupId:"js-migration-choice",defaultValue:"new",values:[{label:"statsig-js (Legacy)",value:"legacy"},{label:"New",value:"new"}],children:[(0,t.jsx)(l.A,{value:"legacy",children:(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-typescript",children:"// start the SDK without storage or logging\nStatsig.initialize(\n  'client-key',\n  { userID: 'a_user' },\n  { disableAllLogging: true, disableLocalStorage: true },\n);\n\n// then, once permission was granted\nStatsig.shutdown();\nStatsig.initialize(\n  'client-key',\n  { userID: 'a_user' },\n  { disableAllLogging: false, disableLocalStorage: false },\n);\n\n// or, by manually flipping the related flags\nStatsig.reenableAllLogging();\nStatsigLocalStorage.disabled = false;\n"})})}),(0,t.jsx)(l.A,{value:"new",children:(0,t.jsx)(r.A,{url:"https://raw.githubusercontent.com/statsig-io/js-client-monorepo/main/samples/react/src/samples/precomputed-client/sample-precomp-gdpr.tsx"})})]}),"\n",(0,t.jsx)(i.h2,{id:"stableid-and-getstableid",children:"stableID and getStableID"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"statsig.getStableID()"})," no longer exists. You can get the stableID like this: ",(0,t.jsx)(i.code,{children:"myStatsigClient.getContext().stableID"})]}),"\n",(0,t.jsxs)(i.p,{children:["The key for the stableID in local storage has changed. It is now a function of the SDK key used to initialize the sdk, which enables multiple instances of the SDK to coexist on a single page and not overlap with cached data.  If you wish to keep the existing stableID, you should access it in local storage from the old key ",(0,t.jsx)(i.code,{children:"STATSIG_LOCAL_STORAGE_STABLE_ID"}),", and set it in ",(0,t.jsx)(i.code,{children:"customIDs"})," to override the stableID."]}),"\n",(0,t.jsx)(i.h2,{id:"cached-values",children:"Cached Values"}),"\n",(0,t.jsx)(i.p,{children:"The structure of cached values has changed significantly, and there is no supported way to migrate from the old cached values to the new format.  If you wish to pre-populate cached values, we recommend running the new SDK without issuing checks against it for some time before swapping to use it for all checks."}),"\n",(0,t.jsx)(i.h2,{id:"legacy-statsigoptions",children:"Legacy StatsigOptions"}),"\n",(0,t.jsx)(i.p,{children:"The options to parameterize initialization of the SDK have changed.  In some cases, the underlying features were removed or moved and can be enabled/disabled in a different way. In other scenarios, there is a new API for managing them.  The following is a mapping of old options to their equivalents in the new sdk."}),"\n",(0,t.jsx)(i.h4,{id:"disableerrorlogging",children:"disableErrorLogging"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:"This feature does not exist in the new Javascript SDK, so there is no option to disable it."}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"disableautometricslogging",children:"disableAutoMetricsLogging"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["Moved to optional package ",(0,t.jsx)(i.a,{href:"https://www.npmjs.com/package/@statsig/web-analytics",children:(0,t.jsx)(i.code,{children:"@statsig/web-analytics"})})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"disablealllogging",children:"disableAllLogging"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["This is now referred to as ",(0,t.jsx)(i.code,{children:"StatsigOptions.disableLogging"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"disablecurrentpagelogging",children:"disableCurrentPageLogging"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["This is now referred to as ",(0,t.jsx)(i.code,{children:"StatsigOptions.includeCurrentPageUrlWithEvents"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"disablelocalstorage",children:"disableLocalStorage"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["This is now referred to as ",(0,t.jsx)(i.code,{children:"StatsigOptions.disableStorage"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"localmode",children:"localMode"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["This is now referred to as  ",(0,t.jsx)(i.code,{children:"StatsigOptions.networkConfig.preventAllNetworkTraffic"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"loggingintervalmillis",children:"loggingIntervalMillis"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["This is now referred to as ",(0,t.jsx)(i.code,{children:"StatsigOptions.loggingIntervalMs"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"loggingbuffermaxsize",children:"loggingBufferMaxSize"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:"Unchanged"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"environment",children:"environment"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:"Unchanged"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"disablenetworkkeepalive",children:"disableNetworkKeepalive"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["This is has been completely removed. Network requests can be controlled with ",(0,t.jsx)(i.code,{children:"StatsigOptions.networkConfig.networkOverrideFunc"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"api",children:"api"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["This is now referred to as ",(0,t.jsx)(i.code,{children:"StatsigOptions.networkConfig.api"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"overridestableid",children:"overrideStableID"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["stableID is now just part of ",(0,t.jsx)(i.code,{children:"StatsigUser.customIDs"}),". This brings it inline with Statsig server\nSDKs and helps avoid mis-configuration between client and server"]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"inittimeoutms",children:"initTimeoutMs"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["Timeouts now live as part of the ",(0,t.jsx)(i.code,{children:"async"})," call."]}),"\n",(0,t.jsxs)(i.p,{children:["eg:\n",(0,t.jsx)(i.code,{children:"myStatsigClient.initializeAsync(1000); // 1 sec timeout"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"initializevalues",children:"initializeValues"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["Replaced by the usage of ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/using-evaluations-data-adapter",children:"StatsigEvaluationsDataAdapter"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"eventloggingapi",children:"eventLoggingApi"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["Replaced by ",(0,t.jsx)(i.code,{children:"StatsigOptions.networkConfig.logEventUrl"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"prefetchusers",children:"prefetchUsers"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["Replaced by the usage of ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/using-evaluations-data-adapter",children:"StatsigEvaluationsDataAdapter"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"initcompletioncallback",children:"initCompletionCallback"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["Replaced by the usage of ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk#client-event-emitter",children:"StatsigClientEventEmitter"})]}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-js",children:"statsigClient.on('values_updated', function(evt) {\n  if(evt.status && evt.status === 'Ready') { /* client has initialized */ } \n});    \n"})}),"\n",(0,t.jsx)(i.h4,{id:"updateusercompletioncallback",children:"updateUserCompletionCallback"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["Replaced by the usage of ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk#client-event-emitter",children:"StatsigClientEventEmitter"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"fetchmode",children:"fetchMode"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["Replaced by the usage of ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk/using-evaluations-data-adapter",children:"StatsigEvaluationsDataAdapter"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"disablediagnosticslogging",children:"disableDiagnosticsLogging"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:"There currently is no diagnostics logging in the new SDK"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"initrequestretries",children:"initRequestRetries"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["This is has been completely removed. Network requests can be controlled with ",(0,t.jsx)(i.code,{children:"StatsigOptions.networkConfig.networkOverrideFunc"})]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"ignorewindowundefined",children:"ignoreWindowUndefined"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:"No longer applicable"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"disablehashing",children:"disableHashing"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:"This is now referred to as StatsigOptions.networkConfig.initializeHashAlgorithm"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"loglevel",children:"logLevel"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["This has not been changed, but the enum values are no longer ",(0,t.jsx)(i.code,{children:"UPPERCASED"}),"."]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"logger",children:"logger"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:"Not yet supported"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"evaluationcallback",children:"evaluationCallback"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["Replaced by the usage of ",(0,t.jsx)(i.a,{href:"/client/javascript-sdk#client-event-emitter",children:"StatsigClientEventEmitter"})]}),"\n"]})]})}function p(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},19365:(e,i,n)=>{n.d(i,{A:()=>l});n(96540);var t=n(34164);const s={tabItem:"tabItem_Ymn6"};var a=n(74848);function l(e){let{children:i,hidden:n,className:l}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,t.A)(s.tabItem,l),hidden:n,children:i})}},11470:(e,i,n)=>{n.d(i,{A:()=>k});var t=n(96540),s=n(34164),a=n(23104),l=n(56347),r=n(205),o=n(57485),c=n(31682),d=n(70679);function h(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:i}=e;return!!i&&"object"==typeof i&&"value"in i}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function g(e){const{values:i,children:n}=e;return(0,t.useMemo)((()=>{const e=i??function(e){return h(e).map((e=>{let{props:{value:i,label:n,attributes:t,default:s}}=e;return{value:i,label:n,attributes:t,default:s}}))}(n);return function(e){const i=(0,c.XI)(e,((e,i)=>e.value===i.value));if(i.length>0)throw new Error(`Docusaurus error: Duplicate values "${i.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[i,n])}function u(e){let{value:i,tabValues:n}=e;return n.some((e=>e.value===i))}function p(e){let{queryString:i=!1,groupId:n}=e;const s=(0,l.W6)(),a=function(e){let{queryString:i=!1,groupId:n}=e;if("string"==typeof i)return i;if(!1===i)return null;if(!0===i&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:i,groupId:n});return[(0,o.aZ)(a),(0,t.useCallback)((e=>{if(!a)return;const i=new URLSearchParams(s.location.search);i.set(a,e),s.replace({...s.location,search:i.toString()})}),[a,s])]}function m(e){const{defaultValue:i,queryString:n=!1,groupId:s}=e,a=g(e),[l,o]=(0,t.useState)((()=>function(e){let{defaultValue:i,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(i){if(!u({value:i,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${i}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return i}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:i,tabValues:a}))),[c,h]=p({queryString:n,groupId:s}),[m,v]=function(e){let{groupId:i}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(i),[s,a]=(0,d.Dv)(n);return[s,(0,t.useCallback)((e=>{n&&a.set(e)}),[n,a])]}({groupId:s}),j=(()=>{const e=c??m;return u({value:e,tabValues:a})?e:null})();(0,r.A)((()=>{j&&o(j)}),[j]);return{selectedValue:l,selectValue:(0,t.useCallback)((e=>{if(!u({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),v(e)}),[h,v,a]),tabValues:a}}var v=n(92303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=n(74848);function f(e){let{className:i,block:n,selectedValue:t,selectValue:l,tabValues:r}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),d=e=>{const i=e.currentTarget,n=o.indexOf(i),s=r[n].value;s!==t&&(c(i),l(s))},h=e=>{let i=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;i=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;i=o[n]??o[o.length-1];break}}i?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},i),children:r.map((e=>{let{value:i,label:n,attributes:a}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:t===i?0:-1,"aria-selected":t===i,ref:e=>o.push(e),onKeyDown:h,onClick:d,...a,className:(0,s.A)("tabs__item",j.tabItem,a?.className,{"tabs__item--active":t===i}),children:n??i},i)}))})}function b(e){let{lazy:i,children:n,selectedValue:a}=e;const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(i){const e=l.find((e=>e.props.value===a));return e?(0,t.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:l.map(((e,i)=>(0,t.cloneElement)(e,{key:i,hidden:e.props.value!==a})))})}function w(e){const i=m(e);return(0,x.jsxs)("div",{className:(0,s.A)("tabs-container",j.tabList),children:[(0,x.jsx)(f,{...i,...e}),(0,x.jsx)(b,{...i,...e})]})}function k(e){const i=(0,v.A)();return(0,x.jsx)(w,{...e,children:h(e.children)},String(i))}},55088:(e,i,n)=>{n.d(i,{A:()=>c});var t=n(96540),s=n(21432),a=n(74848);let l;function r(){if(l)return l;const{StatsigClient:e,runStatsigAutoCapture:i,runStatsigSessionReplay:n}=window.Statsig;return l=new e("client-rfLvYGag3eyU0jYW5zcIJTQip7GXxSrhOFN69IGMjvq",{userID:""}),i(l),n(l),l.initializeAsync().catch((e=>console.error(e))),l}function o(e){const i=e.split("\n"),n=[];let t=!1;for(const s of i)s.includes("<snippet>")?t=!0:s.includes("</snippet>")?t=!1:t&&n.push(s);return n.join("\n")}function c(e){let{url:i,language:n}=e;const[l,c]=(0,t.useState)(null);return function(){try{return r().checkGate("partial_gate")}catch(e){}}(),(0,t.useEffect)((()=>{!function(e,i){try{r().logEvent({eventName:"gh_embed_render",value:e.replace("https://raw.githubusercontent.com/statsig-io",""),metadata:{language:i}})}catch(n){}}(i,n);(async()=>{try{const e=Date.now(),n=await fetch(i);if(!n.ok)throw new Error("Network response was not ok");const t=500,s=await n.text(),a=Date.now()-e;a<t?setTimeout((()=>c(o(s))),t-a):c(o(s))}catch(e){c(`// Failed to load example.\n// View on GitHub:\n// ${i}`),function(e,i,n){try{r().logEvent({eventName:"gh_embed_error",value:e,metadata:{language:i,error:n}})}catch(n){}}(i,n,e)}})()}),[i]),(0,a.jsxs)("div",{style:{overflow:"hidden"},children:[null==l&&(0,a.jsx)(s.A,{language:n??"tsx",children:(0,a.jsx)("div",{style:{textAlign:"center",padding:"50px 0px 50px 0px"},children:"..."})}),null!=l&&(0,a.jsx)(s.A,{language:n??"tsx",children:l})]})}}}]);