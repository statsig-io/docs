"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[280],{11702:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>g});var a=n(74848),s=n(28453);const i={title:"Walkthrough guide for Gate Management with CLI",sidebar_label:"Example: Gate Management",slug:"/statsigcli/gate-management",keywords:["owner:vijaye"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},r=void 0,l={id:"siggy/gate-management",title:"Walkthrough guide for Gate Management with CLI",description:"The walkthrough guide assumes you have Statsig CLI installed and configured with the right API keys.  Please refer to the Statsig CLI Overview to get started",source:"@site/docs/siggy/gate-management.mdx",sourceDirName:"siggy",slug:"/statsigcli/gate-management",permalink:"/statsigcli/gate-management",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/siggy/gate-management.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Walkthrough guide for Gate Management with CLI",sidebar_label:"Example: Gate Management",slug:"/statsigcli/gate-management",keywords:["owner:vijaye"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"api",previous:{title:"CLI Commands",permalink:"/statsigcli/commands"}},o={},g=[{value:"Create a new gate",id:"create-a-new-gate",level:2},{value:"Update new rules",id:"update-new-rules",level:2},{value:"Check if the gate works",id:"check-if-the-gate-works",level:2},{value:"List all gates",id:"list-all-gates",level:2},{value:"Delete gate",id:"delete-gate",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsxs)(t.p,{children:["The walkthrough guide assumes you have Statsig CLI installed and configured with the right API keys.  Please refer to the ",(0,a.jsx)(t.a,{href:"/statsigcli",children:"Statsig CLI Overview"})," to get started"]})}),"\n",(0,a.jsx)(t.h2,{id:"create-a-new-gate",children:"Create a new gate"}),"\n",(0,a.jsxs)(t.p,{children:["You can create a new empty gate with no rules by calling ",(0,a.jsx)(t.code,{children:"create"})," command on gates"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"$ siggy gates create my-first-gate\n\n# Response\n{\n  id: 'my-first-gate',\n  name: 'my-first-gate',\n  description: '',\n  idType: 'userID',\n  lastModifierID: '..',\n  ...\n}\n"})}),"\n",(0,a.jsx)(t.h2,{id:"update-new-rules",children:"Update new rules"}),"\n",(0,a.jsxs)(t.p,{children:["New rules could be updated by passing a rule object to the ",(0,a.jsx)(t.code,{children:"update"})," command. This will replace the existing rules as a whole."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ siggy gates update my-first-gate \'{\n    "rules": [\n      {\n        "name": "all employees",\n        "passPercentage": 100,\n        "conditions": [\n          {\n            "type": "email",\n            "operator": "str_contains_any",\n            "targetValue": [\n              "@statsig.com"\n            ]\n          }\n        ]\n      }\n    ]\n  }\'\n\n# Response\n{\n  id: \'my-first-gate\',\n  name: \'my-first-gate\',\n  ...\n  rules: [\n    {\n      id: \'729Qb4MVDs0YrIjNR5aOSm\',\n      name: \'all employees\',\n      passPercentage: 100,\n      conditions: [\n        {\n          type: \'email\',\n          targetValue: [ \'@statsig.com\' ],\n          operator: \'str_contains_any\'\n        }\n      ],\n    }\n  ],\n  ...\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"check-if-the-gate-works",children:"Check if the gate works"}),"\n",(0,a.jsx)(t.p,{children:"When the Client API key is configured correctly, you can invoke the gate for different users and validate the gate works"}),"\n",(0,a.jsx)(t.p,{children:"Passing in no user object will create an empty user object and evaluate the gate against that"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"$ siggy gates check my-first-gate\n\n# Response\n{\n  name: 'my-first-gate',\n  value: false,\n  rule_id: 'default',\n  group_name: null\n}\n"})}),"\n",(0,a.jsxs)(t.p,{children:["You can also pass a user object crafted as JSON using the ",(0,a.jsx)(t.code,{children:"--user"})," option"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"$ siggy gates check my-first-gate --user '{ \"email\": \"siggy@statsig.com\" }'\n\n# Response\n{\n  name: 'my-first-gate',\n  value: true,\n  rule_id: '729Qb4MVDs0YrIjNR5aOSm',\n  group_name: null\n}\n"})}),"\n",(0,a.jsx)(t.h2,{id:"list-all-gates",children:"List all gates"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"$  siggy gates list\n\n# Response\n[\n  {\n    id: 'my-first-gate',\n    name: 'my-first-gate',\n    lastModifiedTime: 1718222637700,\n    lastModifierName: 'CONSOLE API'\n  },\n  {\n    id: 'from_siggy',\n    name: 'from_siggy',\n    lastModifiedTime: 1717807438090,\n    lastModifierName: 'CONSOLE API'\n  }\n  ...\n]\n"})}),"\n",(0,a.jsx)(t.h2,{id:"delete-gate",children:"Delete gate"}),"\n",(0,a.jsx)(t.p,{children:"You could also delete this gate via the CLI.  By default there is a confirmation prompt that requires interaction."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"$ siggy gates delete my-first-gate\n\n# Response\nAre you sure you want to delete gate (id: my-first-gate)? (y/n): \n"})}),"\n",(0,a.jsxs)(t.p,{children:["You could override it by using the ",(0,a.jsx)(t.code,{children:"--force"})," option."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"$ siggy gates delete my-first-gate --force\n\n# Response\nGate deleted successfully.\n"})})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>l});var a=n(96540);const s={},i=a.createContext(s);function r(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);