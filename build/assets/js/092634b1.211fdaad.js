"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[62884],{30291:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var n=i(74848),s=i(28453);const r={title:"BigQuery",keywords:["owner:tim"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},o=void 0,a={id:"data-warehouse-ingestion/bigquery",title:"BigQuery",description:"Overview",source:"@site/docs/data-warehouse-ingestion/bigquery.mdx",sourceDirName:"data-warehouse-ingestion",slug:"/data-warehouse-ingestion/bigquery",permalink:"/data-warehouse-ingestion/bigquery",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/data-warehouse-ingestion/bigquery.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"BigQuery",keywords:["owner:tim"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud",previous:{title:"Data Warehouse Ingestion",permalink:"/data-warehouse-ingestion/introduction"},next:{title:"Redshift",permalink:"/data-warehouse-ingestion/redshift"}},c={},d=[{value:"Overview",id:"overview",level:2},{value:"Grant Permissions to Statsig&#39;s Service Account",id:"grant-permissions-to-statsigs-service-account",level:2},{value:"BigQuery Project ID",id:"bigquery-project-id",level:2}];function u(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsx)(t.p,{children:"To set up connection with BigQuery, we need the following:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Granting Permissions to a Statsig-owned Service Account"}),"\n",(0,n.jsx)(t.li,{children:"Your BigQuery Project ID"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Start by enabling the BigQuery source under Metrics -> Ingestion -> Add Source."}),"\n",(0,n.jsx)(t.h2,{id:"grant-permissions-to-statsigs-service-account",children:"Grant Permissions to Statsig's Service Account"}),"\n",(0,n.jsx)(t.p,{children:"You need to grant some permissions for Statsig from your Google Cloud console in order for us to access your BigQuery data."}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["In your BigQuery's ",(0,n.jsx)(t.a,{href:"https://console.cloud.google.com/iam-admin/",children:"IAM & Admin settings"}),", add the Statsig service account you copied in the Statsig Console as a new principal for your project, and give it the following roles:","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"BigQuery User"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://user-images.githubusercontent.com/87334575/198107543-b3bcc19a-3231-4128-be42-a5dd52fb168a.png",alt:"BigQuery IAM permissions configuration"})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsxs)(t.ol,{start:"2",children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Navigate to your ",(0,n.jsx)(t.a,{href:"https://console.cloud.google.com/bigquery",children:"BigQuery SQL Workspace"}),', choose the dataset, click on "+ Sharing" -> "Permissions" -> "Add Principal" to give the same Statsig service account "BigQuery Data Viewer" role on the dataset.']}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://user-images.githubusercontent.com/77478330/175113611-90e618ad-f6e8-4005-933e-2a5660a14466.png",alt:"BigQuery dataset permissions setup"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Now the service account should have the required permissions to export data from this dataset."}),"\n",(0,n.jsx)(t.h2,{id:"bigquery-project-id",children:"BigQuery Project ID"}),"\n",(0,n.jsx)(t.p,{children:"Find your BigQuery Project ID below"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Click on your Project Dropdown inside your Cloud Console."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://user-images.githubusercontent.com/108023879/187518062-7027f682-d1fd-445e-9947-897e44ea929e.png",alt:"Frame 4"})}),"\n",(0,n.jsxs)(t.ol,{start:"2",children:["\n",(0,n.jsx)(t.li,{children:"Copy and paste relevant Project ID from the modal pop-up."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://user-images.githubusercontent.com/108023879/187517901-9e7fd237-8325-4254-a1bd-c75f0ea08497.png",alt:"Frame 5"})})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>a});var n=i(96540);const s={},r=n.createContext(s);function o(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);