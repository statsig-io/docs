"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[55426],{97965:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var s=t(74848),i=t(28453);const r={title:"Deprecation Notices",sidebar_label:"Deprecation Notices",keywords:["owner:brock"],last_update:{date:new Date("2025-09-23T00:00:00.000Z")}},o=void 0,a={id:"server/deprecation-notices",title:"Deprecation Notices",description:"Direct Initialization API Access for Server SDKs, October 31, 2025",source:"@site/docs/server/deprecation-notices.mdx",sourceDirName:"server",slug:"/server/deprecation-notices",permalink:"/server/deprecation-notices",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/server/deprecation-notices.mdx",tags:[],version:"current",lastUpdatedAt:17585856e5,frontMatter:{title:"Deprecation Notices",sidebar_label:"Deprecation Notices",keywords:["owner:brock"],last_update:{date:"2025-09-23T00:00:00.000Z"}},sidebar:"api",previous:{title:"Flask A/B Tests",permalink:"/guides/python-flask-abtests"},next:{title:"SDK Support Policy",permalink:"/sdks/support"}},c={},l=[{value:"Direct Initialization API Access for Server SDKs, October 31, 2025",id:"direct-initialization-api-access-for-server-sdks-october-31-2025",level:2},{value:"What&#39;s changing?",id:"whats-changing",level:4},{value:"Change required",id:"change-required",level:4},{value:"New Method for Country Resolution",id:"new-method-for-country-resolution",level:2},{value:"Potential Changes in Client Evaluations",id:"potential-changes-in-client-evaluations",level:3},{value:"Conflicts with Server-Side Checks",id:"conflicts-with-server-side-checks",level:3},{value:"Async Evaluation Functions",id:"async-evaluation-functions",level:2},{value:"Reason",id:"reason",level:4},{value:"Example",id:"example",level:4},{value:"SDKs",id:"sdks",level:4}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"direct-initialization-api-access-for-server-sdks-october-31-2025",children:"Direct Initialization API Access for Server SDKs, October 31, 2025"}),"\n",(0,s.jsx)(n.h4,{id:"whats-changing",children:"What's changing?"}),"\n",(0,s.jsx)(n.p,{children:"Until mid-2024, Statsig's Server SDKs downloaded configuration values directly from Statsig servers upon startup. Since then, we've transitioned to hosting these configuration files on a secure CDN, which greatly reduces initialization time and increases reliability (we use Cloudflare, which has near-zero downtime.) As we've transitioned to this approach, we've made the decision to deprecate direct API access, which is only available in long outdated SDK versions. We're asking all customers to discontinue using these SDK versions, and upgrade to a newer version."}),"\n",(0,s.jsx)(n.h4,{id:"change-required",children:"Change required"}),"\n",(0,s.jsx)(n.p,{children:"The only change required is a minor SDK version bump, no code changes are needed. You'll need to bump your SDK to at least:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"go-sdk"})," 1.30.3"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"java-server"})," 1.9.0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"py-server"})," 0.28.0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ruby-server"})," 1.29.0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"statsig-node"})," 5.25.0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:".NET"})," 1.29.0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Node-lite"})," 0.5.0"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"We're asking all customers to make this change by October 31st, 2025."}),"\n",(0,s.jsx)(n.h2,{id:"new-method-for-country-resolution",children:"New Method for Country Resolution"}),"\n",(0,s.jsxs)(n.p,{children:["Starting December 9th, 2024, Statsig will ",(0,s.jsx)(n.strong,{children:"switch to a method of resolving IP Addresses to country codes in our client SDKs with greatly improved accuracy"}),", which may result in different gate behavior for some users. Statsig currently depends on a ",(0,s.jsx)(n.a,{href:"https://github.com/statsig-io/ip3country",children:"homegrown package"})," for country resolution on both Client and Server SDKs, which lacks IPV6 support. To resolve countries without bloating our SDK sizes, we'll begin to rely on our cloud provider's country resolution when serving requests to the /initialize endpoint."]}),"\n",(0,s.jsx)(n.h3,{id:"potential-changes-in-client-evaluations",children:"Potential Changes in Client Evaluations"}),"\n",(0,s.jsx)(n.p,{children:"This may result in different evaluations for some client-side checks, which will be significantly more accurate and complete than the previous method. You may see a greater number of users passing country rules, as this new method will begin to resolve countries for IPV6 users, which now represent a large share of many customers' user base."}),"\n",(0,s.jsx)(n.h3,{id:"conflicts-with-server-side-checks",children:"Conflicts with Server-Side Checks"}),"\n",(0,s.jsxs)(n.p,{children:["If you check some configs on both the Client and Server side, it is possible that a small number of users may pass targeting on the client side and fail on the server, or vice versa, as we'll continue to rely on ",(0,s.jsx)(n.a,{href:"https://github.com/statsig-io/ip3country",children:"IP3Country"})," for server-side country resolution when a country is not explicitly provided on the ",(0,s.jsx)(n.code,{children:"StatsigUser"}),' object. We recommend using your cloud provider\'s country resolution (often available in a load balancer) and setting that as the "country" field on the ',(0,s.jsx)(n.code,{children:"StatsigUser"})," object.  This applies to any evaluations for gates/configs/experiments/layers, and also for ",(0,s.jsx)(n.code,{children:"getClientInitializeResponse"})," if you are generating the payload for your client sdk."]}),"\n",(0,s.jsx)(n.h2,{id:"async-evaluation-functions",children:"Async Evaluation Functions"}),"\n",(0,s.jsx)(n.h4,{id:"reason",children:"Reason"}),"\n",(0,s.jsx)(n.p,{children:"Server SDKs were originally designed for maximum backwards compatibility.\nThis meant that if a Server SDK did not contain support for an operator or configuration,\nit would fallback to hitting Statsig's servers, ensuring a valid result would be returned.\nThis is why all top level evaluation related functions were asynchronous."}),"\n",(0,s.jsx)(n.p,{children:"In practice however, this is seldom required, so we no longer feel the trade off\nfor sync vs async functions is worth it and will be removing the asynchronous functions in newer releases."}),"\n",(0,s.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'var result = await Statsig.checkGate("my_gate"); // Bad\n// For node v6.0.0\nvar result = Statsig.checkGate("my_gate") // Good\n// For .Net and Java\nvar result = Statsig.checkGateSync("my_gate"); // Good\n\n'})}),"\n",(0,s.jsx)(n.h4,{id:"sdks",children:"SDKs"}),"\n",(0,s.jsxs)(n.p,{children:[".NET Server - ",(0,s.jsx)(n.a,{href:"https://github.com/statsig-io/dotnet-sdk/releases/tag/v1.20.0",children:"v1.20.0"})]}),"\n",(0,s.jsxs)(n.p,{children:["NodeJS Server - ",(0,s.jsx)(n.a,{href:"https://github.com/statsig-io/node-js-server-sdk/releases/tag/v5.10.0",children:"v5.10.0"})]}),"\n",(0,s.jsxs)(n.p,{children:["Java/Kotlin Server - ",(0,s.jsx)(n.a,{href:"https://github.com/statsig-io/java-server-sdk/releases/tag/v1.12.0",children:"v1.12.0"})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(96540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);