"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[20968],{7991:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>g,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var s=n(74848),a=n(28453);const i={sidebar_label:"Reusable Targeting (Segments)",title:"Reusable Targeting with User Segments",displayed_sidebar:"cloud",keywords:["owner:shubham"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},r=void 0,o={id:"guides/first-segment",title:"Reusable Targeting with User Segments",description:"User Segments allow you to predefine targeting groups for re-use in Feature Gates and Dynamic Configs. Think of it as a reusable macro for a set of users.",source:"@site/docs/guides/first-segment.mdx",sourceDirName:"guides",slug:"/guides/first-segment",permalink:"/guides/first-segment",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/guides/first-segment.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{sidebar_label:"Reusable Targeting (Segments)",title:"Reusable Targeting with User Segments",displayed_sidebar:"cloud",keywords:["owner:shubham"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud"},c={},l=[{value:"Step 1: Creating a Segment",id:"step-1-creating-a-segment",level:2},{value:"Step 2: Using a segment",id:"step-2-using-a-segment",level:2},{value:"Step 3: Test it!",id:"step-3-test-it",level:2}];function d(e){const t={admonition:"admonition",br:"br",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:'User Segments allow you to predefine targeting groups for re-use in Feature Gates and Dynamic Configs. Think of it as a reusable macro for a set of users.\nNeed an easy way to roll things out to just your team/org/company? Create a segment, and use a "User is in Segment" or "User is not in Segment" condition\nin a Feature Gate or Dynamic Config. Let\'s go through an example. This guide will walk through creating an example segment to identify our internal users, and then using that segment in a new feature we are building.'}),"\n",(0,s.jsx)(t.h2,{id:"step-1-creating-a-segment",children:"Step 1: Creating a Segment"}),"\n",(0,s.jsx)(t.p,{children:'Start by navigating to the "Segments" tab in the console:'}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74584483/175979144-57bbb812-5ea0-429b-b57f-1634b16c5e32.png",alt:"Screen Shot 2022-06-27 at 8 39 00 AM"})}),"\n",(0,s.jsx)(t.p,{children:'Then click "Create New." Lets call it "Internal Stakeholders:"'}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74584483/175979762-f19a7a10-87ae-47c2-bddd-eaef26137385.png",alt:"Screen Shot 2022-06-27 at 8 42 18 AM"})}),"\n",(0,s.jsx)(t.p,{children:"There are two types of segments:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:'"Conditional Segments" which operate on a similar set of conditions as Feature Gates and Dynamic Configs'}),"\n",(0,s.jsx)(t.li,{children:"ID Lists, which allow you to predetermine larger lists of userIDs or a particular customID to pass the segment."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:'For now, lets create a conditional segment, and click "Create."'}),"\n",(0,s.jsx)(t.p,{children:"We will start by adding a condition to target people on our internal environments:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74584483/175980491-beb329d2-2bbe-4e39-b493-0f59cdb9a66d.png",alt:"Screen Shot 2022-06-27 at 8 44 36 AM"})}),"\n",(0,s.jsx)(t.p,{children:"Notice that unlike a Feature Gate, you cannot configure the pass percentage for a rule.  Segments are meant to represent all of the users matching a certain set of rules, but when you create a Feature Gate rule based on a segment, you can configure the pass percentage there.  We will get there in a moment."}),"\n",(0,s.jsx)(t.p,{children:'Next, lets add another condition to that same rule. Click "Add more conditions", and then use an "email" "contains any of" condition to target internal employees:'}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74584483/175982618-13336e7f-9e72-4c73-9e58-81f86a7fa6a9.png",alt:"Screen Shot 2022-06-27 at 8 57 15 AM"})}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["Adding an additional condition to the same rule enforces that both pass - the conditions are evaluated as an AND operation.",(0,s.jsx)(t.br,{}),"\n","If you wish to create multiple conditions where any of them can pass as an OR operation, you can add a new rule."]})}),"\n",(0,s.jsx)(t.p,{children:'Don\'t forget to "Save Changes" after adding those! Your Segment should look like this:'}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74584483/175982596-1ed7ea2f-40b5-4773-be7f-4765e889c3d0.png",alt:"Screen Shot 2022-06-27 at 8 55 37 AM"})}),"\n",(0,s.jsx)(t.h2,{id:"step-2-using-a-segment",children:"Step 2: Using a segment"}),"\n",(0,s.jsx)(t.p,{children:'Now, lets make a gate for our new feature, "Landing Page Redesign". Navigate to "Feature Gates" and click "Create New"'}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74584483/175983618-973a9f36-e1c0-4fd6-9b4a-b97fe658156f.png",alt:"Screen Shot 2022-06-27 at 8 53 04 AM"})}),"\n",(0,s.jsx)(t.p,{children:"Since this feature isn't ready for the public, lets gate it to our internal stakeholders using the Segment we just created."}),"\n",(0,s.jsx)(t.p,{children:'Click "Add New Rule"'}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74584483/175983743-cfe46147-2934-4393-b4aa-3335e55c3502.png",alt:"Screen Shot 2022-06-27 at 8 53 33 AM"})}),"\n",(0,s.jsx)(t.p,{children:'Again, remember to "Save Changes"'}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74584483/175983838-e40b4284-af26-4e40-83fc-f2350d9d6fb1.png",alt:"Screen Shot 2022-06-27 at 8 53 44 AM"})}),"\n",(0,s.jsx)(t.h2,{id:"step-3-test-it",children:"Step 3: Test it!"}),"\n",(0,s.jsxs)(t.p,{children:["Fill in the test gate console with any random user input. You won't be able to get this gate to pass until you pass in a user with an email ending\nin ",(0,s.jsx)(t.code,{children:"statsig.com"})," or ",(0,s.jsx)(t.code,{children:"statsig.io"})," AND a ",(0,s.jsx)(t.code,{children:"development"})," or ",(0,s.jsx)(t.code,{children:"staging"})," environment like this. If you remove either of those, you should see it fail."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"{\n  email: 'tore@statsig.com',\n  statsigEnvironment: {\n    tier: \"development\"\n  }\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74584483/127705951-6813bb6e-0ae7-44a2-8db3-421e11e54c5c.png",alt:"Screen Shot 2021-07-30 at 1 01 21 PM"})}),"\n",(0,s.jsx)(t.p,{children:"Now you can reuse this Segment in as many Feature Gates or Dynamic Configs as you want to gate your internal features while they are under development."})]})}function g(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var s=n(96540);const a={},i=s.createContext(a);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);