"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[95982],{50593:(e,n,t)=>{t.d(n,{y0:()=>s});var i=t(74848),r=t(28453);const s=({type:e})=>{const n={code:"code",div:"div",small:"small",span:"span",...(0,r.R)()},t="client"===e?"client":"secret";return(0,i.jsxs)(n.span,{children:["Pass true to this option to turn on Local Mode for the SDK, which will stop the SDK from issuing any network requests and make it only operate with only local overrides (If supported) and cache.",(0,i.jsx)(n.div,{children:(0,i.jsxs)(n.small,{children:['Note: Since no network requests will be made, a dummy SDK key starting with "',t,'-" can be used. (eg ',(0,i.jsxs)(n.code,{children:['"',t,'-key"']}),")"]})})]})}},26627:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>o,default:()=>u,frontMatter:()=>a,toc:()=>c});var i=t(74848),r=t(28453);var s=t(21122);const a={},o=void 0,l=function({repo:e}){const n={a:"a",div:"div",...(0,r.R)()};return(0,i.jsx)(n.div,{style:{display:"flex"},children:(0,i.jsxs)(n.a,{href:e,style:{fontSize:14,fontWeight:"600",color:"var(--ifm-color-content)",display:"flex",alignItems:"center"},children:[(0,i.jsx)(s.A,{alt:"Docusaurus themed image",sources:{light:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2lsVFUUvjMWirYUkS5BXApUa2vd6gL+wAWjoP5RiW2EUBajAiqSuPADQ0w1UUQTrcFAUUSJEKriEuMWFKuJIElFSS24YNpQK6WoBbuAktbva880M8O8vnfevJm+CSf5cme599xzvnfffffce17AJFjycnLzUVwDXAgUAucBY4BMIEOqdQIdwJ/Az4J64OvWtoONibQvkACHgyiuBe4CbgLOjVNlE/AZsAmoBSE9viQAjueieBCYC5yVoAvWDKwHqkBEmy8IgON09lHgXmCESY4cBaqBlSCieUgIgOPDUCwBngBOM0MjXdL/CyDiv6QRAOcvR7EBKDL+kD3AbJBQl1AC4DjrLwaeBYYbf8m/ciu+BCJ6PScAzp+K4nXgTuNveQuYAxK6PSMAzo9C8TFwtUkN2Q7cDBIOx02AOP8FUGpSSzgf3GBHQsDGec7unwOTTWrKDiGhS02ATHjvALeb1JZ3gRlWE+MpVq0yMzIekRk/1YWP6o7Ors5vHI8AXH1Odl8BaTbKrwd4j10MTAduS8JqkKvA94BPgN0A56htNm2OMyDDKNhuSwCcT5dIrMBG6S4oLI1qezqKBcBjwGiPHW8HVgCr0W97VL/fobjMpv2vQAnaHgv/MdYVXurAeSNPhggRw56BQatRVgL3A0H5+xDwI8Dw9g/5Hlq+clmdDYwF8iV0zpb/GP2tApZHOx4m2xwQUCC+VVqOABg+AUUDkO6AgHkwaL2DJXORxPVNylUnw+gpXObaLXFRlxHoaw7U8uoXQ99vViNgqUPnKQfsKojhdW7GuxDW5JUtIuni432hH4JhLJ7Dq6qwcZiPZnpNXDJPfI0kQEJbjVM5PiIgW3nhlkQQILH9LGWnV/iIAK0ts8TngREwDchVKrnKRwRobckVnwcIKFcq4ONrkY8IWBT2SHUq5eEE3Khs/CRm6Z1+8V5sqVQ26/M5gHuhSJ79TqUFmIhOj/ppwQ8/Rshqb5yiWXFQFhsaWeU352UU0KaXlc2mBI1+Y3OzjyO/Gm2kSAIKFQ2awfQ+v3oP23gL/K5oUhh0GPiEZG8KxP97FHULgsqwtTUFCDioqHsGCRipaHA8BQjQrAcyg4roj5KVAgSMUtRNDyqVj0wBAlQ2koBuRf3xKUBAvqJuN1eCrYpAiHNAltNjpyFYDfL47oix38wdmDA5AvYr+kjzWRgcLVcqnKfsJwGNyk5u9TEBtyjrNwaVgRClTPKA/Db8aVOZslkDG2nD2vEuOkqGlLmYpHcGJLlJu8LjtvJFgx06Jvnq8xC33gUBeUE4waWjduua5wdVPrr6VS6cr6PvoXv5Ixed3g3mH/fB1V9OW1w07fM5IEouUEZR4bIWWJzsTRJ55r8I3ONSRRFs3hsIU8hkgkkulf0CPAx8qElQcuk4beYp9Epgoks138LOvqSPgfyAzIwMZlnFSobgIegc4H3gH6AkxmKDub9Mjb0DeoYDrZ1dne0eO14AvfPx8RXgAYaycahbBvt+GLgFpIM0md3PjqrMTMxpYKxB6p1v+s/n7bbSuMCqldmZyc+fRh9ND+IsAxrmG3C3qtj0J1uP84hLrnwnwJbjEQRIxzw0XB2jER93C9Bog9TjsRgzLpzuJr0BzHV6e8gwf9XoziqdCv1YE/oSTQBHwfem/3w+5syPxuukLtfdO0zk+WIs+YuPKLQ7ohzyWTIix3joPPMTLg1d/Yg5gIL7ogf32U/4WGGhYDr+34J6bUALPpPA62w6XYMOP9BaCv3HoD/PeJubODN6U/eEq4cKTIurttpBAZ4L+87TmKdtOt0ah8FbPXS+WnyLEKskqUy5FaweM5dA2e6w+pNkZuajhfMD3/zYBfDKb3Y6+cWwgytOL7bh98nQ73BEgHReIvd4Roy/a6Cs3CRYJOnq7zjV8HWcybC33mpLLKZIA84FPRYhcSokUNL2Civnjd0MjoZbUCy0+PtNkDDD5wQsFB8sxWm2+GJZd8eSt4HnZXnZ66Nb4CHYYxuxat4XmI1inbHeczskq77DMrK4z8AgK3+Q/L5EEMBn/PzQos0zAsQgvg5XY3TpNKOTSAD3NsrQX63TBqq9PVHM9NgvfXi/06ZSjfNqAoQEHj9Pled+pw8cpw2co6aKbSoJxDlJnYniKdP/sqSVrrEw7IBL/TnG+rSXEy7fYVoG/S1uffDkzVEYypB1qewJRCdb5rp9yxN6mQDZFmOS2wisCIXo8Yin7w7LiKiQEcFYfhOMnBmnzo1CLIO09Qyt47niJxDQ29trTmY56Qn4X4ABAFR7IoDmVT5NAAAAAElFTkSuQmCC",dark:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII="},style:{height:18,width:18,marginRight:6}}),e.replace("https://github.com/","")]})})},c=[];function d(e){return(0,i.jsx)(i.Fragment,{})}function u(e={}){return(0,i.jsx)(l,{...e,children:(0,i.jsx)(d,{...e})})}},96747:(e,n,t)=>{t.d(n,{PG:()=>u});var i=t(74848),r=t(28453);function s(e){return(0,i.jsx)("div",{style:{height:4}})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(s,{...e})}):s()}var o=t(96540),l=(t(65848),t(5338));function c(){let e=null;try{const n=document.querySelector(".theme-last-updated > b > time");n&&null!=n.dateTime&&(e=new Date(n.dateTime).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}))}catch(n){}return(0,i.jsx)("div",{onClick:e=>e.preventDefault(),style:{cursor:"default",padding:"10px 20px",backgroundColor:"var(--ifm-navbar-background-color)",borderRadius:10,fontSize:12,color:"var(--ifm-color-content)"},children:(0,i.jsx)("a",{onClick:()=>window.open("https://statsig.com/community?ref=statsig_docs_toc","_blank").focus(),href:"#",children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)("img",{src:"/img/slack.webp",style:{height:15,width:15}}),(0,i.jsx)("span",{style:{marginLeft:8},children:"Stuck? Ask Statsig on Slack"})]})})})}function d(){return(0,o.useEffect)((()=>{const e=document.querySelector("#sdk-toc-header");if(e?.getAttribute("x-last-updated")){l.createRoot(document.getElementById("sdk-toc-header")).render((0,i.jsx)(c,{}))}}),[]),(0,i.jsx)(i.Fragment,{})}const u=e=>{const n=e.sections,t=[];t.push({value:`<div id="sdk-toc-header" x-last-updated="${e.lastSDKDocsUpdate}"><div style="min-height: 65px; cursor: default; padding: 10px 20px; background-color: var(--ifm-navbar-background-color); border-radius: 10px; font-size: 12px; margin-bottom: 15px; color: var(--ifm-color-content);">...</div></div>`,id:"0",level:2});const r=n.map((([e,n],r)=>{const s=e.tocFilter,l=e.toc.filter((e=>!0!==s?.includes(e.id)));return t.push(...l),(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(e.default,{...n}),(0,i.jsx)(a,{})]},r)}));return{result:[(0,i.jsx)(d,{},"header"),...r],toc:t}}},41359:(e,n,t)=>{t.d(n,{km:()=>s});var i=t(74848),r=t(28453);const s=({version:e,includeAboveVersion:n=!0})=>{const t={span:"span",...(0,r.R)()};if(!e)return null;const s=n?"+":"";return(0,i.jsxs)(t.span,{style:{padding:"5px 10px",color:"var(--ifm-color-content)",backgroundColor:"var(--ifm-navbar-background-color)",borderRadius:30,marginLeft:10},children:["v",e,s]})}},98026:(e,n,t)=>{t(74848),t(11470),t(19365)},77572:(e,n,t)=>{t.r(n),t.d(n,{BreakingChangesSection:()=>Fn,ClientInitResponse:()=>An,DataStore:()=>Tn,EnvironmentSpecific:()=>Rn,FAQ:()=>jn,GettingStarted:()=>fn,Instances:()=>Nn,LocalOverrides:()=>Dn,ManualExposures:()=>bn,ProxyConfigs:()=>Cn,Reference:()=>In,Repository:()=>mn,SDKMonitoring:()=>Ln,Shutdown:()=>kn,StatsigOptions:()=>wn,StatsigUser:()=>Sn,UserPersistentStorage:()=>En,WorkingWith:()=>yn,assets:()=>xn,contentTitle:()=>pn,default:()=>On,frontMatter:()=>gn,metadata:()=>vn,toc:()=>Mn});var i={};t.r(i),t.d(i,{contentTitle:()=>I,default:()=>R,frontMatter:()=>D,toc:()=>T});var r={};t.r(r),t.d(r,{contentTitle:()=>N,default:()=>M,frontMatter:()=>C,toc:()=>L});var s={};t.r(s),t.d(s,{contentTitle:()=>B,default:()=>V,frontMatter:()=>G,toc:()=>U});var a={};t.r(a),t.d(a,{contentTitle:()=>z,default:()=>Y,frontMatter:()=>_,toc:()=>J});var o={};t.r(o),t.d(o,{contentTitle:()=>H,default:()=>X,frontMatter:()=>Q,toc:()=>Z});var l={};t.r(l),t.d(l,{Badge:()=>ie,contentTitle:()=>te,default:()=>ae,frontMatter:()=>ne,toc:()=>re});var c={};t.r(c),t.d(c,{contentTitle:()=>le,default:()=>ue,frontMatter:()=>oe,toc:()=>ce});var d={};t.r(d),t.d(d,{contentTitle:()=>pe,default:()=>me,frontMatter:()=>ge,toc:()=>ve});var u={};t.r(u),t.d(u,{contentTitle:()=>ye,default:()=>be,frontMatter:()=>je,toc:()=>Se});var h={};t.r(h),t.d(h,{contentTitle:()=>Ae,default:()=>Te,frontMatter:()=>ke,toc:()=>De});var g={};t.r(g),t.d(g,{contentTitle:()=>Re,default:()=>Le,frontMatter:()=>Ee,toc:()=>Ce});var p={};t.r(p),t.d(p,{contentTitle:()=>Me,default:()=>Ge,frontMatter:()=>Fe,toc:()=>Pe});var v={};t.r(v),t.d(v,{contentTitle:()=>Ue,default:()=>_e,frontMatter:()=>Be,toc:()=>Ke});var x={};t.r(x),t.d(x,{contentTitle:()=>Je,default:()=>Qe,frontMatter:()=>ze,toc:()=>We});var m={};t.r(m),t.d(m,{contentTitle:()=>Ze,default:()=>$e,frontMatter:()=>He,toc:()=>qe});var f={};t.r(f),t.d(f,{contentTitle:()=>nn,default:()=>sn,frontMatter:()=>en,toc:()=>tn});var j={};t.r(j),t.d(j,{MajorUpgradeList:()=>cn,contentTitle:()=>ln,default:()=>hn,frontMatter:()=>on,toc:()=>dn});var y=t(74848),S=t(28453),w=t(26627);const b=[];function k(e){return(0,y.jsx)("div",{style:{height:4}})}function A(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(k,{...e})}):k()}const D={},I=void 0,T=[{value:"Installation",id:"installation",level:2},...b,{value:"Initialize the SDK",id:"initialize-the-sdk",level:2},...b];function E(e){const n={a:"a",admonition:"admonition",code:"code",div:"div",h2:"h2",p:"p",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(y.Fragment,{children:e.preamble&&(0,y.jsx)(n.div,{style:{marginTop:20},children:e.preamble})}),"\n",(0,y.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,y.jsx)("div",{children:e.install}),"\n",(0,y.jsx)(A,{}),"\n",(0,y.jsx)(n.h2,{id:"initialize-the-sdk",children:"Initialize the SDK"}),"\n",(0,y.jsxs)(n.p,{children:["After installation, you will need to initialize the SDK using a ",(0,y.jsx)(n.a,{href:"https://console.statsig.com/api_keys",children:"Server Secret Key from the Statsig console"}),"."]}),"\n",(0,y.jsx)(n.admonition,{type:"info",children:(0,y.jsx)(n.p,{children:"Do NOT embed your Server Secret Key in client-side applications, or expose it in any external-facing documents. However, if you accidentally expose it, you can create a new one in the Statsig console."})}),"\n",(0,y.jsx)(y.Fragment,{children:e.skipStatsigOptionsDescription||(0,y.jsxs)(n.div,{children:["There is also an optional parameter named ",(0,y.jsx)(n.code,{children:"options"})," that allows you to pass in a ",(0,y.jsx)(n.a,{href:"#statsig-options",children:"StatsigOptions"})," to customize the SDK."]})}),"\n",(0,y.jsx)("div",{children:e.initialize}),"\n",(0,y.jsx)(y.Fragment,{children:e.skipInitializeDescription||(0,y.jsxs)(n.div,{children:[(0,y.jsx)(n.code,{children:"initialize"})," will perform a network request. After"," ",(0,y.jsx)(n.code,{children:"initialize"})," completes, virtually all SDK operations will be synchronous (See"," ",(0,y.jsx)(n.a,{href:"https://blog.statsig.com/evaluating-feature-gates-in-the-statsig-sdk-a6f8881a1ad8",children:"Evaluating Feature Gates in the Statsig SDK"}),"). The SDK will fetch updates from Statsig in the background, independently of your API calls."]})}),"\n",(0,y.jsx)(A,{})]})}function R(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(E,{...e})}):E(e)}const C={},N=void 0,L=[{value:"FAQ",id:"faq",level:2},{value:"How do I run experiments for logged out users?",id:"logged-out-experiments",level:4}];function F(e){const n={a:"a",h2:"h2",h4:"h4",p:"p",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,y.jsx)(n.h4,{id:"logged-out-experiments",children:"How do I run experiments for logged out users?"}),"\n",(0,y.jsxs)(n.p,{children:["See the guide on ",(0,y.jsx)(n.a,{href:"/guides/first-device-level-experiment",children:"device level experiments"})]}),"\n",(0,y.jsx)("div",{children:e.faqs})]})}function M(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(F,{...e})}):F(e)}function P(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",p:"p",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),"\n",(0,y.jsxs)(n.admonition,{title:"Asynchronous APIs",type:"info",children:[(0,y.jsxs)(n.p,{children:["We mentioned earlier that after calling ",(0,y.jsx)(n.code,{children:"initialize"})," most SDK APIs would run synchronously, so why are ",(0,y.jsx)(n.code,{children:"getConfig"})," and ",(0,y.jsx)(n.code,{children:"checkGate"})," asynchronous?"]}),(0,y.jsxs)(n.p,{children:["The main reason is that older versions of the SDK ",(0,y.jsx)(n.em,{children:"might"})," not know how to interpret new types of gate conditions. In such cases the SDK will make an asynchronous call to our servers to fetch the result of a check. This can be resolved by upgrading the SDK, and we will warn you if this happens."]}),(0,y.jsxs)(n.p,{children:["For more details, read our ",(0,y.jsx)(n.a,{href:"https://blog.statsig.com/evaluating-feature-gates-in-the-statsig-sdk-a6f8881a1ad8",children:"blog post about SDK evaluations"}),".\nIf you have any questions, please ask them in our ",(0,y.jsx)(n.a,{href:"https://github.com/statsig-io/statsig-feedback/issues",children:"Feedback Repository"}),"."]})]})]})}function O(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(P,{...e})}):P(e)}const G={},B=void 0,U=[{value:"Working with the SDK",id:"working-with-the-sdk",level:2},{value:"Checking a Feature Flag/Gate",id:"checking-a-feature-flaggate",level:3},{value:"Reading a Dynamic Config",id:"reading-a-dynamic-config",level:3},{value:"Getting a Layer/Experiment",id:"getting-a-layerexperiment",level:3},{value:"Logging an Event",id:"logging-an-event",level:3},{value:"Retrieving Feature Gate Metadata",id:"retrieving-feature-gate-metadata",level:3}];function K(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",strong:"strong",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"working-with-the-sdk",children:"Working with the SDK"}),"\n",(0,y.jsx)(n.h3,{id:"checking-a-feature-flaggate",children:"Checking a Feature Flag/Gate"}),"\n",(0,y.jsxs)(n.p,{children:["Now that your SDK is initialized, let's fetch a ",(0,y.jsx)(n.a,{href:"/feature-flags/overview",children:(0,y.jsx)(n.strong,{children:"Feature Gate"})}),". Feature Gates can be used to create logic branches in code that can be rolled out to different users from the Statsig Console. Gates are always ",(0,y.jsx)(n.strong,{children:"CLOSED"})," or ",(0,y.jsx)(n.strong,{children:"OFF"})," (think ",(0,y.jsx)(n.code,{children:"return false;"}),") by default."]}),"\n",(0,y.jsxs)(n.p,{children:["From this point on, all APIs will require you to specify the user (see ",(0,y.jsx)(n.a,{href:"#statsig-user",children:"Statsig user"}),") associated with the request. For example, check a gate for a certain user like this:"]}),"\n",(0,y.jsx)("div",{children:e.checkGate}),"\n",(0,y.jsx)(n.h3,{id:"reading-a-dynamic-config",children:"Reading a Dynamic Config"}),"\n",(0,y.jsxs)(n.p,{children:["Feature Gates can be very useful for simple on/off switches, with optional but advanced user targeting. However, if you want to be able send a different set of values (strings, numbers, and etc.) to your clients based on specific user attributes, e.g. country, ",(0,y.jsx)(n.a,{href:"/dynamic-config",children:(0,y.jsx)(n.strong,{children:"Dynamic Configs"})})," can help you with that. The API is very similar to Feature Gates, but you get an entire json object you can configure on the server and you can fetch typed parameters from it. For example:"]}),"\n",(0,y.jsx)("div",{children:e.getConfig}),"\n",(0,y.jsx)(n.h3,{id:"getting-a-layerexperiment",children:"Getting a Layer/Experiment"}),"\n",(0,y.jsxs)(n.p,{children:["Then we have ",(0,y.jsx)(n.strong,{children:"Layers/Experiments"}),", which you can use to run A/B/n experiments. We offer two APIs, but we recommend the use of ",(0,y.jsx)(n.a,{href:"/layers",children:"layers"})," to enable quicker iterations with parameter reuse."]}),"\n",(0,y.jsx)("div",{children:e.getExperiment}),"\n",(0,y.jsx)(y.Fragment,{children:!0!==e.hideAsyncDisclaimer&&(0,y.jsx)(O,{})}),"\n",(0,y.jsx)(n.h3,{id:"logging-an-event",children:"Logging an Event"}),"\n",(0,y.jsx)(n.p,{children:"Now that you have a Feature Gate or an Experiment set up, you may want to track some custom events and see how your new features or different experiment groups affect these events. This is super easy with Statsig - simply call the Log Event API and specify the user and event name to log; you additionally provide some value and/or an object of metadata to be logged together with the event:"}),"\n",(0,y.jsx)("div",{children:e.logEvent}),"\n",(0,y.jsxs)(n.p,{children:["Learn more about identifying users, group analytics, and best practices for logging events in the ",(0,y.jsx)(n.a,{href:"/guides/logging-events",children:"logging events guide"}),"."]}),"\n",(0,y.jsx)(n.h3,{id:"retrieving-feature-gate-metadata",children:"Retrieving Feature Gate Metadata"}),"\n",(0,y.jsx)(n.p,{children:"In certain scenarios, you may need more information about a gate evaluation than just a boolean value.  For additional metadata about the evaluation, use the Get Feature Gate API, which returns a FeatureGate object:"}),"\n",(0,y.jsx)("div",{children:e.getFeatureGate})]})}function V(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(K,{...e})}):K(e)}const _={},z=void 0,J=[{value:"Statsig User",id:"statsig-user",level:2},{value:"Private Attributes",id:"private-attributes",level:3}];function W(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"statsig-user",children:"Statsig User"}),"\n",(0,y.jsxs)(n.p,{children:["When calling APIs that require a user, you should pass as much information as possible in order to take advantage of advanced gate and config conditions (like country or OS/browser level checks), and correctly measure impact of your experiments on your metrics/events. At least one identifier, either userID or a Custom ID, is required to provide a consistent experience for a given user (as explained ",(0,y.jsx)(n.a,{href:"/concepts/user#why-is-an-id-always-required-for-server-sdks",children:"here"}),")."]}),"\n",(0,y.jsxs)(n.p,{children:["Besides ",(0,y.jsx)(n.code,{children:"userID"}),", we also have ",(0,y.jsx)(n.code,{children:"email"}),", ",(0,y.jsx)(n.code,{children:"ip"}),", ",(0,y.jsx)(n.code,{children:"userAgent"}),", ",(0,y.jsx)(n.code,{children:"country"}),", ",(0,y.jsx)(n.code,{children:"locale"})," and ",(0,y.jsx)(n.code,{children:"appVersion"})," as top-level fields on StatsigUser. In addition, you can pass any key-value pairs in an object/dictionary to the ",(0,y.jsx)(n.code,{children:"custom"})," field and be able to create targeting based on them."]}),"\n",(0,y.jsxs)(n.p,{children:["Note that while typing is lenient on the ",(0,y.jsx)(n.code,{children:"StatsigUser"})," object to allow you to pass in numbers, strings, arrays, objects, and potentially even enums or classes, the evaluation operators will only be able to operate on primitive types - mostly strings and numbers.  While we attempt to smartly cast custom field types to match the operator, we cannot guarantee evaluation results for other types.  For example, setting an array as a custom field will only ever be compared as a string - there is no operator to match a value in that array."]}),"\n",(0,y.jsx)("div",{children:e.statsigUser??""}),"\n",(0,y.jsx)(n.h3,{id:"private-attributes",children:"Private Attributes"}),"\n",(0,y.jsxs)(n.p,{children:["Have sensitive user PII data that should not be logged? No problem, we have a solution for it! On the StatsigUser object we also have a field called ",(0,y.jsx)(n.code,{children:"privateAttributes"}),", which is a simple object/dictionary that you can use to set private user attributes. Any attribute set in ",(0,y.jsx)(n.code,{children:"privateAttributes"})," will only be used for evaluation/targeting, and removed from any logs before they are sent to Statsig server."]}),"\n",(0,y.jsxs)(n.p,{children:['For example, if you have feature gates that should only pass for users with emails ending in "@statsig.com", but do not want to log your users\' email addresses to Statsig, you can simply add the key-value pair ',(0,y.jsx)(n.code,{children:'{ email: "my_user@statsig.com" }'})," to ",(0,y.jsx)(n.code,{children:"privateAttributes"})," on the user and that's it!"]})]})}function Y(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(W,{...e})}):W(e)}const Q={},H=void 0,Z=[{value:"Statsig Options",id:"statsig-options",level:2}];function q(e){const n={h2:"h2",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"statsig-options",children:"Statsig Options"}),"\n",(0,y.jsx)("div",{children:e.options})]})}function X(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(q,{...e})}):q(e)}var $=t(11470),ee=t(19365);const ne={},te=void 0,ie=({version:e})=>{const n={span:"span",...(0,S.R)()};return(0,y.jsxs)(n.span,{children:["v",e,"+"]})},re=[{value:"Manual Exposures <Badge></Badge>",id:"manual-exposures-",level:2}];function se(e){const n={admonition:"admonition",h2:"h2",p:"p",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(n.h2,{id:"manual-exposures-",children:["Manual Exposures ",(0,y.jsx)(ie,{version:e.addedInVersion})]}),"\n",(0,y.jsx)(n.admonition,{type:"warning",children:(0,y.jsx)(n.p,{children:"Manually logging exposures can be tricky and may lead to an imbalance in exposure events. For example, only triggering exposures for users in the Test group of an experiment will imbalance the experiment, making it useless."})}),"\n",(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(n.p,{children:["Added in version ",e.addedInVersion,", you can now query your\ngates/experiments without triggering an exposure as well as manually logging\nyour exposures."]})}),"\n",(0,y.jsxs)($.A,{defaultValue:"gate",values:[{label:"Check Gate",value:"gate"},{label:"Get Config",value:"config"},{label:"Get Experiment",value:"experiment"},{label:"Get Layer",value:"layer"}],children:[(0,y.jsxs)(ee.A,{value:"gate",children:[(0,y.jsx)(n.p,{children:"To check a gate without an exposure being logged, call the following."}),(0,y.jsx)("div",{children:e.gateSnippet}),(0,y.jsx)(n.p,{children:"Later, if you would like to expose this gate, you can call the following."}),(0,y.jsx)("div",{children:e.gateExposureSnippet})]}),(0,y.jsxs)(ee.A,{value:"config",children:[(0,y.jsx)(n.p,{children:"To get a dynamic config without an exposure being logged, call the following."}),(0,y.jsx)("div",{children:e.configSnippet}),(0,y.jsx)(n.p,{children:"Later, if you would like to expose the dynamic config, you can call the following."}),(0,y.jsx)("div",{children:e.configExposureSnippet})]}),(0,y.jsxs)(ee.A,{value:"experiment",children:[(0,y.jsx)(n.p,{children:"To get an experiment without an exposure being logged, call the following."}),(0,y.jsx)("div",{children:e.experimentSnippet}),(0,y.jsx)(n.p,{children:"Later, if you would like to expose the experiment, you can call the following."}),(0,y.jsx)("div",{children:e.experimentExposureSnippet})]}),(0,y.jsxs)(ee.A,{value:"layer",children:[(0,y.jsx)(n.p,{children:"To get a layer parameter without an exposure being logged, call the following."}),(0,y.jsx)("div",{children:e.layerSnippet}),(0,y.jsx)(n.p,{children:"Later, if you would like to expose the layer parameter, you can call the following."}),(0,y.jsx)("div",{children:e.layerExposureSnippet})]})]})]})}function ae(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(se,{...e})}):se(e)}const oe={},le=void 0,ce=[{value:"Shutting Statsig Down",id:"shutting-statsig-down",level:2}];function de(e){const n={div:"div",h2:"h2",p:"p",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"shutting-statsig-down",children:"Shutting Statsig Down"}),"\n",(0,y.jsx)(n.p,{children:"Because we batch and periodically flush events, some events may not have been sent when your app/server shuts down."}),"\n",(0,y.jsx)(n.p,{children:"To make sure all logged events are properly flushed, you should tell Statsig to shutdown when your app/server is closing:"}),"\n",(0,y.jsx)("div",{children:e.shutdown}),"\n",(0,y.jsx)(y.Fragment,{children:e.flush&&(0,y.jsx)(n.div,{style:{marginBottom:15,marginTop:30},children:"Alternatively, if you are operating in a serverless environment/cloud function, you may wish to leave Statsig running in case your function is recycled but flush the logs to Statsig servers. Or, if you need an async method to wait for logs to post before resolving, you can use:"})}),"\n",(0,y.jsx)("div",{children:e.flush})]})}function ue(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(de,{...e})}):de(e)}var he=t(41359);const ge={},pe=void 0,ve=[{value:"Client SDK Bootstrapping | SSR <VersionBadge></VersionBadge>",id:"bootstrap",level:2},{value:"Working with IP or UserAgent Values",id:"working-with-ip-or-useragent-values",level:3},{value:"Working with stableID",id:"working-with-stableid",level:3},{value:"getClientInitializeResponse and the legacy JS SDK",id:"getclientinitializeresponse-and-the-legacy-js-sdk",level:3}];function xe(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,S.R)(),...e.components};return e||fe("props",!1),e.signature||fe("props.signature",!0),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(n.h2,{id:"bootstrap",children:["Client SDK Bootstrapping | SSR ",(0,y.jsx)(he.km,{version:e.addedInVersion})]}),"\n",(0,y.jsx)("div",{style:{marginBottom:20},children:(0,y.jsxs)(n.p,{children:["The ",e.sdkName," server SDK, starting in"," ","\n",(0,y.jsx)("code",{children:e.addedInVersion})," supports generating the"," ","\n",(0,y.jsx)("code",{children:"initializeValues"})," needed to bootstrap a Statsig Client SDK\npreventing a round trip to Statsig servers. This can also be used with web [\n",(0,y.jsx)("code",{children:"@statsig/js-client"}),", ",(0,y.jsx)("code",{children:"@statsig/react-bindings"}),"] SDKs to perform server\nside rendering (SSR)."]})}),"\n",(0,y.jsx)(y.Fragment,{children:e.snippet}),"\n",(0,y.jsx)(n.h3,{id:"working-with-ip-or-useragent-values",children:"Working with IP or UserAgent Values"}),"\n",(0,y.jsxs)(n.p,{children:["This will not automatically use the ",(0,y.jsx)(n.code,{children:"ip"}),", or ",(0,y.jsx)(n.code,{children:"userAgent"})," for gate evaluation as\nStatsig servers would, since there is no request from the client SDK specifying these values.\nIf you want to use conditions like IP, or conditions which are inferred from the IP/UA like:\nBrowser Name or Version, OS Name or Version, Country, you must manually set the ",(0,y.jsx)(n.code,{children:"ip"})," and ",(0,y.jsx)(n.code,{children:"userAgent"}),"\nfield on the user object when calling ",(0,y.jsx)(e.signature,{}),"."]}),"\n",(0,y.jsx)(n.h3,{id:"working-with-stableid",children:"Working with stableID"}),"\n",(0,y.jsxs)(n.p,{children:["There is no auto-generated ",(0,y.jsx)(n.code,{children:"stableID"})," for device based experimentation,\nsince the server generates the initialize response without any information from the client SDK.\nIf you wish to run a device based experiment while using the server to generate the initialize response,\nwe recommend you:"]}),"\n",(0,y.jsxs)(n.ol,{children:["\n",(0,y.jsxs)(n.li,{children:["Create a customID in the Statsig console.\nSee ",(0,y.jsx)(n.a,{href:"/guides/experiment-on-custom-id-types",children:"experimenting on custom IDs"})," for more information."]}),"\n",(0,y.jsx)(n.li,{children:"Generate an ID on the server, and set it in a cookie to be used on the client side as well."}),"\n",(0,y.jsxs)(n.li,{children:["Set that ID as the customID on the ",(0,y.jsx)(n.code,{children:"StatsigUser"})," object when generating the initialize response from the SDK."]}),"\n",(0,y.jsxs)(n.li,{children:["Get that ID from the cookie, and set it as the customID on the ",(0,y.jsx)(n.code,{children:"StatsigUser"})," object when using the client SDK,\nso all event data and exposure checks tie back to the same user."]}),"\n"]}),"\n",(0,y.jsxs)(n.p,{children:["Alternatively, if you wish to use the ",(0,y.jsx)(n.code,{children:"stableID"})," field rather than a custom ID, you still need to do step (2) above. Then:"]}),"\n",(0,y.jsxs)(n.ul,{children:["\n",(0,y.jsxs)(n.li,{children:["Override the ",(0,y.jsx)(n.code,{children:"stableID"})," in the client SDK by getting the value from the cookie and setting the ",(0,y.jsx)(n.code,{children:"overrideStableID"}),"\nparameter in ",(0,y.jsx)(n.code,{children:"StatsigOptions"})]}),"\n",(0,y.jsxs)(n.li,{children:["Set the ",(0,y.jsx)(n.code,{children:"stableID"})," field on the ",(0,y.jsx)(n.code,{children:"StatsigUser"})," object in the ",(0,y.jsx)(n.code,{children:"customIDs"})," map when generating the initialize response from the SDK"]}),"\n"]}),"\n",(0,y.jsx)(n.h3,{id:"getclientinitializeresponse-and-the-legacy-js-sdk",children:"getClientInitializeResponse and the legacy JS SDK"}),"\n",(0,y.jsxs)(n.p,{children:["If you are migrating from the legacy JS Client, you will need to make some updates to\nhow your server SDK generates values.\nThe default hashing algorithm was changed from ",(0,y.jsx)(n.code,{children:"sha256"})," to ",(0,y.jsx)(n.code,{children:"djb2"})," for performance and size reasons."]}),"\n",(0,y.jsxs)(n.p,{children:["See the ",(0,y.jsx)(n.a,{href:"https://docs.statsig.com/client/javascript-sdk/migrating-from-statsig-js/#bootstrapping",children:"Bootstrapping Migration Docs"})," for more."]})]})}function me(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(xe,{...e})}):xe(e)}function fe(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}const je={},ye=void 0,Se=[{value:"Local Overrides <VersionBadge></VersionBadge>",id:"local-overrides",level:2}];function we(e){const n={a:"a",admonition:"admonition",h2:"h2",li:"li",ol:"ol",p:"p",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(n.h2,{id:"local-overrides",children:["Local Overrides ",(0,y.jsx)(he.km,{version:e.addedInVersion})]}),"\n",(0,y.jsxs)(n.p,{children:["If you want to locally override gates/configs/experiments/layers, there are a set of override APIs as follows. Coupling this with ",(0,y.jsx)(n.a,{href:"#statsig-options",children:"StatsigOptions.localMode"})," can be useful when writing unit tests."]}),"\n",(0,y.jsx)(y.Fragment,{children:e.snippet}),"\n",(0,y.jsx)(n.admonition,{type:"note",children:(0,y.jsxs)(n.ol,{children:["\n",(0,y.jsx)(n.li,{children:"These only apply locally - they do not update definitions in the Statsig console or elsewhere."}),"\n",(0,y.jsx)(n.li,{children:"The local override API is not designed to be a full mock. They are only a convenient way to override the value of the gate/config/etc."}),"\n"]})})]})}function be(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(we,{...e})}):we(e)}const ke={},Ae=void 0,De=[{value:"Reference",id:"reference",level:2}];function Ie(e){const n={h2:"h2",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,y.jsx)(y.Fragment,{children:e.snippets})]})}function Te(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(Ie,{...e})}):Ie(e)}const Ee={},Re=void 0,Ce=[{value:"Data Store",id:"data-store",level:2},{value:"Data Store Interface",id:"data-store-interface",level:3},{value:"Example Implementation",id:"example-implementation",level:3}];function Ne(e){const n={a:"a",h2:"h2",h3:"h3",p:"p",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"data-store",children:"Data Store"}),"\n",(0,y.jsxs)(n.p,{children:["If you would like to implement your own caching logic,\nor have finer control over the network requests sent to Statsig,\nyou can implement your own DataStore.\nYou can provide a DataStore via ",(0,y.jsx)(n.a,{href:"#statsig-options",children:"StatsigOptions.DataStore"}),"."]}),"\n",(0,y.jsxs)(n.p,{children:["If you would like to know more about how Data Stores work, you can read more about the concept ",(0,y.jsx)(n.a,{href:"/server/concepts/data_store",children:"here"}),"."]}),"\n",(0,y.jsx)(n.h3,{id:"data-store-interface",children:"Data Store Interface"}),"\n",(0,y.jsx)(n.p,{children:"You can write you own custom Data Stores that implement the following interface:"}),"\n",(0,y.jsx)(y.Fragment,{children:e.interface}),"\n",(0,y.jsx)(n.h3,{id:"example-implementation",children:"Example Implementation"}),"\n",(0,y.jsx)(y.Fragment,{children:e.example})]})}function Le(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(Ne,{...e})}):Ne(e)}const Fe={},Me=void 0,Pe=[{value:"User Persistent Storage",id:"user-persistent-storage",level:2},{value:"Storage Interface",id:"storage-interface",level:3},{value:"Example Implementation",id:"example-implementation",level:3}];function Oe(e){const n={a:"a",h2:"h2",h3:"h3",p:"p",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"user-persistent-storage",children:"User Persistent Storage"}),"\n",(0,y.jsxs)(n.p,{children:["A custom storage adapter that allows the SDK the persist values for users in active experiments.\nIn other words, allowing you to run experiments with sticky bucketing.\nYou can provide a persistent storage adapter via ",(0,y.jsx)(n.a,{href:"#statsig-options",children:"StatsigOptions.UserPersistentStorage"}),"."]}),"\n",(0,y.jsxs)(n.p,{children:["You can read more about the concept ",(0,y.jsx)(n.a,{href:"/server/concepts/persistent_assignment",children:"here"}),"."]}),"\n",(0,y.jsx)(n.h3,{id:"storage-interface",children:"Storage Interface"}),"\n",(0,y.jsx)(n.p,{children:"You can write you own custom storage that implements the following interface:"}),"\n",(0,y.jsx)(y.Fragment,{children:e.interface}),"\n",(0,y.jsx)(n.h3,{id:"example-implementation",children:"Example Implementation"}),"\n",(0,y.jsx)(y.Fragment,{children:e.example})]})}function Ge(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(Oe,{...e})}):Oe(e)}const Be={},Ue=void 0,Ke=[{value:"Environment Specific Setup",id:"environment-specific-setup",level:2},{value:"Cloudflare",id:"cloudflare",level:3}];function Ve(e){const n={h2:"h2",h3:"h3",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"environment-specific-setup",children:"Environment Specific Setup"}),"\n",(0,y.jsx)(n.h3,{id:"cloudflare",children:"Cloudflare"}),"\n",(0,y.jsx)(y.Fragment,{children:e.cloudflare})]})}function _e(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(Ve,{...e})}):Ve(e)}const ze={},Je=void 0,We=[{value:"Proxy Configurations <VersionBadge></VersionBadge>",id:"proxy-configurations-",level:2},{value:"Authentication <VersionBadge></VersionBadge>",id:"authentication-",level:4}];function Ye(e){const n={a:"a",code:"code",div:"div",h2:"h2",h4:"h4",p:"p",strong:"strong",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(n.h2,{id:"proxy-configurations-",children:["Proxy Configurations ",(0,y.jsx)(he.km,{version:e.addedInVersion,includeAboveVersion:e.includeAboveVersion})]}),"\n",(0,y.jsxs)(n.p,{children:["Advance SDK Network setup, provide options to configure network protocol and proxy address for individual network endpoint.\nThis option is provided for better integration with ",(0,y.jsx)(n.strong,{children:(0,y.jsx)(n.a,{href:"/server/concepts/forward_proxy",children:"Statsig Forward Proxy"})})]}),"\n",(0,y.jsxs)("div",{children:[(0,y.jsxs)(n.h4,{id:"authentication-",children:["Authentication ",(0,y.jsx)(he.km,{version:e.tlsAddedInVersion})]}),(0,y.jsxs)(n.p,{children:["With more advanced requirements on security, we also support TLS and mTLS for grpc streaming (",(0,y.jsx)(n.code,{children:"protocol=GRPC_WEBSOCKET"}),")\nYou need to configure ProxyConfig for each endpoint"]}),e.tlsExample]}),"\n",(0,y.jsx)("div",{children:e.installation&&(0,y.jsxs)(n.div,{children:[(0,y.jsx)(n.h4,{children:"Installation"}),"We are still in the testing phase of this feature. Package deployment / installation will be different.",(0,y.jsx)(n.div,{children:e.installation})]})}),"\n",(0,y.jsxs)(n.p,{children:[(0,y.jsx)("h4",{children:"Initialization"}),"\nTo setup grpc streaming for download config spec. And use default behavior for get_id_lists and log_events endpoints."]}),"\n",(0,y.jsx)("div",{children:e.code})]})}function Qe(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(Ye,{...e})}):Ye(e)}const He={},Ze=void 0,qe=[{value:"Multiple Statsig SDK Instances",id:"multiple-statsig-sdk-instances",level:2}];function Xe(e){const n={a:"a",admonition:"admonition",h2:"h2",p:"p",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"multiple-statsig-sdk-instances",children:"Multiple Statsig SDK Instances"}),"\n",(0,y.jsx)(n.p,{children:"Our documentation up to this point guides you through setting up your Statsig integration via the singleton Statsig."}),"\n",(0,y.jsx)(n.p,{children:"There are cases where you may need to create multiple instances of the Statsig SDK. Each SDK supports this as well - the Statsig singleton wraps a single instance of the SDK that you can instantiate."}),"\n",(0,y.jsx)(n.admonition,{type:"note",children:(0,y.jsxs)(n.p,{children:["Currently all SDK instances will use the same keys when interacting with a ",(0,y.jsx)(n.a,{href:"/server/concepts/data_store",children:"Data Store/Data Adapter"}),". You will not be able to isolate multiple instances of the SDK in your data store."]})}),"\n",(0,y.jsx)(n.p,{children:"All top level static methods from the singleton carry over as instance methods. To create an instance of the Statsig SDK:"}),"\n",(0,y.jsx)("div",{children:e.constructor})]})}function $e(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(Xe,{...e})}):Xe(e)}const en={},nn=void 0,tn=[{value:"SDK Monitoring <VersionBadge></VersionBadge>",id:"sdk-monitoring-",level:2},{value:"ObservabilityClient interface",id:"observabilityclient-interface",level:4},{value:"Setup",id:"setup",level:4}];function rn(e){const n={a:"a",h2:"h2",h4:"h4",p:"p",strong:"strong",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(n.h2,{id:"sdk-monitoring-",children:["SDK Monitoring ",(0,y.jsx)(he.km,{version:e.addedInVersion,includeAboveVersion:e.includeAboveVersion})]}),"\n",(0,y.jsxs)(n.p,{children:["The SDK provide an option to integrate with your preferred observability tool to monitor the SDK's behavior and performance. For detailed information and metrics emitted, please see ",(0,y.jsx)(n.strong,{children:(0,y.jsx)(n.a,{href:"/sdk_monitoring/",children:"sdk monitoring"})})]}),"\n",(0,y.jsx)(n.h4,{id:"observabilityclient-interface",children:"ObservabilityClient interface"}),"\n",(0,y.jsx)(n.p,{children:"The SDK provides the following interface methods to track various metrics:"}),"\n",(0,y.jsx)("div",{children:e.interface}),"\n",(0,y.jsx)(n.h4,{id:"setup",children:"Setup"}),"\n",(0,y.jsx)(n.p,{children:"Example of setting up metrics collection with StatsD"}),"\n",(0,y.jsx)("div",{children:e.code})]})}function sn(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(rn,{...e})}):rn(e)}var an=t(28774);const on={},ln=void 0,cn=({items:e})=>{const n={li:"li",ul:"ul",...(0,S.R)()};return(0,y.jsx)(n.ul,{children:e.map(((e,t)=>(0,y.jsx)(an.A,{href:e.link,children:(0,y.jsx)(n.li,{children:e.title},t)})))})},dn=[{value:"Major Version Upgrade Guide",id:"major-version-upgrade-guide",level:2}];function un(e){const n={h2:"h2",...(0,S.R)(),...e.components};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h2,{id:"major-version-upgrade-guide",children:"Major Version Upgrade Guide"}),"\n","\n",(0,y.jsx)(cn,{items:e.items})]})}function hn(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(un,{...e})}):un(e)}const gn={},pn=void 0,vn={id:"server/Templates/index",title:"index",description:"",source:"@site/docs/server/Templates/index.mdx",sourceDirName:"server/Templates",slug:"/server/Templates/",permalink:"/server/Templates/",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/server/Templates/index.mdx",tags:[],version:"current",lastUpdatedAt:173195687e4,frontMatter:{}},xn={},mn=w,fn=i,jn=r,yn=s,Sn=a,wn=o,bn=l,kn=c,An=d,Dn=u,In=h,Tn=g,En=p,Rn=v,Cn=x,Nn=m,Ln=f,Fn=j,Mn=[];function Pn(e){return(0,y.jsx)(y.Fragment,{})}function On(e={}){const{wrapper:n}={...(0,S.R)(),...e.components};return n?(0,y.jsx)(n,{...e,children:(0,y.jsx)(Pn,{...e})}):Pn()}},49543:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var i=t(74848),r=t(28453);const s={title:"Server Data Stores  / Data Adapter",sidebar_label:"Server Data Stores",slug:"/server/concepts/data_store",keywords:["owner:brock"],last_update:{date:new Date("2025-09-08T00:00:00.000Z")}},a=void 0,o={id:"server/concepts/data_store",title:"Server Data Stores  / Data Adapter",description:"One common question when configuring Statsig is how to design your integration around handling potential points of failure. For example - in case of a Statsig API outage, can my integration continue to function?",source:"@site/docs/server/concepts/data_store.mdx",sourceDirName:"server/concepts",slug:"/server/concepts/data_store",permalink:"/server/concepts/data_store",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/server/concepts/data_store.mdx",tags:[],version:"current",lastUpdatedAt:17572896e5,frontMatter:{title:"Server Data Stores  / Data Adapter",sidebar_label:"Server Data Stores",slug:"/server/concepts/data_store",keywords:["owner:brock"],last_update:{date:"2025-09-08T00:00:00.000Z"}},sidebar:"api",previous:{title:"Local Eval Adapter",permalink:"/client/concepts/local-eval-adapter"},next:{title:"Target Apps",permalink:"/sdk-keys/target-apps"}},l={},c=[{value:"DataAdapter (or DataStore)",id:"dataadapter-or-datastore",level:2},{value:"Recommended Implementation",id:"recommended-implementation",level:3},{value:"Data Adapter Logic",id:"data-adapter-logic",level:3}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"One common question when configuring Statsig is how to design your integration around handling potential points of failure. For example - in case of a Statsig API outage, can my integration continue to function?"}),"\n",(0,i.jsxs)(n.p,{children:["The short answer is yes. Your server SDK will continue to operate normally, serving the most recent set of known values in response to calls like ",(0,i.jsx)(n.code,{children:"checkGate"}),", ",(0,i.jsx)(n.code,{children:"getConfig"}),", ",(0,i.jsx)(n.code,{children:"getExperiment"}),", and ",(0,i.jsx)(n.code,{children:"getLayer"}),".\nOnce the API is back up and operating normally, your SDK will automatically refetch the most up-to-date version of your project."]}),"\n",(0,i.jsx)(n.p,{children:"But what about spinning up a new server, or a new SDK instance, while Statsig is down?"}),"\n",(0,i.jsxs)(n.p,{children:["This is what we built the ",(0,i.jsx)(n.code,{children:"DataAdapter"}),"/",(0,i.jsx)(n.code,{children:"DataStore"})," for."]}),"\n",(0,i.jsx)(n.h2,{id:"dataadapter-or-datastore",children:"DataAdapter (or DataStore)"}),"\n",(0,i.jsxs)(n.p,{children:["DataAdapters allow you to plug in your own storage solution as a cache that the Statsig Server SDKs use to load your project configurations (ie; all experiments, configs, gates and their targeting/allocation rules). Some of the key use-cases for Data Adapter are: reducing dependency on Statsig servers for initialization, improving initialization time by loading config from a local data store, and providing customers with controls for minimizing network I/O. Data Adapters define a simple API that you have to implement: ",(0,i.jsx)(n.code,{children:"initialize"}),", ",(0,i.jsx)(n.code,{children:"get"}),", ",(0,i.jsx)(n.code,{children:"set"}),", and ",(0,i.jsx)(n.code,{children:"shutdown"})," for setup, reading, writing, and closing."]}),"\n",(0,i.jsx)(n.h3,{id:"recommended-implementation",children:"Recommended Implementation"}),"\n",(0,i.jsxs)(n.p,{children:["In most cases, ",(0,i.jsxs)(n.strong,{children:["your webservers should only implement the read path (",(0,i.jsx)(n.code,{children:"get"}),")"]}),".",(0,i.jsx)(n.br,{}),"\n","Leaving the write path (",(0,i.jsx)(n.code,{children:"set"}),") empty is the best practice. Otherwise, every SDK instance across all of your servers will attempt to write to the store whenever it sees an update, which is inefficient and can lead to unnecessary contention or duplication."]}),"\n",(0,i.jsx)(n.p,{children:"Instead, you should have a single source of truth that keeps your datastore up-to-date:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Run a ",(0,i.jsx)(n.strong,{children:"separate out-of-band service"})," that implements the SDK and is responsible for writing updates into the datastore via ",(0,i.jsx)(n.code,{children:"set"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Or, use a ",(0,i.jsx)(n.strong,{children:"cron job / periodic job"})," to fetch the config from the Statsig CDN endpoint and update your datastore under the correct cache keys (",(0,i.jsx)(n.code,{children:"statsig.cache"}),", ",(0,i.jsx)(n.code,{children:"statsig.id_lists"}),", and ",(0,i.jsx)(n.code,{children:"statsig.id_lists::{list_name}"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The Statsig SDK already handles this refresh logic out of the box, so separating the read and write responsibilities is the cleanest and most reliable pattern."}),"\n",(0,i.jsx)(n.h3,{id:"data-adapter-logic",children:"Data Adapter Logic"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["When the Statsig SDK is initialized with a DataAdapter, it will first attempt to load config via ",(0,i.jsx)(n.code,{children:"DataAdapter.get"}),".","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If the entry exists, it will use it."}),"\n",(0,i.jsxs)(n.li,{children:["If the entry does not exist, and ",(0,i.jsx)(n.code,{children:"localMode"})," is not enabled, it will fetch the config from Statsig servers and (if you have a writer service) persist it via ",(0,i.jsx)(n.code,{children:"DataAdapter.set"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Post-initialization, the SDK will continue to poll Statsig servers for updates and, when available, save them back to your data store (if you\u2019ve implemented ",(0,i.jsx)(n.code,{children:"set"})," and designated a writer service)."]}),"\n",(0,i.jsxs)(n.li,{children:["If the SDK client is initialized with ",(0,i.jsx)(n.code,{children:"localMode=true"}),", this will disable all network fetches from Statsig."]}),"\n",(0,i.jsxs)(n.li,{children:["The cache keys used to be:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"statsig.cache"})," \u2192 config specs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"statsig.id_lists"})," \u2192 lookup of id lists"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"statsig.id_lists::{list_name}"})," \u2192 actual id list values"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["but in the latest node and server core sdks, the format has changed:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"statsig|{path}|{format}|{hashedSDKKey}"})," where ",(0,i.jsx)(n.code,{children:"path"})," is ",(0,i.jsx)(n.code,{children:"/v1/download_config_specs"})," or ",(0,i.jsx)(n.code,{children:"/v1/get_id_lists"}),", format is ",(0,i.jsx)(n.code,{children:"plain_text"}),", and the ",(0,i.jsx)(n.code,{children:"djb2"})," has of the sdk key is the last bit"]}),"\n",(0,i.jsx)(n.li,{children:"the SDK will handle this for you, reach out if you are trying to recreate this path yourself to double check"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsxs)(n.p,{children:["Most DataAdapters are currently only used for the ",(0,i.jsx)(n.code,{children:"initialize"})," path for getting a project definition."]}),(0,i.jsxs)(n.p,{children:["At the time of this writing, only ",(0,i.jsx)(n.code,{children:"Node.js"}),", ",(0,i.jsx)(n.code,{children:"Ruby"}),", ",(0,i.jsx)(n.code,{children:"Go"}),", ",(0,i.jsx)(n.code,{children:"Java"})," and ",(0,i.jsx)(n.code,{children:".NET"})," support polling for updates.",(0,i.jsx)(n.br,{}),"\n","If you're interested in using a DataAdapter as the source of truth indefinitely, please reach out in our ",(0,i.jsx)(n.a,{href:"https://statsig.com/slack",children:"Slack community"})," and let us know which language this would be useful for!"]})]}),"\n",(0,i.jsx)(n.p,{children:"For information on your specific SDK language, see the language-specific docs in the left-hand column."})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},43858:(e,n,t)=>{t.r(n),t.d(n,{Builder:()=>P,assets:()=>M,contentTitle:()=>L,default:()=>B,frontMatter:()=>N,metadata:()=>F,toc:()=>O});var i=t(74848),r=t(28453),s=t(96747),a=t(77572);function o(e){const n={a:"a",admonition:"admonition",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.admonition,{title:"Server vs. Client",type:"info",children:(0,i.jsxs)(n.p,{children:["These docs are for using our Java/Kotlin SDK in a multi-user, server side context. For client side android applications, check out our ",(0,i.jsx)(n.a,{href:"/client/androidClientSDK",children:"Android SDK"})," or one of the other client SDKs for your client side applications."]})}),"\n",(0,i.jsx)(n.p,{children:"This SDK is written in Kotlin, but exposes methods and overrides to Java based applications."})]})}function l(e){const n={a:"a",admonition:"admonition",code:"code",h4:"h4",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"v1.X.X+"})," of the SDK is now published only to Maven Central."]}),"\n",(0,i.jsxs)(n.p,{children:["To install the SDK, set the Maven Central repository in your ",(0,i.jsx)(n.code,{children:"build.gradle"}),". You probably already have this for other dependencies."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"repositories {\n    mavenCentral()\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then add the dependency:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"implementation 'com.statsig:serversdk:1.X.X' // replace with the most up to date version\n// For >v1.24.0 If you are not using streaming and want to reduce the package size you can:\nimplementation 'com.statsig:serversdk:1.X.X' {\n    exclude(group = \"io.grpc\", module = \"*\") \n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can find the versions in the github releases of the ",(0,i.jsx)(n.a,{href:"https://github.com/statsig-io/java-server-sdk/releases",children:"open source sdk repository"}),", or from the ",(0,i.jsx)(n.a,{href:"https://mvnrepository.com/artifact/com.statsig/serversdk",children:"maven central repository"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"jitpack-deprecation",children:"Jitpack Deprecation"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"v0.X.X"})," versions of the SDK are available from jitpack, but newer versions will not be published to jitpack."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["If you update Statsig to be pulled from Maven Central instead of jitpack, you can remove ",(0,i.jsx)(n.code,{children:"maven { url 'https://jitpack.io' }"})," if Statsig was the only library you got from jitpack and you previously relied on v0.X.X of the SDK."]})})]})}function c(e){const n={code:"code",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["To install the ",(0,i.jsx)(n.strong,{children:"Beta"})," SDK Version with Forward Proxy Support, you will need to install a ",(0,i.jsx)(n.strong,{children:"separate"})," test project"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"repositories {\n    mavenCentral()\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then add the dependency:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"implementation 'com.statsig:serversdk-test:0.24.0' // 0.24.0 is the only version with proxy config support\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you are using shadowJar, include below lines in your build file"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'tasks.named<com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar>("shadowJar") {\n    mergeServiceFiles()\n}\n'})})]})}var d=t(11470),u=t(19365);function h(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'import com.statsig.sdk.Statsig;\n\nStatsigOptions options = new StatsigOptions();\n// Customize options as needed. For example:\n// options.initTimeoutMs = 9999;\nFuture initFuture = Statsig.initializeAsync("server-secret-key", options);\ninitFuture.get();\n\n'})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'import com.statsig.sdk.Statsig\n\nval options = StatsigOptions().apply {\n        // Customize options as needed. For example:\n        initTimeoutMs = 9999\n}\nasync { Statsig.initialize("server-secret-key", options) }.await()\n\n'})})})]})}function g(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\nStatsigUser user = new StatsigUser("user_id");\nBoolean isFeatureOn = Statsig.checkGateSync(user, "use_new_feature");\n\nif (isFeatureOn) {\n  // Gate is on, use new feature\n} else {\n  // Gate is off\n}\n\n'})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'\nval user = StatsigUser("user_id");\nval featureOn = Statsig.checkGateSync(user, "use_new_feature")\n\nif (featureOn) {\n  // Gate is on, use new feature\n} else {\n  // Gate is off\n}\n\n'})})})]})}function p(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\nDynamicConfig config = Statsig.getConfigSync(user, "awesome_product_details");\n\n// The 2nd parameter is the default value to be used in case the given parameter name does not exist on\n// the Dynamic Config object. This can happen when there is a typo, or when the user is offline and the\n// value has not been cached on the client.\nString itemName = config.getString("product_name", "Awesome Product v1");\nDouble price = config.getDouble("price", 10.0);\nBoolean shouldDiscount = config.getBoolean("discount", false);\n\n'})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'\nval config = Statsig.getConfigSync(user, "awesome_product_details")\n\n// The 2nd parameter is the default value to be used in case the given parameter name does not exist on\n// the Dynamic Config object. This can happen when there is a typo, or when the user is offline and the\n// value has not been cached on the client.\nval itemName = config.getString("product_name", "Awesome Product v1")\nval price = config.getDouble("price", 10.0)\nval shouldDiscount = config.getBoolean("discount", false)\n\n'})})})]})}function v(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Values via getLayer\n\nLayer layer = Statsig.getLayerSync(user, "user_promo_experiments");\nString promoTitle = layer.getString("title", "Welcome to Statsig!");\nDouble discount = layer.getDouble("discount", 0.1);\n\n// or, via getExperiment\n\nDynamicConfig titleExperiment = Statsig.getExperimentSync(user, "new_user_promo_title");\nDynamicConfig priceExperiment = Statsig.getExperimentSync(user, "new_user_promo_price");\n\nString promoTitle = titleExperiment.getString("title", "Welcome to Statsig!");\nDouble discount = priceExperiment.getDouble("discount", 0.1);\n\n...\n\nDouble price = msrp * (1 - discount);\n'})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'// Values via getLayer\n\nval layer = Statsig.getLayerSync(user, "user_promo_experiments")\nval promoTitle = layer.getString("title", "Welcome to Statsig!")\nval discount = layer.getDouble("discount", 0.1)\n\n// or, via getExperiment\n\nval titleExperiment = Statsig.getExperimentSync(user, "new_user_promo_title")\nval priceExperiment = Statsig.getExperimentSync(user, "new_user_promo_price")\n\nval promoTitle = titleExperiment.getString("title", "Welcome to Statsig!")\nval discount = priceExperiment.getDouble("discount", 0.1)\n\n...\n\nval price = msrp * (1 - discount)\n\n'})})})]})}function x(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Statsig.logEvent(user, "purchase", 2.99, Map.of("item_name", "remove_ads"));\n'})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'Statsig.logEvent(user, "purchase", 2.99, mapOf("item_name" to "remove_ads"))\n'})})})]})}function m(e){const n={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\nAPIFeatureGate featureGate = Statsig.getFeatureGate(user, "a_gate");\nSystem.out.println("Feature Gate: " + featureGate.getName() + ", Is Enabled?: " + featureGate.getValue());\n\nString reason = featureGate.getReason() != null ? featureGate.getReason().toString() : "No specific reason";\nSystem.out.println("Evaluation Reason: " + reason);\n\n'})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'\nval featureGate = Statsig.getFeatureGate(user, "a_gate");\nprintln("Feature Gate: ${featureGate.name}, Is Enabled?: ${featureGate.value}")\n\nval reason = featureGate.reason?.toString() ?: "No specific reason"\nprintln("Evaluation Reason: $reason")\n\n'})})})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"APIFeatureGate"})," data class encapsulates the evaluation result of a feature gate for a specific user. It's mostly about getting metadata about the gate."]}),"\n",(0,i.jsx)(n.h3,{id:"properties",children:"Properties"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"name"})})," ( ",(0,i.jsx)(n.code,{children:"String"})," ): name of the feature gate."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"value"})})," ( ",(0,i.jsx)(n.code,{children:"Boolean"})," ): Indicates the feature gate's status for the user."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"ruleID"})})," ( ",(0,i.jsx)(n.code,{children:"String?"})," ): The identifier of the rule applied to determine the feature gate's status. It can be ",(0,i.jsx)(n.code,{children:"null"})," if the evaluation falls back to a default status or if no specific rule was matched."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"secondaryExposures"})})," ( ",(0,i.jsx)(n.code,{children:"ArrayList<Map<String, String>>"})," ): A collection of secondary exposures encountered during the feature gate's evaluation."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"reason"})})," ( ",(0,i.jsx)(n.code,{children:"EvaluationReason?"})," ): The reason behind the feature gate's evaluation result."]}),"\n"]}),"\n"]})]})}function f(e){const n={a:"a",code:"code",h4:"h4",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h4,{id:"how-can-i-mock-statsig-for-testing",children:"How can I mock Statsig for testing?"}),"\n",(0,i.jsxs)(n.p,{children:["First, there is a ",(0,i.jsx)(n.code,{children:"StatsigOptions"})," parameter called ",(0,i.jsx)(n.code,{children:"localMode"}),".\nSetting ",(0,i.jsx)(n.code,{children:"localMode"})," to true will cause the SDK to never hit the network,\nand only return default values. This is perfect for dummy environments or\ntest environments that should not access the network."]}),"\n",(0,i.jsxs)(n.p,{children:["Next, there are the ",(0,i.jsx)(n.code,{children:"overrideGate"})," and ",(0,i.jsx)(n.code,{children:"overrideConfig"})," APIs on the global ",(0,i.jsx)(n.code,{children:"Statsig"})," interface, see ",(0,i.jsx)(n.a,{href:"#local-overrides",children:"Local Overrides"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"These can be used to set a gate or config value to be be returned for the given name."}),"\n",(0,i.jsxs)(n.p,{children:["We suggest you enable ",(0,i.jsx)(n.code,{children:"localMode"})," and then override gates/configs to specific values to test the various code flows you are building."]}),"\n",(0,i.jsxs)(n.p,{children:["You can view ",(0,i.jsx)(n.a,{href:"https://github.com/statsig-io/java-server-sdk/blob/main/src/test/java/com/statsig/sdk/LocalOverridesTest.kt",children:"LocalOverridesTest"})," to see overrides being used in test."]}),"\n",(0,i.jsx)(n.h4,{id:"how-can-i-bootstrap-an-on-device-evaluation-sdk",children:"How can I bootstrap an on-device evaluation sdk?"}),"\n",(0,i.jsx)(n.p,{children:"If you are using a client on-device evaluation SDK, it consumes the same payload as Statsig server SDKs to do local evaluation."}),"\n",(0,i.jsxs)(n.p,{children:["The Java Server SDK ",(0,i.jsx)(n.a,{href:"https://github.com/statsig-io/java-server-sdk/releases/tag/1.31.0",children:"v1.31.0+"})," exposes this payload via:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"getOnDeviceEvalInitializeResponse(clientSDKKey: String? = null): Map<String, Any>\n"})}),"\n",(0,i.jsx)(n.p,{children:"The method returns a map which is the JSON payload that a client SDK will need to initialize synchronously."}),"\n",(0,i.jsxs)(n.p,{children:["You can use the ",(0,i.jsx)(n.code,{children:"clientSDKKey"})," parameter to get the initialize response for a specific client key.  This enables you to use ",(0,i.jsx)(n.a,{href:"/sdk-keys/target-apps",children:"Target Apps"})," to filter down the list of gates/configs/experiments/layers accessible by that client key.  If not specified, the entire payload the server is operating with will be returned."]}),"\n",(0,i.jsx)(n.p,{children:"You can then use the synchronous initialization method on the client SDK to initialize with this payload."})]})}var j=t(50593);t(49543);function y(e){const n={a:"a",code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["You can pass in an optional parameter ",(0,i.jsx)(n.code,{children:"options"})," in addition to the server secret during initialization to customize the Statsig client. Here are the current options and we are always adding more to the list:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"initTimeoutMs"}),": double, default 3000","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"used to decide how long the Statsig client waits for the initial network request to respond before calling the completion block. The Statsig client will return either cached values (if any) or default values if checkGate/getConfig/getExperiment is called before the initial network request completes."}),"\n",(0,i.jsx)(n.li,{children:"if you always want to wait for the latest values fetched from Statsig server, you should set this to 0 so we do not timeout the network request."}),"\n",(0,i.jsx)(n.li,{children:"unit is milliseconds."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"environment tier"}),": string, default null","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"used to signal the environment tier the user is currently in"}),"\n",(0,i.jsxs)(n.li,{children:["e.g. passing in a value of ",(0,i.jsx)(n.code,{children:'"staging"'})," will allow your users to pass any condition that pass for the staging environment tier, and fail any condition that only passes for other environment tiers."]}),"\n",(0,i.jsx)(n.li,{children:"example:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'val options = StatsigOptions()\noptions.setTier("staging")\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"bootstrapValues"}),": string?, default null"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"a string that represents all rules for all feature gates, dynamic configs and experiments. It can be provided to bootstrap the Statsig server SDK at initialization in case your server runs into network issue or Statsig server is down temporarily."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"rulesUpdatedCallback"}),": ((rules: String) -> Unit)?, default null"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["a callback function that's called whenever we have an update for the rules; it's called with a JSON string (used as is for ",(0,i.jsx)(n.code,{children:"bootstrapValues"})," mentioned above) and a timestamp."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"localMode"})," - boolean, default false"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(j.y0,{type:"server"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"api"})," - String?, default null"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The API endpoint to use for initialization and logging. Default to ",(0,i.jsx)(n.code,{children:"STATSIG_API_URL_BASE"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"rulesetsSyncIntervalMs"})," - Long, default 10 * 1000"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"idListsSyncIntervalMs"})," - Long, default 60 * 1000"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"dataStore"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/server/concepts/data_store",children:"Data Store/Adapter Concept"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"userPersistentStorage"}),": IUserPersistentStorage default null"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A persistent storage adapter for running sticky experiments. See ",(0,i.jsx)(n.a,{href:"/server/concepts/persistent_assignment",children:"Persistent Assignment"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"customLogger"})," - LoggerInterface"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"disableAllLogging"})," - Boolean, default false"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"fallbackToStatsigAPI"})," - Boolean, default false"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"proxyConfig"})," - ProxyConfig"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'  /**\n  * Represents configuration for a proxy.\n  *\n  * @property proxyHost The hostname or IP address of the proxy server.\n  * @property proxyPort The port number of the proxy server.\n  * @property proxyAuth Optional: Authentication credentials for the proxy server. \n  *                     Pass in `Credentials.basic("username", "password")`.\n  * @property proxySchema The protocol scheme used by the proxy server. Defaults to "https".\n  */\n  data class ProxyConfig @JvmOverloads constructor(\n      var proxyHost: String,\n      var proxyPort: Int,\n      var proxyAuth: String? = null,\n      val proxySchema: String = "https"\n  )\n\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Usage"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\n  import okhttp3.Credentials;\n\n  // Create a ProxyConfig object With Auth\n  ProxyConfig proxyConfigWithAuth = new ProxyConfig("localhost", 8080, Credentials.basic("username", "password"), "https");\n\n  // Create a ProxyConfig object Without Auth\n  ProxyConfig proxyConfig = new ProxyConfig("localhost", 8080);\n\n  StatsigOptions options = new StatsigOptions();\n  options.setProxyConfig(proxyConfig);\n  Future initFuture = Statsig.initializeAsync(apiKey, options);\n  initFuture.get();\n\n'})}),"\n"]}),"\n"]})]})}function S(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-swift",children:"Statsig.shutdown();\n"})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-swift",children:"Statsig.shutdown()\n"})})})]})}var w=t(21432);function b(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-swift",children:'// Overrides the given gate to the specified value\nStatsig.overrideGate("a_gate_name", true);\n\n// Overrides the given config (dynamic config or experiment) to the provided value\nStatsig.overrideConfig("a_config_or_experiment_name", Map.of("key", "value"));\n\n// Overrides the given layer to the provided value\nStatsig.overrideLayer("a_layer_name", Map.of("key", "value"));\n\n// Removing gate overrides\nStatsig.removeGateOverride("a_gate_name");\n\n// Removing config/experiment overrides\nStatsig.removeConfigOverride("a_config_or_experiment_name");\n\n// Removing layer overrides\nStatsig.removeLayerOverride("a_layer_name");\n'})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-swift",children:'// Overrides the given gate to the specified value\nStatsig.overrideGate("a_gate_name", true)\n\n// Overrides the given config (dynamic config or experiment) to the provided value\nStatsig.overrideConfig("a_config_or_experiment_name", mapOf("key" to "value"))\n\n// Overrides the given layer to the provided value\nStatsig.overrideLayer("a_layer_name", mapOf("key" to "value"))\n\n// Removing gate overrides\nStatsig.removeGateOverride("a_gate_name")\n\n// Removing config/experiment overrides\nStatsig.removeConfigOverride("a_config_or_experiment_name")\n\n// Removing layer overrides\nStatsig.removeLayerOverride("a_layer_name")\n'})})})]})}function k(e){const n={code:"code",h3:"h3",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"statsiguser",children:"StatsigUser"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'/**\n * An object of properties relating to the current user\n * Provide as many as possible to take advantage of advanced conditions in the Statsig console\n * A dictionary of additional fields can be provided under the "custom" field\n * @property userID - string - REQUIRED - a unique identifier for the user.  Why is this required?  See https://docs.statsig.com/concepts/user#why-is-an-id-always-required-for-server-sdks\n * @property email - string - an email associated with the current user\n * @property ip - string - the ip address of the requests for the user\n * @property userAgent - string - the user agent of the requests for this user\n * @property country - string - the two letter country code of the user\n * @property locale - string - the locale for the user\n * @property appVersion - string -  the current version of the app\n * @property custom - Map<string, string> - any additional custom user attributes for custom conditions in the console\n * @property privateAttributes - Map<string, Object> - any user attributes that should be used in evaluation only and removed in any logs.\n * @property customIDs - Map<string, string> - Map of ID name to ID value for custom identifiers\n */\ndata class StatsigUser\n'})}),"\n",(0,i.jsx)(n.h3,{id:"statsigserver",children:"StatsigServer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"sealed class StatsigServer {\n    companion object {\n        @JvmStatic\n        @JvmOverloads\n        fun create(): StatsigServer\n    }\n\n    fun initializeAsync(\n        serverSecret: String,\n        options: StatsigOptions,\n    ): CompletableFuture<InitializationDetails?>\n\n    fun isInitialized(): Boolean\n\n    fun checkGateSync(user: StatsigUser, gateName: String): Boolean\n    \n    fun checkGateSync(user: StatsigUser, gateName: String, option: CheckGateOptions?): Boolean\n    \n    fun checkGateAsync(user: StatsigUser, gateName: String): CompletableFuture<Boolean>\n    \n    fun getFeatureGate(user: StatsigUser, gateName: String): APIFeatureGate\n    \n    fun getFeatureGate(user: StatsigUser, gateName: String, option: GetFeatureGateOptions?): APIFeatureGate\n    \n    fun checkGateWithExposureLoggingDisabledAsync(\n        user: StatsigUser,\n        gateName: String,\n    ): CompletableFuture<Boolean>\n\n    fun getConfigSync(\n        user: StatsigUser,\n        dynamicConfigName: String,\n    ): DynamicConfig\n    \n    fun getConfigSync(\n        user: StatsigUser,\n        dynamicConfigName: String,\n        option: GetConfigOptions?,\n    ): DynamicConfig\n    \n    fun getConfigAsync(\n        user: StatsigUser,\n        dynamicConfigName: String,\n    ): CompletableFuture<DynamicConfig>\n    \n    fun getConfigWithExposureLoggingDisabledAsync(\n        user: StatsigUser,\n        dynamicConfigName: String,\n    ): CompletableFuture<DynamicConfig>\n\n    fun getExperimentSync(\n        user: StatsigUser,\n        experimentName: String,\n    ): DynamicConfig\n    \n    fun getExperimentSync(\n        user: StatsigUser,\n        experimentName: String,\n        option: GetExperimentOptions?,\n    ): DynamicConfig\n    \n    fun getExperimentAsync(\n        user: StatsigUser,\n        experimentName: String,\n    ): CompletableFuture<DynamicConfig>\n    \n    fun getExperimentWithExposureLoggingDisabledAsync(\n        user: StatsigUser,\n        experimentName: String,\n    ): CompletableFuture<DynamicConfig>\n\n    fun getExperimentInLayerForUserAsync(\n        user: StatsigUser,\n        layerName: String,\n        disableExposure: Boolean = false,\n    ): CompletableFuture<DynamicConfig>\n\n    fun getLayerSync(\n        user: StatsigUser,\n        layerName: String,\n    ): Layer\n    \n    fun getLayerSync(\n        user: StatsigUser,\n        layerName: String,\n        option: GetLayerOptions?,\n    ): Layer\n    \n    fun getLayerAsync(\n        user: StatsigUser,\n        layerName: String,\n    ): CompletableFuture<Layer>\n    \n    fun getLayerWithExposureLoggingDisabledAsync(\n        user: StatsigUser,\n        layerName: String,\n    ): CompletableFuture<Layer>\n\n    fun overrideGate(gateName: String, gateValue: Boolean)\n    \n    fun overrideGate(gateName: String, gateValue: Boolean, forID: String?)\n    \n    fun removeGateOverride(gateName: String)\n    \n    fun removeGateOverride(gateName: String, forID: String?)\n\n    fun overrideConfig(configName: String, configValue: Map<String, Any>)\n    \n    fun overrideConfig(configName: String, configValue: Map<String, Any>, forID: String?)\n    \n    fun removeConfigOverride(configName: String)\n    \n    fun removeConfigOverride(configName: String, forID: String?)\n\n    fun overrideLayer(layerName: String, value: Map<String, Any>)\n    \n    fun overrideLayer(layerName: String, value: Map<String, Any>, forID: String?)\n    \n    fun removeLayerOverride(layerName: String)\n    \n    fun removeLayerOverride(layerName: String, forID: String?)\n\n    fun logEvent(\n        user: StatsigUser?,\n        eventName: String,\n        value: String? = null,\n        metadata: Map<String, String>? = null,\n    )\n    \n    fun logEvent(\n        user: StatsigUser?,\n        eventName: String,\n        value: Double,\n        metadata: Map<String, String>? = null,\n    )\n\n    fun manuallyLogGateExposureAsync(user: StatsigUser, gateName: String): CompletableFuture<Void>\n    \n    fun manuallyLogConfigExposureAsync(user: StatsigUser, configName: String): CompletableFuture<Void>\n    \n    fun manuallyLogExperimentExposureAsync(user: StatsigUser, experimentName: String): CompletableFuture<Void>\n    \n    fun manuallyLogLayerParameterExposureAsync(\n        user: StatsigUser,\n        layerName: String,\n        paramName: String,\n    ): CompletableFuture<Void>\n\n    fun getClientInitializeResponse(\n        user: StatsigUser,\n        hash: HashAlgo = HashAlgo.SHA256,\n        clientSDKKey: String? = null,\n    ): Map<String, Any>\n    \n    fun getOnDeviceEvalInitializeResponse(\n        clientSDKKey: String? = null,\n    ): Map<String, Any>\n    \n    fun getEvaluationsForUser(\n        user: StatsigUser,\n        hash: HashAlgo = HashAlgo.SHA256,\n        clientSDKKey: String? = null,\n    ): Map<String, Any>\n\n    fun syncConfigSpecs(): CompletableFuture<ConfigSyncDetails>\n\n    fun shutdown()\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"dynamicconfig",children:"DynamicConfig"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'class DynamicConfig(\n    val name: String,\n    private val value: Map<String, Any>,\n    val ruleID: String?,\n    val groupName: String?,\n    val secondaryExposures: ArrayList<Map<String, String>>,\n    val evaluationDetails: EvaluationDetails?,\n    val isActive: Boolean = true,\n    val idType: String? = null,\n) {\n    fun <T> getValue(key: String, default: T): T\n    \n    fun <T> getValue(key: String, default: T, type: Class<T>): T\n    \n    fun getValue(): Map<String, Any>\n    \n    fun has(key: String): Boolean\n    \n    companion object {\n        fun empty(configName: String = ""): DynamicConfig\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"layer",children:"Layer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'class Layer(\n    val name: String,\n    val ruleID: String?,\n    val groupName: String?,\n    private val value: Map<String, Any>,\n    val secondaryExposures: ArrayList<Map<String, String>>,\n    val configDelegate: String? = null,\n    val evaluationDetails: EvaluationDetails? = null,\n    val isActive: Boolean = true,\n) {\n    fun <T> getValue(key: String, default: T): T\n    \n    fun <T> getValue(key: String, default: T, type: Class<T>): T\n    \n    fun getValue(): Map<String, Any>\n    \n    fun has(key: String): Boolean\n    \n    companion object {\n        fun empty(layerName: String = ""): Layer\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"statsigoptions-and-statsigenvironment",children:"StatsigOptions and StatsigEnvironment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'enum class LogLevel(val value: Int) {\n    NONE(0),\n    DEBUG(1),\n    INFO(2),\n    WARN(3),\n    ERROR(4),\n}\n\n// Logger Interface\ninterface LoggerInterface {\n    fun error(message: String)\n    fun warn(message: String)\n    fun info(message: String)\n    fun debug(message: String)\n    fun setLogLevel(level: LogLevel)\n}\n\n/**\n * A SAM for Java compatibility\n */\n@FunctionalInterface\nfun interface RulesUpdatedCallback {\n    fun accept(rules: String)\n}\n\nenum class DataSource {\n    NETWORK,\n    STATSIG_NETWORK,\n    DATA_STORE,\n    BOOTSTRAP,\n}\n\nenum class NetworkEndpoint {\n    DOWNLOAD_CONFIG_SPECS,\n    GET_ID_LISTS,\n    LOG_EVENT,\n    ALL_ENDPOINTS,\n}\n\nenum class NetworkProtocol {\n    HTTP,\n    GRPC,\n    GRPC_WEBSOCKET,\n}\n\nenum class AuthenticationMode {\n    DISABLED,\n    TLS,\n    MTLS,\n}\n\n/**\n * An object of properties for initializing the sdk with advanced options\n * @property api the api endpoint to use for initialization and logging\n * @property initTimeoutMs the amount of time to wait for an initialize() response from the server\n * @property apiForDownloadConfigSpecs the api endpoint to use for initialization and logging\n * @property apiForGetIdlists the api endpoint to use for ID lists\n * @property bootstrapValues bootstrap values for initialization\n * @property rulesUpdatedCallback callback for when rules are updated\n * @property localMode whether to run in local mode\n * @property disableDiagnostics whether to disable diagnostics\n * @property rulesetsSyncIntervalMs interval for syncing rulesets\n * @property idListsSyncIntervalMs interval for syncing ID lists\n * @property dataStore custom data store implementation\n * @property customLogger custom logger implementation\n * @property disableAllLogging whether to disable all logging\n * @property proxyConfig proxy configuration\n * @property endpointProxyConfigs endpoint-specific proxy configurations\n * @property initializeSources sources to use for initialization\n * @property configSyncSources sources to use for config sync\n * @property fallbackToStatsigAPI whether to fall back to Statsig API\n * @property disableIPResolution whether to disable IP resolution\n * @property userPersistentStorage custom user persistent storage implementation\n * @property logLevel log level\n */\nclass StatsigOptions(\n    var api: String? = null,\n    var initTimeoutMs: Long = DEFAULT_INIT_TIME_OUT_MS,\n    var apiForDownloadConfigSpecs: String? = null,\n    var apiForGetIdlists: String? = null,\n    var bootstrapValues: String? = null,\n    var rulesUpdatedCallback: RulesUpdatedCallback? = null,\n    var localMode: Boolean = false,\n    var disableDiagnostics: Boolean = false,\n    var rulesetsSyncIntervalMs: Long = CONFIG_SYNC_INTERVAL_MS,\n    var idListsSyncIntervalMs: Long = ID_LISTS_SYNC_INTERVAL_MS,\n    var dataStore: IDataStore? = null,\n    var customLogger: LoggerInterface = defaultLogger,\n    var disableAllLogging: Boolean = false,\n    var proxyConfig: ProxyConfig? = null,\n    var endpointProxyConfigs: Map<NetworkEndpoint, ForwardProxyConfig> = mapOf(),\n    var initializeSources: List<DataSource>? = null,\n    var configSyncSources: List<DataSource>? = null,\n    var fallbackToStatsigAPI: Boolean = false,\n    var disableIPResolution: Boolean = false,\n    var userPersistentStorage: IUserPersistentStorage? = null,\n    var logLevel: LogLevel? = null,\n) {\n    // Set the environment tier\n    fun setTier(tier: String)\n    \n    // Set an environment parameter\n    fun setEnvironmentParameter(key: String, value: String)\n    \n    // Get the environment\n    fun getEnvironment(): MutableMap<String, String>?\n}\n\n// Forward Proxy Configuration\ndata class ForwardProxyConfig(\n    var proxyAddress: String,\n    val proxyProtocol: NetworkProtocol,\n    val maxRetryAttempt: Int? = null,\n    val retryBackoffMultiplier: Int? = null,\n    val retryBackoffBaseMs: Long? = null,\n    val pushWorkerFailoverThreshold: Int? = null,\n    var authenticationMode: AuthenticationMode = AuthenticationMode.DISABLED,\n    var tlsCertChain: InputStream? = null,\n    var tlsPrivateKey: InputStream? = null,\n    var tlsPrivateKeyPassword: InputStream? = null,\n)\n\n// Proxy Configuration\ndata class ProxyConfig @JvmOverloads constructor(\n    var proxyHost: String,\n    var proxyPort: Int,\n    var proxyAuth: String? = null,\n    val proxySchema: String = "https",\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"option-classes",children:"Option Classes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"data class GetFeatureGateOptions(var disableExposureLogging: Boolean = false)\n\ndata class CheckGateOptions(var disableExposureLogging: Boolean = false)\n\ndata class GetConfigOptions(var disableExposureLogging: Boolean = false)\n\ndata class PersistentAssignmentOptions(\n    var enforceTargeting: Boolean = false,\n    var enforceOverrides: Boolean = false,\n)\n\ndata class GetLayerOptions(\n    var disableExposureLogging: Boolean = false,\n    var userPersistedValues: PersistedValues? = null,\n    var persistentAssignmentOptions: PersistentAssignmentOptions? = null,\n)\n\ndata class GetExperimentOptions(\n    var disableExposureLogging: Boolean = false,\n    var userPersistedValues: PersistedValues? = null,\n    var persistentAssignmentOptions: PersistentAssignmentOptions? = null,\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"evaluationdetails-and-evaluationreason",children:"EvaluationDetails and EvaluationReason"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'class EvaluationDetails(\n    var configSyncTime: Long,\n    var initTime: Long,\n    var reason: EvaluationReason,\n) {\n    var serverTime: Long\n    \n    fun toMap(): Map<String, String>\n}\n\nenum class EvaluationReason(val reason: String) {\n    NETWORK("Network"),\n    LOCAL_OVERRIDE("LocalOverride"),\n    UNRECOGNIZED("Unrecognized"),\n    UNINITIALIZED("Uninitialized"),\n    BOOTSTRAP("Bootstrap"),\n    DATA_ADAPTER("DataAdapter"),\n    UNSUPPORTED("Unsupported"),\n    DEFAULT("Default"),\n    PERSISTED("Persisted"),\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"datastore",children:"DataStore"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"abstract class IDataStore {\n    abstract fun get(key: String): String?\n    abstract fun set(key: String, value: String)\n    abstract fun shutdown()\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"user-persistent-storage",children:"User Persistent Storage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"interface IUserPersistentStorage {\n    suspend fun getPersistedValues(user: StatsigUser, idType: String): PersistedValues\n    \n    suspend fun getFilteredPersistedValues(user: StatsigUser, names: List<String>): PersistedValues\n    \n    suspend fun setPersistedValue(\n        user: StatsigUser,\n        name: String,\n        value: String,\n        idType: String,\n    )\n}\n\ntypealias PersistedValues = Map<String, String>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"apifeaturegate",children:"APIFeatureGate"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"data class APIFeatureGate(\n    val name: String,\n    val value: Boolean,\n    val ruleID: String?,\n    val secondaryExposures: ArrayList<Map<String, String>> = arrayListOf(),\n    val reason: EvaluationReason?,\n    val evaluationDetails: EvaluationDetails?,\n    val idType: String?,\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"initializationdetails",children:"InitializationDetails"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"class InitializationDetails(\n    val duration: Long,\n    val isSDKReady: Boolean,\n    val configSpecReady: Boolean,\n    val failureDetails: FailureDetails? = null,\n)\n\ndata class FailureDetails(\n    val reason: FailureReason,\n    val message: String? = null,\n)\n\nenum class FailureReason {\n    INVALID_SDK_KEY,\n    NETWORK_ERROR,\n    INTERNAL_ERROR,\n    TIMEOUT,\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configsyncdetails",children:"ConfigSyncDetails"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"data class ConfigSyncDetails(\n    val duration: Long,\n    val configSpecReady: Boolean,\n    val failureDetails: FailureDetails? = null,\n    val lcut: Long,\n)\n"})})]})}function A(e){const n={code:"code",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Available in v1.4.1+"}),"\n",(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\nStatsigUser user = new StatsigUser("user_id");\nMap<String, Object> initializeValues = driver.getClientInitializeResponse(user);\n\n// pass initializeValues to a client SDK to initialize without a network request\n'})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'\nval user = StatsigUser("user_id");\nval initializeValues = Statsig.getClientInitializeResponse(user);\n\n// pass initializeValues to a client SDK to initialize without a network request\n'})})})]})]})}t(98026);const D={gateSnippet:(0,i.jsx)(w.A,{language:"java",children:'val passed_or_failed = Statsig.checkGateWithExposureLoggingDisabled(user, "a_gate");'}),gateExposureSnippet:(0,i.jsx)(w.A,{language:"java",children:'Statsig.manuallyLogGateExposure(user, "a_gate");'}),configSnippet:(0,i.jsx)(w.A,{language:"java",children:'val config = Statsig.getConfigWithExposureLoggingDisabled(user, "awesome_product_details")'}),configExposureSnippet:(0,i.jsx)(w.A,{language:"java",children:'Statsig.manuallyLogConfigExposure(user, "awesome_product_details");'}),experimentSnippet:(0,i.jsx)(w.A,{language:"java",children:'val titleExperiment = Statsig.getExperimentWithExposureLoggingDisabled(user, "new_user_promo_title")'}),experimentExposureSnippet:(0,i.jsx)(w.A,{language:"java",children:'Statsig.manuallyLogConfigExposure(user, "new_user_promo_title");'}),layerSnippet:(0,i.jsx)(w.A,{language:"java",children:'val layer = Statsig.getLayerWithExposureLoggingDisabled(user, "user_promo_experiments")\nval promoTitle = layer.getString("title", "Welcome to Statsig!")'}),layerExposureSnippet:(0,i.jsx)(w.A,{language:"java",children:'Statsig.manuallyLogLayerParameterExposure(user, "user_promo_experiments");'})};function I(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'  String address = "0.0.0.0:50051";\n  Map<NetworkEndpoint, ForwardProxyConfig> proxyConfigs = new HashMap();\n  proxyConfigs.put(NetworkEndpoint.DOWNLOAD_CONFIG_SPECS, new ForwardProxyConfig(address, NetworkProtocol.GRPC_WEBSOCKET));\n  StatsigOptions options = new StatsigOptions();\n  options.setEndpointProxyConfigs(proxyConfigs);\n  Statsig.initializeAsync(secret_key, options).join();\n'})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'val proxyAddress = "0.0.0.0:50051"  // local address for Statsig Forward Proxy, change to your proxy address\nval endpointProxyConfigs = mapOf(NetworkEndpoint.DOWNLOAD_CONFIG_SPECS to ForwardProxyConfig(proxyAddress, NetworkProtocol.GRPC_WEBSOCKET))\nval opts = StatsigOptions(endpointProxyConfigs = endpointProxyConfigs)\nStatsig.initialize(opts);\n'})})})]})}function T(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(d.A,{groupId:"java-server-sdk-lang-choice",defaultValue:"java",values:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],children:[(0,i.jsx)(u.A,{value:"java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"StatsigServer sdkInstance = new StatsigServer();\nFuture initFuture = sdkInstance.initializeAsync(serverSecret, options);\ninitFuture.get();\n"})})}),(0,i.jsx)(u.A,{value:"kotlin",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"val statsigServer = StatsigServer.create()\nasync { statsigServer.initialize(serverSecret, options) }.await()\n"})})})]})}function E(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"typealias UserPersistedValues = Map<String, StickyValues>\n\ninterface IUserPersistentStorage {\n    /**\n     * Returns the full map of persisted values for a specific user key\n     * @param key user key\n     */\n    suspend fun load(key: String): UserPersistedValues\n\n    /**\n     * Save the persisted values of a config given a specific user key\n     * @param key user key\n     * @param configName Name of the config/experiment\n     * @param data Object representing the persistent assignment to store for the given user-config\n     */\n    fun save(key: String, configName: String, data: StickyValues)\n\n    /**\n     * Delete the persisted values of a config given a specific user key\n     * @param key user key\n     * @param configName Name of the config/experiment\n     */\n    fun delete(key: String, configName: String)\n}\n"})})}function R(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"class KongUserPersistedStorageAdapter() : IUserPersistentStorage {\n    private var value: MutableMap<String, UserPersistedValues> = mutableMapOf()\n\n    override suspend fun load(key: String): UserPersistedValues {\n        return value[key] ?: mapOf()\n    }\n\n    override fun save(key: String, experimentName: String, data: StickyValues) {\n        val userPersistedValue = (value[key] ?: mutableMapOf()) as MutableMap<String, StickyValues>\n        userPersistedValue[experimentName] = data\n        value[key] = userPersistedValue\n    }\n\n    override fun delete(key: String, experiment: String) {\n        value.remove(key)\n    }\n}\n"})})}function C(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"authentication_mode: TLS, mTLS, disabled // default is disabled\ntlsPrivateKeyPassword // Input stream to client certification \ntlsPrivateKey // Input stream to client key password\ntlsCertChain  // Input stream to root TLS certificate\n"})})}const N={sidebar_label:"Legacy Java/Kotlin Server",title:"Legacy Java/Kotlin Server SDK",keywords:["owner:brock"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},L=void 0,F={id:"server/javaSdk",title:"Legacy Java/Kotlin Server SDK",description:"{Builder.result}",source:"@site/docs/server/javaSdk.mdx",sourceDirName:"server",slug:"/server/javaSdk",permalink:"/server/javaSdk",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/server/javaSdk.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{sidebar_label:"Legacy Java/Kotlin Server",title:"Legacy Java/Kotlin Server SDK",keywords:["owner:brock"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"api",previous:{title:"Legacy Erlang/Elixir",permalink:"/server/erlangSDK"},next:{title:"Legacy Rust",permalink:"/server/rustSDK"}},M={},P=(0,s.PG)({sections:[[a.Repository,{repo:"https://github.com/statsig-io/java-server-sdk"}],[a.GettingStarted,{sdkType:"Java/Kotlin",preamble:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}),{}),install:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}),{}),initialize:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}),{})}],[a.WorkingWith,{checkGate:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}),{}),getConfig:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}),{}),getExperiment:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(v,{...e})}):v(e)}),{}),logEvent:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}),{}),getFeatureGate:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}),{})}],[a.StatsigUser,{}],[a.StatsigOptions,{options:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(y,{...e})}):y(e)}),{})}],[a.Shutdown,{shutdown:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(S,{...e})}):S(e)}),{})}],[a.ClientInitResponse,{sdkName:"Java/Kotlin",addedInVersion:"1.4.1",snippet:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(A,{...e})}):A(e)}),{}),signature:()=>{const e={code:"code",...(0,r.R)()};return(0,i.jsx)(e.code,{children:"getClientInitializeResponse"})}}],[a.LocalOverrides,{snippet:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(b,{...e})}):b(e)}),{})}],[a.ManualExposures,{addedInVersion:"0.11.0",...D}],[a.UserPersistentStorage,{interface:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(E,{...e})}):E(e)}),{}),example:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(R,{...e})}):R(e)}),{})}],[a.Instances,{constructor:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(T,{...e})}):T(e)}),{})}],[a.ProxyConfigs,{addedInVersion:"1.24.0",installation:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}),{}),code:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(I,{...e})}):I(e)}),{}),tlsExample:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(C,{...e})}):C(e)}),{}),tlsAddedInVersion:"1.30.0"}],[a.FAQ,{faqs:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(f,{...e})}):f(e)}),{})}],[a.Reference,{snippets:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(k,{...e})}):k(e)}),{})}]]}),O=P.toc;function G(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(i.Fragment,{children:P.result})})}function B(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(G,{...e})}):G()}}}]);