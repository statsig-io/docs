"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[42949],{50579:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var o=n(74848),i=n(28453);const s={title:"Get Started with Autotune AI",sidebar_label:"Getting Started",slug:"/autotune/contextual/getting-started",keywords:["owner:vm"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},r="Set Up Your Contextual Autotune",a={id:"autotune/contextual/getting-started",title:"Get Started with Autotune AI",description:"Getting started with Autotune AI can be done very quickly.",source:"@site/docs/autotune/contextual/getting-started.md",sourceDirName:"autotune/contextual",slug:"/autotune/contextual/getting-started",permalink:"/autotune/contextual/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/autotune/contextual/getting-started.md",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Get Started with Autotune AI",sidebar_label:"Getting Started",slug:"/autotune/contextual/getting-started",keywords:["owner:vm"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud",previous:{title:"Contextual Bandit",permalink:"/autotune/contextual/introduction"},next:{title:"Monitoring",permalink:"/autotune/contextual/monitoring"}},u={},l=[{value:"Make the Contextual Autotune",id:"make-the-contextual-autotune",level:2},{value:"Configure Optimization",id:"configure-optimization",level:2},{value:"Training Settings",id:"training-settings",level:2},{value:"Notes",id:"notes",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Getting started with Autotune AI can be done very quickly."}),"\n",(0,o.jsxs)(t.admonition,{type:"warning",children:[(0,o.jsx)(t.p,{children:"Statsig supports contextual autotune in all Client SDKs, but only in the following server SDKs:"}),(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/server-core/node-core",children:"Node"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/server-core/python-core",children:"Python"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/server-core/java-core",children:"Java"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/server-core/elixir-core",children:"Elixir"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/server-core/rust-core",children:"Rust"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/server-core/php-core",children:"Php"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/server/rubySDK",children:"Ruby"})}),"\n"]})]}),"\n",(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"set-up-your-contextual-autotune",children:"Set Up Your Contextual Autotune"})}),"\n",(0,o.jsx)(t.p,{children:"The first thing you will do is configure your contextual autotune in the Statsig console. This can also be configured programmatically via the Statsig console API."}),"\n",(0,o.jsx)(t.h2,{id:"make-the-contextual-autotune",children:"Make the Contextual Autotune"}),"\n",(0,o.jsx)(t.p,{children:"Log into your Statsig console, and navigate to Autotune under Experiments."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://github.com/user-attachments/assets/167d5e87-c155-4465-9419-bcf018c496cb",alt:"Autotune Nav"})}),"\n",(0,o.jsx)(t.p,{children:"Click create. You need to name your contextual autotune, and optionally specify the goal so other users can understand the motivation behind it."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://github.com/user-attachments/assets/b16fb9a6-80f4-495c-8ebc-b0cdcdb1d8a8",alt:"Create Autotune"})}),"\n",(0,o.jsx)(t.p,{children:"Set your autotune type to Contextual"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://github.com/user-attachments/assets/4398ae6f-0763-49c0-a49b-804daece4da8",alt:"Contextual"})}),"\n",(0,o.jsx)(t.h2,{id:"configure-optimization",children:"Configure Optimization"}),"\n",(0,o.jsx)(t.p,{children:"If optimizing for"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Users clicking"}),"\n",(0,o.jsx)(t.li,{children:"Checkouts"}),"\n",(0,o.jsx)(t.li,{children:"Actions"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Choose event occurring /outcome. If optimizing for a continuous output like"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Revenue"}),"\n",(0,o.jsx)(t.li,{children:"Latency"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Choose Event Value, and set the directionality. You will also choose the field from your log or metric source (warehouse native) that you want to use for the value."}),"\n",(0,o.jsx)(t.p,{children:"For warehouse native customers, specify the metric source and optional filters for your target event."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://github.com/user-attachments/assets/4885eac2-38ec-42f1-bd52-592b728623a0",alt:"Setup"})}),"\n",(0,o.jsx)(t.p,{children:"We highly recommend wrapping contextual autotunes in an experiment, but it is not required. You can set this up before your contextual autotune, and after. This experiment will wrap autotune calls in code, and can be used to measure the topline impact of using this contextual autotune in your project."}),"\n",(0,o.jsx)(t.h2,{id:"training-settings",children:"Training Settings"}),"\n",(0,o.jsx)(t.p,{children:"The other settings can use defaults, but you may want to tune them as well:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Exploration window: how long to serve traffic randomly to bootstrap the exploration of the bandit"}),"\n",(0,o.jsx)(t.li,{children:"Attribution window: how long, after a user sees your variant, to count outcome events for. If set to 1 hour, a user has 1 hour to click after seeing our experience in the example above"}),"\n",(0,o.jsx)(t.li,{children:"Exploration rate: controls how much the bandit favors explore vs. exploit. 0 would not use confidence intervals at all and would just use the best prediction. 1 would use close to the 99.9% CI instead of the 95% CI for exploration"}),"\n",(0,o.jsx)(t.li,{children:"Long-term exploration allocation %: how much traffic will always get randomly assigned? Use higher values if you plan to run this contextual autotune for a long time to help avoid drift"}),"\n",(0,o.jsx)(t.li,{children:"Feature list: provide a list of features Statsig should use to train the model. This is just a mask/filter, and if not set Statsig will read every custom attribute. The main use case is fetching this via CAPI to understand which features a given contextual autotune requires for evaluation when they're fetched on-demand (e.g. introducing latency)"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://github.com/user-attachments/assets/8c87e142-247d-42b3-8baa-04f8967ae400",alt:"Setup"})}),"\n",(0,o.jsx)(t.p,{children:'Set up your variants. These are configurations that you will fetch in code. For example, the group below would send this configuration to your codebase and the "red" value could be passed to the color setting on a button.'}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.img,{src:"https://github.com/user-attachments/assets/591c0b49-2a40-4bb9-9bef-311bd1d64651",alt:"Screenshot 2025-03-14 at 10 49 57\u202fAM"}),"\n",(0,o.jsx)(t.img,{src:"https://github.com/user-attachments/assets/10b13396-9bb5-4045-b514-45b0861885cb",alt:"Screenshot 2025-03-14 at 10 49 51\u202fAM"})]}),"\n",(0,o.jsx)(t.h1,{id:"use-the-contextual-autotune-in-code-python-example",children:"Use the Contextual Autotune in Code (python example)"}),"\n",(0,o.jsx)(t.p,{children:"We assume you have your server secret key for the following code. Before running python, you'll need the SDK:"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.code,{children:"pip install statsig-python-core"})}),"\n",(0,o.jsx)(t.p,{children:"First, import and initialize Statsig:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"from statsig_python_core import Statsig, StatsigUser\n\nkey = <your_key_here>\nautotune_name = <autotune_name_here>\n\nstatsig = Statsig(key)\nstatsig.initialize().wait()\n"})}),"\n",(0,o.jsx)(t.p,{children:"Then, create a user object and fetch your config:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"user = StatsigUser('user_id', custom={'key1': 'value1', 'key2': 'value2'})\ncfg = statsig.get_experiment(user, autotune_name)\n"})}),"\n",(0,o.jsx)(t.p,{children:"Now you have your cfg and can apply it!"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'color = cfg.get_string("color", "default color")\nprint(f"Going to use {color} for my color now")\n'})}),"\n",(0,o.jsx)(t.p,{children:"You should be able to:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"see that you fetched a value from one of your variants"}),"\n",(0,o.jsx)(t.li,{children:"go to the diagnostics page of your autotune, and see a log of the userID along with the corresponding variant"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"That's it! Your code is now serving personalized variants to your users."}),"\n",(0,o.jsx)(t.h2,{id:"notes",children:"Notes"}),"\n",(0,o.jsx)(t.p,{children:'Statsig requires a few hundred units to train a model, and will also not start training until those units\' attribution window has elapsed. If you want to test the functionality, we highly recommend "faking a test" to confirm things work like you expect - use logic like'}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"fetch_autotune_value()\nif(user country == 'us'):\n    log_click()\n"})}),"\n",(0,o.jsx)(t.p,{children:"to conditionally send events and make sure the model picks up on the conditional behavior"})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var o=n(96540);const i={},s=o.createContext(i);function r(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);