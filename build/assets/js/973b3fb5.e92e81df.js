"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[82916],{35598:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var s=n(74848),i=n(28453);const r={title:"How to run an AB Test in Rust",sidebar_label:"First AB Test in Rust",slug:"/developer-guides/abtest-in-rust",displayed_sidebar:"cloud",keywords:["owner:brock"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},a=void 0,o={id:"developer-guides/abtest-in-rust",title:"How to run an AB Test in Rust",description:"Running a simple A/B experiment in a web page with Rust and the Statsig SDK only takes a couple steps, including setting up your Rust environment, integrating with Statsig for A/B testing, and configuring the experiment via the Statsig console. See below a 5-minute guide:",source:"@site/docs/developer-guides/abtest-in-rust.md",sourceDirName:"developer-guides",slug:"/developer-guides/abtest-in-rust",permalink:"/developer-guides/abtest-in-rust",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/developer-guides/abtest-in-rust.md",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"How to run an AB Test in Rust",sidebar_label:"First AB Test in Rust",slug:"/developer-guides/abtest-in-rust",displayed_sidebar:"cloud",keywords:["owner:brock"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud"},l={},d=[{value:"Step 1: Set Up Your Rust Environment",id:"step-1-set-up-your-rust-environment",level:3},{value:"Step 2: Integrate Statsig for A/B Testing",id:"step-2-integrate-statsig-for-ab-testing",level:3},{value:"Step 3: Creating the A/B Test in Statsig Console",id:"step-3-creating-the-ab-test-in-statsig-console",level:3}];function c(e){const t={a:"a",code:"code",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"Running a simple A/B experiment in a web page with Rust and the Statsig SDK only takes a couple steps, including setting up your Rust environment, integrating with Statsig for A/B testing, and configuring the experiment via the Statsig console. See below a 5-minute guide:"}),"\n",(0,s.jsx)(t.h3,{id:"step-1-set-up-your-rust-environment",children:"Step 1: Set Up Your Rust Environment"}),"\n",(0,s.jsx)(t.p,{children:"First, you'll need to set up your Rust environment."}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Ensure Rust is Installed"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Ensure Rust is installed on your system. If not, ",(0,s.jsx)(t.a,{href:"https://www.rust-lang.org/tools/install",children:"you can download it from the official Rust website."})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Add Statsig as a Dependency"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["To use the SDK, add Statsig as a dependency in your ",(0,s.jsx)(t.code,{children:"Cargo.toml"}),". The latest version can be found at crates.io/crates/statsig. We'll also install tokio to manage async calls.","\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-toml",children:'[dependencies]\n  statsig = "0.2.4"\n  tokio = { version = "1.0", features = ["full"] }\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"step-2-integrate-statsig-for-ab-testing",children:"Step 2: Integrate Statsig for A/B Testing"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Initialize the SDK"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["After installation, you will need to initialize the SDK using a Server Secret Key from the Statsig console. Replace ",(0,s.jsx)(t.code,{children:"'secret-key'"})," with your actual Statsig server-side SDK key. Its likely you'll want to write all of this inside your main function in your main.rs file, where Rust will look for an entry point.","\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rust",children:'//At the top of your file\nuse statsig::{Statsig};\n#[tokio::main]\nasync fn main() {\nStatsig::initialize("secret-key").await;\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Update Your Application for A/B Testing"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Modify your application to use the call the Statsig SDK to fetch and get values from your experiment. This should come after initialization in your application, and will return the values from the SDK that you set up in y our A/B test on the Statsig console. Note - this code won't run until you create and start your experiment on the Statsig console."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Ensure to replace ",(0,s.jsx)(t.code,{children:"'your_experiment_name'"}),' with the name of your experiment, and "backgroundColor" with the name of the parameter you add on the console.']}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rust",children:'#[tokio::main]\nasync fn main() {\n    // Initialize the Statsig SDK with your Server Secret Key\n    Statsig::initialize("secret-key").await;\n    // Check if a feature flag is enabled for a user\n    let user = StatsigUser::with_user_id("a-user".to_string());\n\n    let experiment = Statsig::get_experiment(&user, "your_experiment_name").ok().unwrap();\n    let text_to_show = experiment.get("backgroundColor", "Hello, World!".to_string());\n\n    println!("{}", text_to_show);\n\n    // Shut down the Statsig SDK before exiting the application\n    Statsig::shutdown().await;\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"step-3-creating-the-ab-test-in-statsig-console",children:"Step 3: Creating the A/B Test in Statsig Console"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Log Into Statsig Console"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Navigate to the ",(0,s.jsx)(t.a,{href:"https://console.statsig.com",children:"Statsig Console"})," and sign in."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Create an Experiment"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:'Navigate to the "Experiments" section and click "Create New".'}),"\n",(0,s.jsxs)(t.li,{children:["Fill in the experiment details, including a unique name, in our example, ",(0,s.jsx)(t.code,{children:"'your_experiment_name'"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Configure Experiment Variants"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Define your variants, by default, control and test variants."}),"\n",(0,s.jsx)(t.li,{children:'Add a parameter that will be returned by each variant and add values to them - in our case we\'ve added "backgroundColor" as a parameter with "blue" and "red" as the values.'}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://github.com/statsig-io/.github/assets/74588208/8a667aeb-9189-4e7d-8a22-a42dabcdfe09",alt:"Experiment variant configuration interface"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Launch Your Experiment"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"After setting up your variants and their parameters, save your configurations and start the experiment."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Run your Rust file"}),":\nIn your terminal, navigate to your project directory (using cd statsig_rust_example) and run your application using the following command:"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"cargo run\n"})}),"\n",(0,s.jsxs)(t.p,{children:["By following these steps, you've set up a Rust application that utilizes Statsig to run an A/B test! You can use this sample to dynamically serve different content based on the experiment's variant, across all of your rust applications. See our ",(0,s.jsx)(t.a,{href:"/server/rustSDK",children:"Rust SDK"})," for more details, or join ",(0,s.jsx)(t.a,{href:"https://statsig.com/slack",children:"the Statsig Slack community."})]})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var s=n(96540);const i={},r=s.createContext(i);function a(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);