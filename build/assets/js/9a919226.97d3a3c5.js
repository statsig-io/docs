"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[37930],{43710:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>r,default:()=>l,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var i=n(74848),a=n(28453);const s={title:"Unit Count (Daily Participation) Metrics",sidebar_label:"Unit Count (Daily Participation)",keywords:["owner:vm"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},r=void 0,o={id:"statsig-warehouse-native/metrics/unit-count-rate",title:"Unit Count (Daily Participation) Metrics",description:"Summary",source:"@site/docs/statsig-warehouse-native/metrics/unit-count-rate.md",sourceDirName:"statsig-warehouse-native/metrics",slug:"/statsig-warehouse-native/metrics/unit-count-rate",permalink:"/statsig-warehouse-native/metrics/unit-count-rate",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/statsig-warehouse-native/metrics/unit-count-rate.md",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Unit Count (Daily Participation) Metrics",sidebar_label:"Unit Count (Daily Participation)",keywords:["owner:vm"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"warehouse",previous:{title:"Unit Count (Latest Value)",permalink:"/statsig-warehouse-native/metrics/unit-count-latest"},next:{title:"Mean",permalink:"/statsig-warehouse-native/metrics/mean"}},u={},d=[{value:"Summary",id:"summary",level:2},{value:"Use Cases",id:"use-cases",level:3},{value:"Calculation",id:"calculation",level:2},{value:"Options",id:"options",level:2}];function c(e){const t={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(t.p,{children:"Unit count metrics with the daily participation rate rollup type measure the fraction of days that the user participated in an action during the experiment."}),"\n",(0,i.jsx)(t.h3,{id:"use-cases",children:"Use Cases"}),"\n",(0,i.jsx)(t.p,{children:"This metric type is an analogue for DAU, and is useful for growth accounting and for measuring upkeep of usage and retention."}),"\n",(0,i.jsx)(t.h2,{id:"calculation",children:"Calculation"}),"\n",(0,i.jsx)(t.p,{children:"At the unit level, unit count metrics create a 1/0 flag for if they participated on a given day."}),"\n",(0,i.jsx)(t.p,{children:"At the group level, the mean is calculated as the SUM of the unit-level flags divided by each unit's days in th experiment, divided by the count of UNIQUE UNITS exposed to the experiment."}),"\n",(0,i.jsx)(t.p,{children:"This would look like the SQL below:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'-- Unit Level\nSELECT distinct\n  source_data.unit_id,\n  exposure_data.group_id\n  COUNT(distinct source_data.date) as value\nFROM source_data\nJOIN exposure_data\nON\n  -- Only include users who saw the experiment\n  source_data.unit_id = exposure_data.unit_id\n  -- Only include data from after the user saw the experiment\n  -- In this case exposure_data is already deduped to the "first exposure"\n  AND source_data.timestamp >= exposure_data.timestamp\nGROUP BY\n  source_data.unit_id,\n  exposure_data.group_id;\n\n-- Experiment\nSELECT\n  group_id,\n  unit_id,\n  date_diff(first_exposure_ds, today()) + 1 AS days_exposed\nFROM exposure_data\nGROUP BY group_id;\n\n-- Group Level\nSELECT\n  group_id,\n  SUM(value/days_exposed)/COUNT(distinct unit_id) as mean\nFROM unit_data\nJOIN group_data\nUSING (group_id, unit_id)\nGROUP BY group_id;\n'})}),"\n",(0,i.jsx)(t.h2,{id:"options",children:"Options"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Metric Breakdowns","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"You can configure Metadata Columns to group results by, getting easy access to dimensional views in pulse results"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Multi Source","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Sums can be built with inputs from multiple metric sources; think of this as a UNION in SQL. This can be useful if you have the same measure in sharded or disparate tables"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Rollup Mode","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Rollup Mode controls the specific way that Unit Count metrics are aggregated"}),"\n"]}),"\n"]}),"\n"]})]})}function l(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var i=n(96540);const a={},s=i.createContext(a);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);