"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[47721],{26627:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>a,default:()=>h,frontMatter:()=>o,toc:()=>c});var s=t(74848),i=t(28453);var r=t(21122);const o={},a=void 0,l=function({repo:e}){const n={a:"a",div:"div",...(0,i.R)()};return(0,s.jsx)(n.div,{style:{display:"flex"},children:(0,s.jsxs)(n.a,{href:e,style:{fontSize:14,fontWeight:"600",color:"var(--ifm-color-content)",display:"flex",alignItems:"center"},children:[(0,s.jsx)(r.A,{alt:"Docusaurus themed image",sources:{light:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2lsVFUUvjMWirYUkS5BXApUa2vd6gL+wAWjoP5RiW2EUBajAiqSuPADQ0w1UUQTrcFAUUSJEKriEuMWFKuJIElFSS24YNpQK6WoBbuAktbva880M8O8vnfevJm+CSf5cme599xzvnfffffce17AJFjycnLzUVwDXAgUAucBY4BMIEOqdQIdwJ/Az4J64OvWtoONibQvkACHgyiuBe4CbgLOjVNlE/AZsAmoBSE9viQAjueieBCYC5yVoAvWDKwHqkBEmy8IgON09lHgXmCESY4cBaqBlSCieUgIgOPDUCwBngBOM0MjXdL/CyDiv6QRAOcvR7EBKDL+kD3AbJBQl1AC4DjrLwaeBYYbf8m/ciu+BCJ6PScAzp+K4nXgTuNveQuYAxK6PSMAzo9C8TFwtUkN2Q7cDBIOx02AOP8FUGpSSzgf3GBHQsDGec7unwOTTWrKDiGhS02ATHjvALeb1JZ3gRlWE+MpVq0yMzIekRk/1YWP6o7Ors5vHI8AXH1Odl8BaTbKrwd4j10MTAduS8JqkKvA94BPgN0A56htNm2OMyDDKNhuSwCcT5dIrMBG6S4oLI1qezqKBcBjwGiPHW8HVgCr0W97VL/fobjMpv2vQAnaHgv/MdYVXurAeSNPhggRw56BQatRVgL3A0H5+xDwI8Dw9g/5Hlq+clmdDYwF8iV0zpb/GP2tApZHOx4m2xwQUCC+VVqOABg+AUUDkO6AgHkwaL2DJXORxPVNylUnw+gpXObaLXFRlxHoaw7U8uoXQ99vViNgqUPnKQfsKojhdW7GuxDW5JUtIuni432hH4JhLJ7Dq6qwcZiPZnpNXDJPfI0kQEJbjVM5PiIgW3nhlkQQILH9LGWnV/iIAK0ts8TngREwDchVKrnKRwRobckVnwcIKFcq4ONrkY8IWBT2SHUq5eEE3Khs/CRm6Z1+8V5sqVQ26/M5gHuhSJ79TqUFmIhOj/ppwQ8/Rshqb5yiWXFQFhsaWeU352UU0KaXlc2mBI1+Y3OzjyO/Gm2kSAIKFQ2awfQ+v3oP23gL/K5oUhh0GPiEZG8KxP97FHULgsqwtTUFCDioqHsGCRipaHA8BQjQrAcyg4roj5KVAgSMUtRNDyqVj0wBAlQ2koBuRf3xKUBAvqJuN1eCrYpAiHNAltNjpyFYDfL47oix38wdmDA5AvYr+kjzWRgcLVcqnKfsJwGNyk5u9TEBtyjrNwaVgRClTPKA/Db8aVOZslkDG2nD2vEuOkqGlLmYpHcGJLlJu8LjtvJFgx06Jvnq8xC33gUBeUE4waWjduua5wdVPrr6VS6cr6PvoXv5Ixed3g3mH/fB1V9OW1w07fM5IEouUEZR4bIWWJzsTRJ55r8I3ONSRRFs3hsIU8hkgkkulf0CPAx8qElQcuk4beYp9Epgoks138LOvqSPgfyAzIwMZlnFSobgIegc4H3gH6AkxmKDub9Mjb0DeoYDrZ1dne0eO14AvfPx8RXgAYaycahbBvt+GLgFpIM0md3PjqrMTMxpYKxB6p1v+s/n7bbSuMCqldmZyc+fRh9ND+IsAxrmG3C3qtj0J1uP84hLrnwnwJbjEQRIxzw0XB2jER93C9Bog9TjsRgzLpzuJr0BzHV6e8gwf9XoziqdCv1YE/oSTQBHwfem/3w+5syPxuukLtfdO0zk+WIs+YuPKLQ7ohzyWTIix3joPPMTLg1d/Yg5gIL7ogf32U/4WGGhYDr+34J6bUALPpPA62w6XYMOP9BaCv3HoD/PeJubODN6U/eEq4cKTIurttpBAZ4L+87TmKdtOt0ah8FbPXS+WnyLEKskqUy5FaweM5dA2e6w+pNkZuajhfMD3/zYBfDKb3Y6+cWwgytOL7bh98nQ73BEgHReIvd4Roy/a6Cs3CRYJOnq7zjV8HWcybC33mpLLKZIA84FPRYhcSokUNL2Civnjd0MjoZbUCy0+PtNkDDD5wQsFB8sxWm2+GJZd8eSt4HnZXnZ66Nb4CHYYxuxat4XmI1inbHeczskq77DMrK4z8AgK3+Q/L5EEMBn/PzQos0zAsQgvg5XY3TpNKOTSAD3NsrQX63TBqq9PVHM9NgvfXi/06ZSjfNqAoQEHj9Pled+pw8cpw2co6aKbSoJxDlJnYniKdP/sqSVrrEw7IBL/TnG+rSXEy7fYVoG/S1uffDkzVEYypB1qewJRCdb5rp9yxN6mQDZFmOS2wisCIXo8Yin7w7LiKiQEcFYfhOMnBmnzo1CLIO09Qyt47niJxDQ29trTmY56Qn4X4ABAFR7IoDmVT5NAAAAAElFTkSuQmCC",dark:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII="},style:{height:18,width:18,marginRight:6}}),e.replace("https://github.com/","")]})})},c=[];function d(e){return(0,s.jsx)(s.Fragment,{})}function h(e={}){return(0,s.jsx)(l,{...e,children:(0,s.jsx)(d,{...e})})}},96747:(e,n,t)=>{t.d(n,{PG:()=>h});var s=t(74848),i=t(28453);function r(e){return(0,s.jsx)("div",{style:{height:4}})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r()}var a=t(96540),l=(t(65848),t(5338));function c(){let e=null;try{const n=document.querySelector(".theme-last-updated > b > time");n&&null!=n.dateTime&&(e=new Date(n.dateTime).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}))}catch(n){}return(0,s.jsx)("div",{onClick:e=>e.preventDefault(),style:{cursor:"default",padding:"10px 20px",backgroundColor:"var(--ifm-navbar-background-color)",borderRadius:10,fontSize:12,color:"var(--ifm-color-content)"},children:(0,s.jsx)("a",{onClick:()=>window.open("https://statsig.com/community?ref=statsig_docs_toc","_blank").focus(),href:"#",children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("img",{src:"/img/slack.webp",style:{height:15,width:15}}),(0,s.jsx)("span",{style:{marginLeft:8},children:"Stuck? Ask Statsig on Slack"})]})})})}function d(){return(0,a.useEffect)((()=>{const e=document.querySelector("#sdk-toc-header");if(e?.getAttribute("x-last-updated")){l.createRoot(document.getElementById("sdk-toc-header")).render((0,s.jsx)(c,{}))}}),[]),(0,s.jsx)(s.Fragment,{})}const h=e=>{const n=e.sections,t=[];t.push({value:`<div id="sdk-toc-header" x-last-updated="${e.lastSDKDocsUpdate}"><div style="min-height: 65px; cursor: default; padding: 10px 20px; background-color: var(--ifm-navbar-background-color); border-radius: 10px; font-size: 12px; margin-bottom: 15px; color: var(--ifm-color-content);">...</div></div>`,id:"0",level:2});const i=n.map((([e,n],i)=>{const r=e.tocFilter,l=e.toc.filter((e=>!0!==r?.includes(e.id)));return t.push(...l),(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(e.default,{...n}),(0,s.jsx)(o,{})]},i)}));return{result:[(0,s.jsx)(d,{},"header"),...i],toc:t}}},41359:(e,n,t)=>{t.d(n,{km:()=>r});var s=t(74848),i=t(28453);const r=({version:e,includeAboveVersion:n=!0})=>{const t={span:"span",...(0,i.R)()};if(!e)return null;const r=n?"+":"";return(0,s.jsxs)(t.span,{style:{padding:"5px 10px",color:"var(--ifm-color-content)",backgroundColor:"var(--ifm-navbar-background-color)",borderRadius:30,marginLeft:10},children:["v",e,r]})}},51268:(e,n,t)=>{t.r(n),t.d(n,{ClientInitResponse:()=>dt,CustomAdapters:()=>ht,DataStore:()=>rt,EventSubscriptions:()=>ut,ExampleProgram:()=>st,FAQ:()=>Wn,FieldsNeededMethods:()=>ct,GettingStarted:()=>Jn,JavaCoreVsLegacy:()=>nt,LocalOverrides:()=>Xn,ManualExposures:()=>Hn,MigrationGuide:()=>lt,ObservabilityClient:()=>at,OutputLogger:()=>ot,PersistentStorage:()=>it,Reference:()=>$n,Repository:()=>Vn,ServerCore:()=>et,Shutdown:()=>Zn,StatsigOptions:()=>qn,StatsigUser:()=>Qn,SupportedCombinations:()=>tt,WorkingWith:()=>Yn,assets:()=>_n,contentTitle:()=>zn,default:()=>xt,frontMatter:()=>Gn,metadata:()=>Kn,toc:()=>pt});var s={};t.r(s),t.d(s,{contentTitle:()=>N,default:()=>M,frontMatter:()=>C,toc:()=>F});var i={};t.r(i),t.d(i,{contentTitle:()=>O,default:()=>G,frontMatter:()=>P,toc:()=>U});var r={};t.r(r),t.d(r,{contentTitle:()=>K,default:()=>J,frontMatter:()=>z,toc:()=>_});var o={};t.r(o),t.d(o,{contentTitle:()=>Y,default:()=>H,frontMatter:()=>W,toc:()=>Q});var a={};t.r(a),t.d(a,{contentTitle:()=>$,default:()=>ne,frontMatter:()=>Z,toc:()=>X});var l={};t.r(l),t.d(l,{contentTitle:()=>re,default:()=>le,frontMatter:()=>ie,toc:()=>oe});var c={};t.r(c),t.d(c,{contentTitle:()=>de,default:()=>pe,frontMatter:()=>ce,toc:()=>he});var d={};t.r(d),t.d(d,{contentTitle:()=>xe,default:()=>ve,frontMatter:()=>ge,toc:()=>me});var h={};t.r(h),t.d(h,{contentTitle:()=>we,default:()=>ke,frontMatter:()=>ye,toc:()=>be});var u={};t.r(u),t.d(u,{contentTitle:()=>De,default:()=>Ee,frontMatter:()=>Ae,toc:()=>Re});var p={};t.r(p),t.d(p,{contentTitle:()=>Ce,default:()=>Le,frontMatter:()=>Te,toc:()=>Ne});var g={};t.r(g),t.d(g,{contentTitle:()=>Pe,default:()=>Be,frontMatter:()=>Me,toc:()=>Oe});var x={};t.r(x),t.d(x,{contentTitle:()=>ze,default:()=>Ve,frontMatter:()=>Ge,toc:()=>Ke});var m={};t.r(m),t.d(m,{contentTitle:()=>Ye,default:()=>He,frontMatter:()=>We,toc:()=>Qe});var j={};t.r(j),t.d(j,{contentTitle:()=>$e,default:()=>nn,frontMatter:()=>Ze,toc:()=>Xe});var v={};t.r(v),t.d(v,{contentTitle:()=>sn,default:()=>an,frontMatter:()=>tn,toc:()=>rn});var f={};t.r(f),t.d(f,{contentTitle:()=>cn,default:()=>un,frontMatter:()=>ln,toc:()=>dn});var y={};t.r(y),t.d(y,{contentTitle:()=>xn,default:()=>vn,frontMatter:()=>gn,toc:()=>mn});var w={};t.r(w),t.d(w,{contentTitle:()=>yn,default:()=>Sn,frontMatter:()=>fn,toc:()=>wn});var b={};t.r(b),t.d(b,{contentTitle:()=>An,default:()=>In,frontMatter:()=>kn,toc:()=>Dn});var S={};t.r(S),t.d(S,{contentTitle:()=>Cn,default:()=>Ln,frontMatter:()=>Tn,toc:()=>Nn});var k={};t.r(k),t.d(k,{contentTitle:()=>Pn,default:()=>Bn,frontMatter:()=>Mn,toc:()=>On});var A=t(74848),D=t(28453),R=t(26627);const I=[];function E(e){return(0,A.jsx)("div",{style:{height:4}})}function T(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(E,{...e})}):E()}const C={},N=void 0,F=[{value:"Installation",id:"installation",level:2},...I,{value:"Initialize the SDK",id:"initialize-the-sdk",level:2},...I];function L(e){const n={a:"a",admonition:"admonition",code:"code",div:"div",h2:"h2",p:"p",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,A.jsx)("div",{children:e.install}),"\n",(0,A.jsx)(T,{}),"\n",(0,A.jsx)(n.h2,{id:"initialize-the-sdk",children:"Initialize the SDK"}),"\n",(0,A.jsxs)(n.p,{children:["After installation, you will need to initialize the SDK using a ",(0,A.jsx)(n.a,{href:"https://console.statsig.com/api_keys",children:"Server Secret Key from the Statsig console"}),"."]}),"\n",(0,A.jsx)(n.admonition,{type:"info",children:(0,A.jsx)(n.p,{children:"Do NOT embed your Server Secret Key in client-side applications, or expose it in any external-facing documents. However, if you accidentally expose it, you can create a new one in the Statsig console."})}),"\n",(0,A.jsx)(A.Fragment,{children:e.skipStatsigOptionsDescription||(0,A.jsxs)(n.div,{children:["There is also an optional parameter named ",(0,A.jsx)(n.code,{children:"options"})," that allows you to pass in a ",(0,A.jsx)(n.a,{href:"#statsig-options",children:"StatsigOptions"})," to customize the SDK."]})}),"\n",(0,A.jsx)("div",{children:e.initialize}),"\n",(0,A.jsx)(A.Fragment,{children:e.skipInitializeDescription||(0,A.jsxs)(n.div,{children:[(0,A.jsx)(n.code,{children:"initialize"})," will perform a network request. After"," ",(0,A.jsx)(n.code,{children:"initialize"})," completes, virtually all SDK operations will be synchronous (See"," ",(0,A.jsx)(n.a,{href:"https://blog.statsig.com/evaluating-feature-gates-in-the-statsig-sdk-a6f8881a1ad8",children:"Evaluating Feature Gates in the Statsig SDK"}),"). The SDK will fetch updates from Statsig in the background, independently of your API calls."]})}),"\n",(0,A.jsx)(T,{})]})}function M(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(L,{...e})}):L(e)}const P={},O=void 0,U=[{value:"FAQ",id:"faq",level:2},{value:"How do I run experiments for logged out users?",id:"logged-out-experiments",level:4}];function B(e){const n={a:"a",h2:"h2",h4:"h4",p:"p",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,A.jsx)(n.h4,{id:"logged-out-experiments",children:"How do I run experiments for logged out users?"}),"\n",(0,A.jsxs)(n.p,{children:["See the guide on ",(0,A.jsx)(n.a,{href:"/guides/first-device-level-experiment",children:"device level experiments"})]}),"\n",(0,A.jsx)("div",{children:e.faqs})]})}function G(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(B,{...e})}):B(e)}const z={},K=void 0,_=[{value:"Working with the SDK",id:"working-with-the-sdk",level:2},{value:"Checking a Feature Flag/Gate",id:"checking-a-feature-flaggate",level:3},{value:"Reading a Dynamic Config",id:"reading-a-dynamic-config",level:3},{value:"Getting a Layer/Experiment",id:"getting-a-layerexperiment",level:3},{value:"Getting a Prompt",id:"getting-a-prompt",level:3},{value:"Getting a PromptSet",id:"getting-a-promptset",level:3},{value:"Parameter Stores",id:"parameter-stores",level:3},{value:"Logging an Event",id:"logging-an-event",level:3},{value:"Sending Events to Log Explorer",id:"sending-events-to-log-explorer",level:3},{value:"Retrieving Feature Gate Metadata",id:"retrieving-feature-gate-metadata",level:3},{value:"Using Shared Instance",id:"using-shared-instance",level:3}];function V(e){const n={a:"a",code:"code",div:"div",em:"em",h2:"h2",h3:"h3",p:"p",strong:"strong",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"working-with-the-sdk",children:"Working with the SDK"}),"\n",(0,A.jsx)(n.h3,{id:"checking-a-feature-flaggate",children:"Checking a Feature Flag/Gate"}),"\n",(0,A.jsxs)(n.p,{children:["Now that your SDK is initialized, let's fetch a ",(0,A.jsx)(n.a,{href:"/feature-flags/overview",children:(0,A.jsx)(n.strong,{children:"Feature Gate"})}),". Feature Gates can be used to create logic branches in code that can be rolled out to different users from the Statsig Console. Gates are always ",(0,A.jsx)(n.strong,{children:"CLOSED"})," or ",(0,A.jsx)(n.strong,{children:"OFF"})," (think ",(0,A.jsx)(n.code,{children:"return false;"}),") by default."]}),"\n",(0,A.jsxs)(n.p,{children:["From this point on, all APIs will require you to specify the user (see ",(0,A.jsx)(n.a,{href:"#statsig-user",children:"Statsig user"}),") associated with the request. For example, check a gate for a certain user like this:"]}),"\n",(0,A.jsx)("div",{children:e.checkGate}),"\n",(0,A.jsx)(n.h3,{id:"reading-a-dynamic-config",children:"Reading a Dynamic Config"}),"\n",(0,A.jsxs)(n.p,{children:["Feature Gates can be very useful for simple on/off switches, with optional but advanced user targeting. However, if you want to be send a different set of values (strings, numbers, and etc.) to your clients based on specific user attributes, e.g. country, ",(0,A.jsx)(n.a,{href:"/dynamic-config",children:(0,A.jsx)(n.strong,{children:"Dynamic Configs"})})," can help you with that. The API is very similar to Feature Gates, but you get an entire json object you can configure on the server and you can fetch typed parameters from it. For example:"]}),"\n",(0,A.jsx)("div",{children:e.getConfig}),"\n",(0,A.jsx)(n.h3,{id:"getting-a-layerexperiment",children:"Getting a Layer/Experiment"}),"\n",(0,A.jsxs)(n.p,{children:["Then we have ",(0,A.jsx)(n.strong,{children:"Layers/Experiments"}),", which you can use to run A/B/n experiments. We offer two APIs, but we recommend the use of ",(0,A.jsx)(n.a,{href:"/layers",children:"layers"})," to enable quicker iterations with parameter reuse."]}),"\n",(0,A.jsx)("div",{children:e.getExperiment}),"\n",(0,A.jsx)(n.h3,{id:"getting-a-prompt",children:"Getting a Prompt"}),"\n",e.getPrompt?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(n.p,{children:["Statsig can act as the control plane for your LLM prompts - allowing you to version and change them without deploying code. Learn more ",(0,A.jsx)(n.a,{href:"/ai-evals/overview/",children:"here"}),". This API returns the full Prompt object, including all customized parameters such as model, temperature, topP, max tokens, and more. For example:"]}),(0,A.jsx)(n.div,{children:e.getPrompt})]}):(0,A.jsx)(n.p,{children:(0,A.jsxs)(n.em,{children:["Prompts are not yet available for this sdk. Need it now? Let us know in ",(0,A.jsx)(n.a,{href:"https://statsig.com/slack",children:"Slack"}),"."]})}),"\n",(0,A.jsx)(n.h3,{id:"getting-a-promptset",children:"Getting a PromptSet"}),"\n",e.getPromptSet?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.p,{children:"A Prompt Set is used during online evaluations to make it easy to run shadow evaluations on your candidate prompts. The live prompt is served directly to the user, while candidate prompts are run in the background for comparison and logging. This function returns the full set of prompt versions\u2014both the live version and all candidate versions\u2014so you can track performance, iterate safely, and gain insights into which prompts work best before making changes live. For example:"}),(0,A.jsx)(n.div,{children:e.getPromptSet})]}):(0,A.jsx)(n.p,{children:(0,A.jsxs)(n.em,{children:["PromptSets are not yet available for this sdk. Need it now? Let us know in ",(0,A.jsx)(n.a,{href:"https://statsig.com/slack",children:"Slack"}),"."]})}),"\n",(0,A.jsx)(n.h3,{id:"parameter-stores",children:"Parameter Stores"}),"\n",e.paramStores?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(n.p,{children:["Sometimes you don't know whether you want a value to be a Feature Gate, Experiment, or Dynamic Config yet. If you want on-the-fly control of that outside of your deployment cycle, you can use"," ",(0,A.jsx)(n.a,{href:"/client/concepts/parameter-stores/",children:"Parameter Stores"})," to define a parameter that can be changed into at any point in the Statsig console. Parameter Stores are optional, but parameterizing your application can prove very useful for future flexibility and can even allow non-technical Statsig users to turn parameters into experiments."]}),(0,A.jsx)(n.div,{children:e.paramStores})]}):(0,A.jsx)(n.p,{children:(0,A.jsxs)(n.em,{children:["Parameter stores are not yet available for this sdk. Need it now? Let us know in ",(0,A.jsx)(n.a,{href:"https://statsig.com/slack",children:"Slack"}),"."]})}),"\n",(0,A.jsx)(n.h3,{id:"logging-an-event",children:"Logging an Event"}),"\n",(0,A.jsx)(n.p,{children:"Now that you have a Feature Gate or an Experiment set up, you may want to track some custom events and see how your new features or different experiment groups affect these events. This is super easy with Statsig\u2014simply call the Log Event API and specify the user and event name to log; you additionally provide some value and/or an object of metadata to be logged together with the event:"}),"\n",(0,A.jsx)("div",{children:e.logEvent}),"\n",(0,A.jsxs)(n.p,{children:["Learn more about identifying users, group analytics, and best practices for logging events in the ",(0,A.jsx)(n.a,{href:"/guides/logging-events",children:"logging events guide"}),"."]}),"\n",(0,A.jsx)(n.h3,{id:"sending-events-to-log-explorer",children:"Sending Events to Log Explorer"}),"\n",e.forwardLogLineEvent?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.p,{children:"You can forward logs to Logs Explorer for convenient analysis using the Forward Log Line Event API. This lets you include custom metadata and event values with each log."}),(0,A.jsx)(n.div,{children:e.forwardLogLineEvent})]}):(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(n.p,{children:["Sending events to Log Explorer is not yet available for this sdk. Need it now? Let us know in ",(0,A.jsx)(n.a,{href:"https://statsig.com/slack",children:"Slack"}),"."]})}),"\n",(0,A.jsx)(n.h3,{id:"retrieving-feature-gate-metadata",children:"Retrieving Feature Gate Metadata"}),"\n",(0,A.jsx)(n.p,{children:"In certain scenarios, you may need more information about a gate evaluation than just a boolean value. For additional metadata about the evaluation, use the Get Feature Gate API, which returns a FeatureGate object:"}),"\n",(0,A.jsx)("div",{children:e.getFeatureGate}),"\n",(0,A.jsx)(n.h3,{id:"using-shared-instance",children:"Using Shared Instance"}),"\n",(0,A.jsx)(n.p,{children:"In some applications, you may want to create a single Statsig instance that can be accessed globally throughout your codebase. The shared instance functionality provides a singleton pattern for this purpose:"}),"\n",(0,A.jsx)("div",{children:e.sharedInstance})]})}function J(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(V,{...e})}):V(e)}const W={},Y=void 0,Q=[{value:"Statsig User",id:"statsig-user",level:2},{value:"Private Attributes",id:"private-attributes",level:3}];function q(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"statsig-user",children:"Statsig User"}),"\n",(0,A.jsxs)(n.p,{children:["When calling APIs that require a user, you should pass as much information as possible in order to take advantage of advanced gate and config conditions (like country or OS/browser level checks), and correctly measure impact of your experiments on your metrics/events. At least one ID (userID or customID) is required because it's needed to provide a consistent experience for a given user (click ",(0,A.jsx)(n.a,{href:"/concepts/user#why-is-an-id-always-required-for-server-sdks",children:"here"}),")"]}),"\n",(0,A.jsxs)(n.p,{children:["Besides ",(0,A.jsx)(n.code,{children:"userID"}),", we also have ",(0,A.jsx)(n.code,{children:"email"}),", ",(0,A.jsx)(n.code,{children:"ip"}),", ",(0,A.jsx)(n.code,{children:"userAgent"}),", ",(0,A.jsx)(n.code,{children:"country"}),", ",(0,A.jsx)(n.code,{children:"locale"})," and ",(0,A.jsx)(n.code,{children:"appVersion"})," as top-level fields on StatsigUser. In addition, you can pass any key-value pairs in an object/dictionary to the ",(0,A.jsx)(n.code,{children:"custom"})," field and be able to create targeting based on them."]}),"\n",(0,A.jsx)(n.admonition,{type:"note",children:(0,A.jsx)(n.p,{children:"Previous Statsig SDKs enabled country and user agent parsing by default, but our new class of SDKs require you to opt-in by setting StatsigOptions.enable_country_lookup and StatsigOptions.enable_user_agent_parsing. Providing parsed fields yourself is often advantageous for consistency and speed."})}),"\n",(0,A.jsx)(n.admonition,{type:"note",children:(0,A.jsxs)(n.p,{children:["While typing is lenient on the ",(0,A.jsx)(n.code,{children:"StatsigUser"})," object to allow you to pass in numbers, strings, arrays, objects, and potentially even enums or classes, the evaluation operators will only be able to operate on primitive types - mostly strings and numbers.  While we attempt to smartly cast custom field types to match the operator, we cannot guarantee evaluation results for other types.  For example, setting an array as a custom field will only ever be compared as a string - there is no operator to match a value in that array."]})}),"\n",(0,A.jsx)("div",{children:e.statsigUser??""}),"\n",(0,A.jsx)(n.h3,{id:"private-attributes",children:"Private Attributes"}),"\n",(0,A.jsxs)(n.p,{children:["Have sensitive user PII data that should not be logged? No problem, we have a solution for it! On the StatsigUser object we also have a field called ",(0,A.jsx)(n.code,{children:"privateAttributes"}),", which is a simple object/dictionary that you can use to set private user attributes. Any attribute set in ",(0,A.jsx)(n.code,{children:"privateAttributes"})," will only be used for evaluation/targeting, and removed from any logs before they are sent to Statsig server."]}),"\n",(0,A.jsxs)(n.p,{children:['For example, if you have feature gates that should only pass for users with emails ending in "@statsig.com", but do not want to log your users\' email addresses to Statsig, you can simply add the key-value pair ',(0,A.jsx)(n.code,{children:'{ email: "my_user@statsig.com" }'})," to ",(0,A.jsx)(n.code,{children:"privateAttributes"})," on the user and that's it!"]})]})}function H(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(q,{...e})}):q(e)}const Z={},$=void 0,X=[{value:"Statsig Options",id:"statsig-options",level:2}];function ee(e){const n={h2:"h2",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"statsig-options",children:"Statsig Options"}),"\n",(0,A.jsx)("div",{children:e.options})]})}function ne(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(ee,{...e})}):ee(e)}var te=t(11470),se=t(19365);const ie={},re=void 0,oe=[{value:"Manual Exposures",id:"manual-exposures",level:2}];function ae(e){const n={admonition:"admonition",h2:"h2",p:"p",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"manual-exposures",children:"Manual Exposures"}),"\n",(0,A.jsx)(n.admonition,{type:"warning",children:(0,A.jsx)(n.p,{children:"Manually logging exposures can be tricky and may lead to an imbalance in exposure events. For example, only triggering exposures for users in the Test group of an experiment will imbalance the experiment, making it useless."})}),"\n",(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(n.p,{children:"Manual exposures give you the option to query your\ngates/experiments without triggering an exposure, and optionally, manually log the exposure after the fact."})}),"\n",(0,A.jsxs)(te.A,{defaultValue:"gate",values:[{label:"Check Gate",value:"gate"},{label:"Get Config",value:"config"},{label:"Get Experiment",value:"experiment"},{label:"Get Layer",value:"layer"}],children:[(0,A.jsxs)(se.A,{value:"gate",children:[(0,A.jsx)(n.p,{children:"To check a gate without an exposure being logged, call the following."}),(0,A.jsx)("div",{children:e.gateSnippet}),(0,A.jsx)(n.p,{children:"Later, if you would like to expose this gate, you can call the following."}),(0,A.jsx)("div",{children:e.gateExposureSnippet})]}),(0,A.jsxs)(se.A,{value:"config",children:[(0,A.jsx)(n.p,{children:"To get a dynamic config without an exposure being logged, call the following."}),(0,A.jsx)("div",{children:e.configSnippet}),(0,A.jsx)(n.p,{children:"Later, if you would like to expose the dynamic config, you can call the following."}),(0,A.jsx)("div",{children:e.configExposureSnippet})]}),(0,A.jsxs)(se.A,{value:"experiment",children:[(0,A.jsx)(n.p,{children:"To get an experiment without an exposure being logged, call the following."}),(0,A.jsx)("div",{children:e.experimentSnippet}),(0,A.jsx)(n.p,{children:"Later, if you would like to expose the experiment, you can call the following."}),(0,A.jsx)("div",{children:e.experimentExposureSnippet})]}),(0,A.jsxs)(se.A,{value:"layer",children:[(0,A.jsx)(n.p,{children:"To get a layer parameter without an exposure being logged, call the following."}),(0,A.jsx)("div",{children:e.layerSnippet}),(0,A.jsx)(n.p,{children:"Later, if you would like to expose the layer parameter, you can call the following."}),(0,A.jsx)("div",{children:e.layerExposureSnippet})]})]})]})}function le(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(ae,{...e})}):ae(e)}const ce={},de=void 0,he=[{value:"Shutting Statsig Down",id:"shutting-statsig-down",level:2}];function ue(e){const n={div:"div",h2:"h2",p:"p",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"shutting-statsig-down",children:"Shutting Statsig Down"}),"\n",(0,A.jsx)(n.p,{children:"Because we batch and periodically flush events, some events may not have been sent when your app/server shuts down."}),"\n",(0,A.jsx)(n.p,{children:"To make sure all logged events are properly flushed, you should tell Statsig to shutdown when your app/server is closing:"}),"\n",(0,A.jsx)("div",{children:e.shutdown}),"\n",(0,A.jsx)(A.Fragment,{children:e.flush&&(0,A.jsx)(n.div,{style:{marginBottom:15,marginTop:30},children:"Alternatively, if you are operating in a serverless environment/cloud function, you may wish to leave Statsig running in case your function is recycled but flush the logs to Statsig servers. Or, if you need an async method to wait for logs to post before resolving, you can use:"})}),"\n",(0,A.jsx)("div",{children:e.flush})]})}function pe(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(ue,{...e})}):ue(e)}const ge={},xe=void 0,me=[{value:"Reference",id:"reference",level:2}];function je(e){const n={h2:"h2",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,A.jsx)(A.Fragment,{children:e.snippets})]})}function ve(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(je,{...e})}):je(e)}var fe=t(41359);const ye={},we=void 0,be=[{value:"Local Overrides <VersionBadge></VersionBadge>",id:"local-overrides",level:2}];function Se(e){const n={a:"a",admonition:"admonition",h2:"h2",li:"li",ol:"ol",p:"p",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(n.h2,{id:"local-overrides",children:["Local Overrides ",(0,A.jsx)(fe.km,{version:e.addedInVersion})]}),"\n",(0,A.jsxs)(n.p,{children:["To override the return value of a gate/config/experiment/layer locally, we expose a set of override APIs. Coupling this with ",(0,A.jsx)(n.a,{href:"#statsig-options",children:"StatsigOptions.disable_network"})," can be helpful when writing unit tests."]}),"\n",(0,A.jsx)(A.Fragment,{children:e.snippet}),"\n",(0,A.jsx)(n.admonition,{type:"note",children:(0,A.jsxs)(n.ol,{children:["\n",(0,A.jsx)(n.li,{children:"These only apply locally - they do not update definitions in the Statsig console or elsewhere."}),"\n",(0,A.jsx)(n.li,{children:"The local override API is not designed to be a full mock. They are only a convenient way to override the value of the gate/config/etc."}),"\n"]})})]})}function ke(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(Se,{...e})}):Se(e)}const Ae={},De=void 0,Re=[{value:"Server Core",id:"server-core",level:2}];function Ie(e){const n={h2:"h2",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"server-core",children:"Server Core"}),"\n",(0,A.jsx)(A.Fragment,{children:e.snippet})]})}function Ee(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(Ie,{...e})}):Ie(e)}const Te={},Ce=void 0,Ne=[{value:"Java Core vs Legacy Java SDK",id:"java-core-vs-legacy-java-sdk",level:2}];function Fe(e){return(0,A.jsx)("div",{children:e.content})}function Le(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(Fe,{...e})}):Fe(e)}const Me={},Pe=void 0,Oe=[{value:"Supported OS and Architecture Combinations",id:"supported-os-and-architecture-combinations",level:2}];function Ue(e){return(0,A.jsx)("div",{children:e.content})}function Be(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(Ue,{...e})}):Ue(e)}const Ge={},ze=void 0,Ke=[{value:"Sample App",id:"example-program",level:2}];function _e(e){return(0,A.jsx)("div",{children:e.content})}function Ve(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(_e,{...e})}):_e(e)}var Je=t(27293);const We={},Ye=void 0,Qe=[{value:"Persistent Storage",id:"persistent-storage",level:2}];function qe(e){const n={a:"a",div:"div",h2:"h2",p:"p",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"persistent-storage",children:"Persistent Storage"}),"\n",(0,A.jsxs)(n.p,{children:["The Persistent Storage interface allows you to implement custom storage for experiment assignments. This ensures consistent user experiences across sessions by persisting experiment assignments. For more information on persistent assignments, see the ",(0,A.jsx)(n.a,{href:"/server/concepts/persistent_assignment",children:"Persistent Assignment documentation"}),"."]}),"\n",e.content?(0,A.jsx)(n.div,{children:e.content}):(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(Je.A,{type:"note",title:"Note",children:"Not supported at this time."})})]})}function He(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(qe,{...e})}):qe(e)}const Ze={},$e=void 0,Xe=[{value:"Data Store",id:"data-store",level:2}];function en(e){const n={div:"div",h2:"h2",p:"p",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"data-store",children:"Data Store"}),"\n",(0,A.jsx)(n.p,{children:"The Data Store interface allows you to implement custom storage for Statsig configurations. This enables advanced caching strategies and integration with your preferred storage systems."}),"\n",e.content?(0,A.jsx)(n.div,{children:e.content}):(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(Je.A,{type:"note",title:"Note",children:"Not supported at this time."})})]})}function nn(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(en,{...e})}):en(e)}const tn={},sn=void 0,rn=[{value:"Custom Output Logger",id:"custom-output-logger",level:2}];function on(e){const n={div:"div",h2:"h2",p:"p",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"custom-output-logger",children:"Custom Output Logger"}),"\n",(0,A.jsx)(n.p,{children:"The Output Logger interface allows you to customize how the SDK logs messages. This enables integration with your own logging system and control over log verbosity."}),"\n",e.content?(0,A.jsx)(n.div,{children:e.content}):(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(Je.A,{type:"note",title:"Note",children:"Not supported at this time."})})]})}function an(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(on,{...e})}):on(e)}const ln={},cn=void 0,dn=[{value:"Observability Client",id:"observability-client",level:2}];function hn(e){const n={a:"a",div:"div",h2:"h2",p:"p",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"observability-client",children:"Observability Client"}),"\n",(0,A.jsxs)(n.p,{children:["The Observability Client interface allows you to monitor the health of the SDK by integrating with your own observability systems. This enables tracking metrics, errors, and performance data. For more information on the metrics emitted by Statsig SDKs, see the ",(0,A.jsx)(n.a,{href:"/sdk_monitoring",children:"Monitoring documentation"}),"."]}),"\n",e.content?(0,A.jsx)(n.div,{children:e.content}):(0,A.jsx)(Je.A,{type:"note",title:"Note",children:"Not supported at this time."})]})}function un(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(hn,{...e})}):hn(e)}var pn=t(28774);const gn={},xn=void 0,mn=[];function jn(e){const n={p:"p",...(0,D.R)(),...e.components};return(0,A.jsx)(pn.A,{to:e.link,children:(0,A.jsxs)(n.p,{children:["View the ",e.sdkType," Core SDK Migration Guide"]})})}function vn(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(jn,{...e})}):jn(e)}const fn={},yn=void 0,wn=[{value:"Fields Needed Methods (Enterprise Only)",id:"fields-needed-methods-enterprise-only",level:3},{value:"Description",id:"description",level:4},{value:"Field Mapping",id:"field-mapping",level:4}];function bn(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h3,{id:"fields-needed-methods-enterprise-only",children:"Fields Needed Methods (Enterprise Only)"}),"\n",(0,A.jsx)(n.admonition,{type:"info",children:(0,A.jsxs)(n.p,{children:["This is available for Enterprise contracts. Please reach out to our ",(0,A.jsx)(n.a,{href:"mailto:support@statsig.com",children:"support team"}),", your sales contact, or via our slack channel if you want this enabled."]})}),"\n",(0,A.jsx)(n.p,{children:"These methods allow you to retrieve a list of user fields that are used in the targeting rules for gates, configs, experiments, and layers."}),"\n",(0,A.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,A.jsx)(n.p,{children:"These methods return an array of strings representing the user fields that are referenced in the targeting rules or conditions of the specified feature. This can be useful for understanding which user properties influence a particular feature's behavior."}),"\n",(0,A.jsx)(n.h4,{id:"field-mapping",children:"Field Mapping"}),"\n",(0,A.jsx)(n.p,{children:"The fields returned by these methods correspond to the following user properties:"}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-typescript",children:"// Field mapping between user properties and internal field names\nconst fieldMapping = {\n  userID: 'u',\n  email: 'e',\n  ip: 'i',\n  userAgent: 'ua',\n  country: 'c',\n  locale: 'l',\n  appVersion: 'a',\n  time: 't',\n  stableID: 's',\n  environment: 'en',\n  targetApp: 'ta',\n};\n\n// Custom fields are prefixed with \"cf:\"\n// Example: fields.add('cf:' + field);\n"})})]})}function Sn(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(bn,{...e})}):bn(e)}const kn={},An=void 0,Dn=[{value:"Client SDK Bootstrapping | SSR <VersionBadge></VersionBadge>",id:"bootstrap",level:2},{value:"Working with IP or UserAgent Values",id:"working-with-ip-or-useragent-values",level:3},{value:"Working with IDs",id:"working-with-ids",level:3},{value:"getClientInitializeResponse and the legacy JS SDK",id:"getclientinitializeresponse-and-the-legacy-js-sdk",level:3}];function Rn(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",...(0,D.R)(),...e.components};return e||En("props",!1),e.signature||En("props.signature",!0),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(n.h2,{id:"bootstrap",children:["Client SDK Bootstrapping | SSR ",(0,A.jsx)(fe.km,{version:e.addedInVersion})]}),"\n",(0,A.jsx)("div",{style:{marginBottom:20},children:(0,A.jsxs)(n.p,{children:["The ",e.sdkName," server SDK supports generating the"," ","\n",(0,A.jsx)("code",{children:"initializeValues"})," needed to initialize a Statsig Client SDK, letting you pair your client-side initialize() calls with other requests to your server, effectively enabling zero-latency client SDK startup."]})}),"\n",(0,A.jsx)(A.Fragment,{children:e.snippet}),"\n",(0,A.jsx)(n.h3,{id:"working-with-ip-or-useragent-values",children:"Working with IP or UserAgent Values"}),"\n",(0,A.jsxs)(n.p,{children:["The server SDK will not automatically use the ",(0,A.jsx)(n.code,{children:"ip"}),", or ",(0,A.jsx)(n.code,{children:"userAgent"})," for gate evaluation as\nStatsig servers would, since we don't have access to the request headers. If you'd like to use the attributes we derive from these properties, like Browser Name/Version, OS Name/Version & Country, you must manually set the ",(0,A.jsx)(n.code,{children:"ip"})," and ",(0,A.jsx)(n.code,{children:"userAgent"}),"\nfields on the user object when calling ",(0,A.jsx)(e.signature,{}),"."]}),"\n",(0,A.jsx)(n.h3,{id:"working-with-ids",children:"Working with IDs"}),"\n",(0,A.jsxs)(n.p,{children:["To ensure that the server SDK evaluates each config accurately, they need access to all user attributes that the client SDK leverages. We recommend passing all of these attributes to the server SDK - using tools like Cookies if needed to ensure they're attached on first requests. If the user objects on the client and server aren't identical, modern SDKs will throw an ",(0,A.jsx)(n.a,{href:"/sdk/debugging/#invalid-bootstrap",children:"InvalidBootstrap"})," warning."]}),"\n",(0,A.jsxs)(n.p,{children:["Client SDKs also auto-generate a StableID, and its important to manage the lifecycle of this ID to be sure that it is consistent on client and server side. Managing this with a cookie is often easiest, see ",(0,A.jsx)(n.a,{href:"/client/javascript-sdk#keeping-stableid-consistent-across-client--server",children:"Keeping StableID Consistent"}),". If StableID differs between Client and Server, you'll see a ",(0,A.jsx)(n.a,{href:"https://docs.statsig.com/sdk/debugging/#bootstrapstableidmismatch",children:"BootstrapStableIDMismatch"})," warning, and checks with this warning won't contribute to your experiment analyses."]}),"\n",(0,A.jsx)(n.h3,{id:"getclientinitializeresponse-and-the-legacy-js-sdk",children:"getClientInitializeResponse and the legacy JS SDK"}),"\n",(0,A.jsxs)(n.p,{children:["If you are migrating from the legacy JS Client, you will need to make some updates to\nhow your server SDK generates values.\nThe default hashing algorithm was changed from ",(0,A.jsx)(n.code,{children:"sha256"})," to ",(0,A.jsx)(n.code,{children:"djb2"})," for performance and size reasons."]}),"\n",(0,A.jsxs)(n.p,{children:["See the ",(0,A.jsx)(n.a,{href:"https://docs.statsig.com/client/javascript-sdk/migrating-from-statsig-js/#bootstrapping",children:"Bootstrapping Migration Docs"})," for more."]})]})}function In(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(Rn,{...e})}):Rn(e)}function En(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}const Tn={},Cn=void 0,Nn=[{value:"Custom Adapters",id:"custom-adapters",level:2},{value:"SpecsAdapterBase - Custom Configuration Sources",id:"specsadapterbase---custom-configuration-sources",level:3},{value:"Implementation",id:"implementation",level:4},{value:"Usage",id:"usage",level:4},{value:"Key Methods",id:"key-methods",level:4},{value:"EventLoggingAdapterBase - Custom Event Destinations",id:"eventloggingadapterbase---custom-event-destinations",level:3},{value:"Implementation",id:"implementation-1",level:4},{value:"Usage",id:"usage-1",level:4},{value:"Key Methods",id:"key-methods-1",level:4}];function Fn(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"custom-adapters",children:"Custom Adapters"}),"\n",(0,A.jsx)(n.p,{children:"The PHP Core SDK provides two base adapter classes that allow you to customize how configuration specs are fetched and how events are logged. This is particularly useful for integrating with existing infrastructure or implementing custom caching strategies."}),"\n",(0,A.jsx)(n.h3,{id:"specsadapterbase---custom-configuration-sources",children:"SpecsAdapterBase - Custom Configuration Sources"}),"\n",(0,A.jsxs)(n.p,{children:["The ",(0,A.jsx)(n.code,{children:"SpecsAdapterBase"})," allows you to fetch configuration specs from custom sources instead of the default Statsig servers. This is useful when you want to:"]}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsx)(n.li,{children:"Cache specs in a database or Redis"}),"\n",(0,A.jsx)(n.li,{children:"Fetch specs from a custom API endpoint"}),"\n",(0,A.jsx)(n.li,{children:"Implement custom retry logic or fallback mechanisms"}),"\n",(0,A.jsx)(n.li,{children:"Use existing configuration management systems"}),"\n"]}),"\n",(0,A.jsx)(n.admonition,{type:"note",children:(0,A.jsxs)(n.p,{children:["You can get a copy of your current specs data by visiting: ",(0,A.jsx)(n.code,{children:"https://api.statsigcdn.com/v2/download_config_specs/{YOUR_SDK_KEY}.json"})]})}),"\n",(0,A.jsx)(n.h4,{id:"implementation",children:"Implementation"}),"\n",(0,A.jsxs)(n.p,{children:["To create a custom specs adapter, extend the ",(0,A.jsx)(n.code,{children:"SpecsAdapterBase"})," class and implement the required methods. The following example shows how to create a database-backed specs adapter:"]}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-php",children:'<?php\n\nuse Statsig\\SpecsAdapterBase;\nuse Statsig\\SpecsUpdateListener;\n\nclass RedisSpecsAdapter extends SpecsAdapterBase\n{\n    private $redis;\n    private $listener;\n    private $isRunning = false;\n\n    public function __construct($redisConnection)\n    {\n        parent::__construct();\n        $this->redis = $redisConnection;\n    }\n\n    public function setup(SpecsUpdateListener $listener)\n    {\n        $this->listener = $listener;\n    }\n\n    public function start()\n    {\n        $this->isRunning = true;\n        \n        // Fetch initial specs from Redis\n        $specs = $this->fetchSpecsFromRedis();\n        if ($specs) {\n            $timestamp = intval(microtime(true) * 1000);\n            $this->listener->didReceiveSpecsUpdate($specs, "Redis", $timestamp);\n        }\n    }\n\n    public function shutdown()\n    {\n        $this->isRunning = false;\n    }\n\n    public function scheduleBackgroundSync()\n    {\n        if (!$this->isRunning) {\n            return;\n        }\n\n        // Schedule periodic updates from Redis\n        // This could trigger a background job or set up a timer\n        $this->refreshSpecsFromRedis();\n    }\n\n    private function fetchSpecsFromRedis()\n    {\n        try {\n            $specs = $this->redis->get(\'statsig_config_specs\');\n            return $specs ?: null;\n        } catch (Exception $e) {\n            error_log("Failed to fetch specs from Redis: " . $e->getMessage());\n            return null;\n        }\n    }\n\n    private function refreshSpecsFromRedis()\n    {\n        $specs = $this->fetchSpecsFromRedis();\n        if ($specs && $this->listener) {\n            $timestamp = intval(microtime(true) * 1000);\n            $this->listener->didReceiveSpecsUpdate($specs, "Redis", $timestamp);\n        }\n    }\n}\n'})}),"\n",(0,A.jsx)(n.h4,{id:"usage",children:"Usage"}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-php",children:"use Statsig\\Statsig;\nuse Statsig\\StatsigOptions;\n\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n$specsAdapter = new RedisSpecsAdapter($redis);\n\n$options = new StatsigOptions(\n    specs_adapter: $specsAdapter\n);\n\n$statsig = new Statsig('your-server-secret-key', $options);\n$statsig->initialize();\n"})}),"\n",(0,A.jsx)(n.h4,{id:"key-methods",children:"Key Methods"}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"setup(SpecsUpdateListener $listener)"})}),": Called during initialization to provide the listener for spec updates"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"start()"})}),": Called when the SDK starts. Fetch and provide initial configuration specs"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"shutdown()"})}),": Called when the SDK shuts down. Clean up resources"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"scheduleBackgroundSync()"})}),": Called to schedule periodic updates of configuration specs"]}),"\n"]}),"\n",(0,A.jsxs)(n.p,{children:["The ",(0,A.jsx)(n.code,{children:"SpecsUpdateListener"})," provides:"]}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"didReceiveSpecsUpdate(string $specs, string $source, int $timestamp)"})}),": Notify the SDK of new specs"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"getCurrentSpecsInfo()"})}),": Get information about current specs"]}),"\n"]}),"\n",(0,A.jsx)(n.h3,{id:"eventloggingadapterbase---custom-event-destinations",children:"EventLoggingAdapterBase - Custom Event Destinations"}),"\n",(0,A.jsxs)(n.p,{children:["The ",(0,A.jsx)(n.code,{children:"EventLoggingAdapterBase"})," allows you to send events to custom destinations instead of or in addition to Statsig's servers. This is useful when you want to:"]}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsx)(n.li,{children:"Send events to your existing analytics platform"}),"\n",(0,A.jsx)(n.li,{children:"Store events in a database for custom analysis"}),"\n",(0,A.jsx)(n.li,{children:"Forward events to multiple destinations"}),"\n",(0,A.jsx)(n.li,{children:"Implement custom batching or retry logic"}),"\n"]}),"\n",(0,A.jsx)(n.h4,{id:"implementation-1",children:"Implementation"}),"\n",(0,A.jsxs)(n.p,{children:["To create a custom event logging adapter, extend the ",(0,A.jsx)(n.code,{children:"EventLoggingAdapterBase"})," class and implement the required methods:"]}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-php",children:"<?php\n\nuse Statsig\\EventLoggingAdapterBase;\nuse Statsig\\LogEventRequest;\n\nclass AnalyticsEventAdapter extends EventLoggingAdapterBase\n{\n    private $analyticsClient;\n    private $isStarted = false;\n\n    public function __construct($analyticsClient)\n    {\n        parent::__construct();\n        $this->analyticsClient = $analyticsClient;\n    }\n\n    public function start(): void\n    {\n        $this->isStarted = true;\n        // Initialize analytics client connection if needed\n        $this->analyticsClient->connect();\n    }\n\n    public function logEvents(LogEventRequest $request): bool\n    {\n        if (!$this->isStarted) {\n            return false;\n        }\n\n        try {\n            $events = $request->payload->events;\n            $metadata = $request->payload->statsig_metadata;\n\n            foreach ($events as $event) {\n                // Transform Statsig event to analytics platform format\n                $analyticsEvent = [\n                    'event_name' => $event['eventName'],\n                    'user_id' => $event['user']['userID'] ?? null,\n                    'timestamp' => $event['time'],\n                    'properties' => array_merge(\n                        $event['metadata'] ?? [],\n                        ['statsig_metadata' => $metadata]\n                    )\n                ];\n\n                // Send to analytics platform\n                $this->analyticsClient->track($analyticsEvent);\n            }\n\n            return true;\n        } catch (Exception $e) {\n            error_log(\"Failed to log events to analytics platform: \" . $e->getMessage());\n            return false;\n        }\n    }\n\n    public function shutdown(): void\n    {\n        $this->isStarted = false;\n        // Clean up analytics client connection\n        $this->analyticsClient->disconnect();\n    }\n}\n"})}),"\n",(0,A.jsx)(n.h4,{id:"usage-1",children:"Usage"}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-php",children:"use Statsig\\Statsig;\nuse Statsig\\StatsigOptions;\n\n$analyticsClient = new MyAnalyticsClient('api-key');\n$eventAdapter = new AnalyticsEventAdapter($analyticsClient);\n\n$options = new StatsigOptions(\n    event_logging_adapter: $eventAdapter\n);\n\n$statsig = new Statsig('your-server-secret-key', $options);\n$statsig->initialize();\n\n// Events will now be sent to your custom analytics platform\n$statsig->logEvent($user, 'button_clicked', ['button_id' => 'signup']);\n"})}),"\n",(0,A.jsx)(n.h4,{id:"key-methods-1",children:"Key Methods"}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"start()"})}),": Called when the SDK starts. Initialize connections or resources"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"logEvents(LogEventRequest $request): bool"})}),": Process and send events. Return true on success, false on failure"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"shutdown()"})}),": Called when the SDK shuts down. Clean up resources"]}),"\n"]}),"\n",(0,A.jsxs)(n.p,{children:["The ",(0,A.jsx)(n.code,{children:"LogEventRequest"})," contains:"]}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"event_count"})}),": Number of events in the request"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"retries"})}),": Number of retry attempts for this request"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"payload"})}),": ",(0,A.jsx)(n.code,{children:"LogEventPayload"})," with events and metadata"]}),"\n"]}),"\n",(0,A.jsxs)(n.p,{children:["The ",(0,A.jsx)(n.code,{children:"LogEventPayload"})," contains:"]}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"events"})}),": Array of event objects with user data, event names, and metadata"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"statsig_metadata"})}),": SDK metadata including version and environment information"]}),"\n"]})]})}function Ln(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(Fn,{...e})}):Fn(e)}const Mn={},Pn=void 0,On=[{value:"SDK Event Subscriptions",id:"sdk-event-subscriptions",level:2},{value:"Supported Events",id:"supported-events",level:3},{value:"SDK Event Data",id:"sdk-event-data",level:3},{value:"Use Cases",id:"use-cases",level:3},{value:"Best Practices",id:"best-practices",level:3}];function Un(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,D.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h2,{id:"sdk-event-subscriptions",children:"SDK Event Subscriptions"}),"\n",(0,A.jsx)(n.p,{children:"The Statsig SDK provides an event subscription system that allows you to listen for evaluation events in real-time. This feature is useful for debugging, analytics, custom logging, and integrating with external systems."}),"\n",(0,A.jsx)(n.h3,{id:"supported-events",children:"Supported Events"}),"\n",(0,A.jsx)(n.p,{children:"The SDK supports subscribing to the following evaluation events:"}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"gate_evaluated"})})," - Fired when a feature gate is evaluated for a user"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"dynamic_config_evaluated"})})," - Fired when a dynamic config is retrieved for a user"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"experiment_evaluated"})})," - Fired when an experiment is evaluated for a user"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:"layer_evaluated"})})," - Fired when a layer is evaluated for a user"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:(0,A.jsx)(n.code,{children:'"*"'})})," - Subscribe to all evaluation events"]}),"\n"]}),"\n",(0,A.jsx)(n.h3,{id:"sdk-event-data",children:"SDK Event Data"}),"\n",(0,A.jsx)(n.p,{children:"Each event includes relevant context about the evaluation:"}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Gate Evaluated Events"})," include: ",(0,A.jsx)(n.code,{children:"gate_name"}),", ",(0,A.jsx)(n.code,{children:"value"})," (boolean), ",(0,A.jsx)(n.code,{children:"rule_id"}),", ",(0,A.jsx)(n.code,{children:"reason"})]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Dynamic Config Events"})," include: the full ",(0,A.jsx)(n.code,{children:"dynamic_config"})," object with values and metadata"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Experiment Events"})," include: the full ",(0,A.jsx)(n.code,{children:"experiment"})," object with variant assignment and parameters"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Layer Events"})," include: the full ",(0,A.jsx)(n.code,{children:"layer"})," object with allocated experiment and parameters"]}),"\n"]}),"\n",(0,A.jsx)(n.h3,{id:"use-cases",children:"Use Cases"}),"\n",(0,A.jsx)(n.p,{children:"Event subscriptions are particularly useful for:"}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Debugging"}),": Monitor which features are being evaluated and their results"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Analytics"}),": Track feature usage patterns and user segments"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Custom Logging"}),": Send evaluation data to your own logging systems"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Integration"}),": Forward events to external analytics or monitoring tools"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Testing"}),": Verify that features are being evaluated as expected"]}),"\n"]}),"\n",(0,A.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,A.jsxs)(n.ul,{children:["\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Clean up subscriptions"}),": Always unsubscribe when you no longer need to listen for events to prevent memory leaks"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Handle event data carefully"}),": Event objects may contain sensitive user information depending on your configuration"]}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Use specific event types"}),': Subscribe to specific events rather than "*" when possible for better performance']}),"\n",(0,A.jsxs)(n.li,{children:[(0,A.jsx)(n.strong,{children:"Avoid heavy processing"}),": Keep event handlers lightweight to avoid impacting SDK performance"]}),"\n"]})]})}function Bn(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(Un,{...e})}):Un(e)}const Gn={},zn=void 0,Kn={id:"server-core/Templates/index",title:"index",description:"",source:"@site/docs/server-core/Templates/index.mdx",sourceDirName:"server-core/Templates",slug:"/server-core/Templates/",permalink:"/server-core/Templates/",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/server-core/Templates/index.mdx",tags:[],version:"current",lastUpdatedAt:1754415721e3,frontMatter:{}},_n={},Vn=R,Jn=s,Wn=i,Yn=r,Qn=o,qn=a,Hn=l,Zn=c,$n=d,Xn=h,et=u,nt=p,tt=g,st=x,it=m,rt=j,ot=v,at=f,lt=y,ct=w,dt=b,ht=S,ut=k,pt=[];function gt(e){return(0,A.jsx)(A.Fragment,{})}function xt(e={}){const{wrapper:n}={...(0,D.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(gt,{...e})}):gt()}},26926:(e,n,t)=>{t.d(n,{Ay:()=>o});var s=t(74848),i=t(28453);function r(e){const n={a:"a",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Statsig Server Core is a performance-focused rewrite of our server SDKs with a shared, core Rust library. With extensive optimization and Rust's inherent speed, Core SDKs can evaluate ",(0,s.jsx)(n.strong,{children:"5-10x"})," as fast as our native SDKs."]}),"\n",(0,s.jsxs)(n.p,{children:["Server Core also introduces new features, like ",(0,s.jsx)(n.a,{href:"https://docs.statsig.com/client/concepts/parameter-stores/",children:"Parameter Stores"}),", the ",(0,s.jsx)(n.a,{href:"https://docs.statsig.com/sdk_monitoring/#metric-interface-methods",children:"SDK Observability Interface"}),", and streaming flag/experiment changes (from the ",(0,s.jsx)(n.a,{href:"/server/concepts/forward_proxy/",children:"Statsig Forward Proxy"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["Server Core is currently available for Java, Node, Elixir, Rust and Python. Need another language, or run into any issues? Let us know in the ",(0,s.jsx)(n.a,{href:"https://statsig.com/slack",children:"Statsig Slack"})," and we'll prioritize it."]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},79078:(e,n,t)=>{t.r(n),t.d(n,{Builder:()=>O,assets:()=>P,contentTitle:()=>L,default:()=>G,frontMatter:()=>F,metadata:()=>M,toc:()=>U});var s=t(74848),i=t(28453),r=t(96747),o=t(51268),a=t(26926);function l(e){const n={code:"code",h4:"h4",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npm i @statsig/statsig-node-core\n"})}),"\n",(0,s.jsx)(n.p,{children:"The Node SDK is pre-built and compiled for different OSs & CPU architectures. Package managers will resolve the correct version automatically."}),"\n",(0,s.jsx)(n.h4,{id:"frozen-lockfilelocked-dependencies",children:"Frozen lockfile/locked dependencies"}),"\n",(0,s.jsx)(n.p,{children:"If your service has locked dependencies with package-lock.json or pnpm-lock.yml, you'll need to include all versions you need. For example, if you develop locally on macOS, and deploy to linux, then you have to include:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'dependencies {\n    "@statsig/statsig-node-core-darwin-arm64": "0.1.0" // for macOS\n    "@statsig/statsig-node-core-linux-x64-gnu": "0.1.0" // for linux x64 machines\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"using-statsig-node-core-with-nextjs",children:"Using statsig-node-core with Next.js"}),"\n",(0,s.jsx)(n.p,{children:"statsig-node-core works well with Next but can't be packaged with webpack. To prevent errors, designate @statsig/statsig-node-core as a serverExternalPackage in your next.config.js file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"const nextConfig = {\n  serverExternalPackages: ['@statsig/statsig-node-core'],\n}\n"})})]})}function c(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// Basic initialization\nimport { Statsig, StatsigUser } from \'@statsig/statsig-node-core\';\n//Or, in common JS, const { Statsig, StatsigUser } = require(\'@statsig/statsig-node-core\');\n\nconst statsig = new Statsig("secret-key");\nawait statsig.initialize();\n\n// or with StatsigOptions\nconst options: StatsigOptions = { environment: "staging" };\n\nconst statsigWithOptions = new Statsig("secret-key", options);\nawait statsigWithOptions.initialize();\n'})})}function d(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'const user = new StatsigUser({ userID: "a-user" });\n\nif (statsig.checkGate(user, "a_gate")) {\n    // Gate is on, enable new feature\n} else {\n    // Gate is off\n}\n'})})}function h(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// Get the dynamic config\nconst config = statsig.getDynamicConfig(user, "a_config");\n\n// Get typed values using the getValue() method\nconst itemName = config.getValue("product_name", "Awesome Product v1");\nconst price = config.getValue("price", 10.0);\nconst shouldDiscount = config.getValue("discount", false);\n\n// Or access the entire value object directly\nconst value = config.value;\n'})})}function u(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// Get the prompt\nconst prompt = statsig.getPrompt(user, "ai_prompt_name");\n'})})}function p(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// Get the prompt set\nconst promptSet = statsig.getPromptSet(userInput, "ai_prompt_name");\n\n// live prompt\nconst livePrompt = promptSet.getLive();\n'})})}function g(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'const gate = statsig.getFeatureGate(statsigUser, "example_gate")\nconsole.log(gate.rule_id)\nconsole.log(gate.value)\n'})})}function x(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"const paramStore = statsig.getParameterStore(statsigUser, \"my_parameters\")\nconst paramStoreValue = paramStore.getValue('my_parameter_value')\n"})})}function m(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// Or, via individual experiments\nconst titleExp = statsig.getExperiment(user, "new_user_promo_title");\nconst priceExp = statsig.getExperiment(user, "new_user_promo_price");\n\nconst experimentTitle = titleExp.getValue("title", "Welcome to Statsig!");\nconst experimentDiscount = priceExp.getValue("discount", 0.1);\n\n// Get values via Layer\nconst layer = statsig.getLayer(user, "user_promo_experiments");\nconst title = layer.getValue("title", "Welcome to Statsig!");\nconst discount = layer.getValue("discount", 0.1);\n'})})}function j(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'statsig.logEvent(\n  user,\n  "add_to_cart",\n  null,\n  {\n    price: "9.99",\n    item_name: "diet_coke_48_pack"\n  }\n);\n'})})}function v(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'const user = new StatsigUser({ userID: "a-user", custom: {\n    service: "my-service",\n    pod: "my-pod",\n    namespace: "my-namespace",\n    container: "my-container",\n    // ...include any service-specific metadata\n} });\n\n// levels: trace, debug, info, log, warn, error\nstatsig.forwardLogLineEvent(user, "warn", "script failed to load", {\n  cusom_metadata: "script_name:my-script"\n  // ... include any event-specific metadata\n});\n'})})}function f(e){const n={code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"common-problems-while-installing",children:"Common Problems while installing"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Seeing SSL Error\nRight now the binary files will look at certain versions of SSL."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"// Try run this\napt-get update && apt-get install libcurl4-openssl-dev -y && rm -rf /var/lib/apt/lists/*\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Docker build failing with platform-specific dependencies\nWhen building in Docker (Linux environment), the build may fail if your local ",(0,s.jsx)(n.code,{children:"package-lock.json"})," or ",(0,s.jsx)(n.code,{children:"yarn.lock"})," contains platform-specific dependencies for macOS. This happens because ",(0,s.jsx)(n.code,{children:"npm install"})," locally on Mac pulls down Apple-specific variants, but Docker tries to use those same locked dependencies on Linux."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution:"})," Either install the Linux-specific variant during your Docker build step:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dockerfile",children:"RUN npm install @statsig/statsig-node-core-linux-x64-gnu\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Or add both platform variants as dependencies in your ",(0,s.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"dependencies": {\n  "@statsig/statsig-node-core": "X.Y.Z", // Common (Required)\n  "@statsig/statsig-node-core-darwin-arm64": "X.Y.Z", // Mac Specific\n  "@statsig/statsig-node-core-linux-x64-gnu": "X.Y.Z" // Linux Specific\n}\n'})})]})}function y(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"statsigoptions-class",children:"StatsigOptions Class"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"StatsigOptions"})," class is used to specify optional parameters when initializing the Statsig client."]}),"\n",(0,s.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"environment"})}),": ",(0,s.jsx)(n.code,{children:"Optional<string>"}),(0,s.jsx)(n.br,{}),"\n","Environment parameter for evaluation."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"specsUrl"})}),": ",(0,s.jsx)(n.code,{children:"Optional<string>"}),(0,s.jsx)(n.br,{}),"\n","Custom URL for fetching feature specifications."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"specsSyncIntervalMs"})}),": ",(0,s.jsx)(n.code,{children:"Optional<number>"}),(0,s.jsx)(n.br,{}),"\n","How often the SDK updates specifications from Statsig servers (in milliseconds)."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"fallbackToStatsig"})}),": ",(0,s.jsx)(n.code,{children:"Optional<bool>"}),(0,s.jsx)(n.br,{}),"\n","Default off. Turn this one on if you are proxying download_config_specs / get_id_lists endpoint and wish to fallback to statsig default endpoint to increase reliability."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"logEventUrl"})}),": ",(0,s.jsx)(n.code,{children:"Optional<string>"}),(0,s.jsx)(n.br,{}),"\n","Custom URL for logging events."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"disableAllLogging"})}),": ",(0,s.jsx)(n.code,{children:"Optional<bool>"}),(0,s.jsx)(n.br,{}),"\n","Default off. If turned on, SDK will not collect any loggings within the sessions, including custom events and config check exposure events."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"enableIDLists"})}),": ",(0,s.jsx)(n.code,{children:"Optional<bool>"}),(0,s.jsx)(n.br,{}),"\n","Default off. ",(0,s.jsxs)(n.strong,{children:["Required to be ",(0,s.jsx)(n.code,{children:"true"})," when using segments with more than 1000 IDs."]})," See ",(0,s.jsx)(n.a,{href:"/segments/add-id-list",children:"ID List segments"})," for more details."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"disableUserAgentParsing"})})," ",(0,s.jsx)(n.code,{children:"Optional[bool]"}),"\nDefault false. If set to true, the SDK will NOT attempt to parse UserAgents (attached to the user object) into browserName, browserVersion, systemName, systemVersion, and appVersion at evaluation time, when needed for evaluation."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"waitForUserAgentInit"})})," ",(0,s.jsx)(n.code,{children:"Optional[bool]"}),"\nDefault: false"]}),"\n",(0,s.jsx)(n.p,{children:"When set to true, the SDK will wait until user agent parsing data is fully loaded during initialization. This may slow down by ~1 second startup but ensures that parsing of the user\u2019s userAgent string into fields like browserName, browserVersion, systemName, systemVersion, and appVersion is ready before any evaluations."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"disableUserCountryLookup"})}),"  ",(0,s.jsx)(n.code,{children:"Optional[bool]"}),"\nDefault false. If set to true, the SDK will NOT attempt to parse IP addresses (attached to the user object at user.ip) into Country codes at evaluation time, when needed for evaluation."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"waitForCountryLookupInit"})}),"  ",(0,s.jsx)(n.code,{children:"Optional[bool]"}),"\nDefault: false"]}),"\n",(0,s.jsx)(n.p,{children:"When set to true, the SDK will wait for country lookup data (e.g., GeoIP or YAML files) to fully load during initialization. This may slow down by ~1 second startup but ensures that IP-to-country parsing is ready at evaluation time"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"eventLoggingFlushIntervalMs"})}),": ",(0,s.jsx)(n.code,{children:"Optional<number>"}),(0,s.jsx)(n.br,{}),"\n","How often events are flushed to Statsig servers (in milliseconds)."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"eventLoggingMaxQueueSize"})}),": ",(0,s.jsx)(n.code,{children:"Optional<number>"}),(0,s.jsx)(n.br,{}),"\n","Maximum number of events to queue before forcing a flush."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"dataStore"})}),": ",(0,s.jsx)(n.code,{children:"Optional<DataStore>"}),(0,s.jsx)(n.br,{}),"\n","An adapter with custom storage behavior for config specs."]}),"\n",(0,s.jsxs)(n.p,{children:["Can also be used to continuously fetch updates in place of the Statsig network. See ",(0,s.jsx)(n.a,{href:"https://docs.statsig.com/server/concepts/data_store/",children:"Data Stores"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["For example, see our 1P implementation via Redis ",(0,s.jsx)(n.a,{href:"https://github.com/statsig-io/node-js-server-sdk-redis",children:"statsig-node-redis"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"specsAdapterConfig"})}),": ",(0,s.jsx)(n.code,{children:"Optional<SpecAdapterConfig>"}),(0,s.jsx)(n.br,{}),"\n","More advanced settings to config SDK to fetch from different sources: for example, ",(0,s.jsx)(n.a,{href:"https://docs.statsig.com/server/concepts/forward_proxy/",children:"statsig forward proxy"}),", your own proxy server, data store.\nOr using different network protocol, http vs grpc streaming."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"observabilityClient"})}),": ",(0,s.jsx)(n.code,{children:"Optional<ObservabilityClient>"}),(0,s.jsx)(n.br,{}),"\n","Interface for you to integrate observability metrics exposed by SDK, including, config propagation delay, initialization time spent. See ",(0,s.jsx)(n.a,{href:"https://docs.statsig.com/sdk_monitoring/",children:"details"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"persistentStorage"})}),": ",(0,s.jsx)(n.code,{children:"Optional<PersistentStorage>"}),(0,s.jsx)(n.br,{}),"\n","Interface for you to user persistent storage within sdk. To view more ",(0,s.jsx)(n.a,{href:"https://docs.statsig.com/server/concepts/persistent_assignment/",children:"details"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"proxyConfig"})}),": ",(0,s.jsx)(n.code,{children:"Optional<ProxyConfig>"}),(0,s.jsx)(n.br,{}),"\n","Configuration for connecting through a proxy server. The ",(0,s.jsx)(n.code,{children:"ProxyConfig"})," object has the following properties:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"proxyHost"}),": Optional string specifying the proxy server host"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"proxyPort"}),": Optional number specifying the proxy server port"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"proxyAuth"}),': Optional string for proxy authentication (format: "username',":password",'")']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"proxyProtocol"}),': Optional string specifying the protocol (e.g., "http", "https")']}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// Example usage:\nconst options = new StatsigOptions();\noptions.environment = "staging";\noptions.initTimeoutMs = 3000;\noptions.proxyConfig = {\n  proxyHost: "proxy.example.com",\n  proxyPort: 8080,\n  // proxyAuth can be set if authentication is required\n  proxyProtocol: "https"\n};\n\nconst statsig = new Statsig("secret-key", options);\nawait statsig.initialize();\n'})})]})}function w(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"await statsig.shutdown();\n"})})}var b=t(21432);const S={gateSnippet:(0,s.jsx)(b.A,{language:"jsx",children:"const result = Statsig.checkGate(aUser, 'a_gate_name', {disableExposureLogging: true});"}),gateExposureSnippet:(0,s.jsx)(b.A,{language:"jsx",children:"Statsig.manuallyLogGateExposure(aUser, 'a_gate_name');"}),configSnippet:(0,s.jsx)(b.A,{language:"jsx",children:"const config = Statsig.getDynamicConfig(aUser, 'a_dynamic_config_name',  {disableExposureLogging: true});"}),configExposureSnippet:(0,s.jsx)(b.A,{language:"jsx",children:"Statsig.manuallyLogDynamicConfigExposure(aUser, 'a_dynamic_config_name');"}),experimentSnippet:(0,s.jsx)(b.A,{language:"jsx",children:"const experiment = Statsig.getExperiment(aUser, 'an_experiment_name',  {disableExposureLogging: true});"}),experimentExposureSnippet:(0,s.jsx)(b.A,{language:"jsx",children:"Statsig.manuallyLogExperimentExposure(aUser, 'an_experiment_name');"}),layerSnippet:(0,s.jsx)(b.A,{language:"jsx",children:"const layer = Statsig.getLayer(aUser, 'a_layer_name',  {disableExposureLogging: true});\nconst paramValue = layer.get('a_param_name', 'fallback_value');"}),layerExposureSnippet:(0,s.jsx)(b.A,{language:"jsx",children:"Statsig.manuallyLogLayerParameterExposure(aUser, 'a_layer_name', 'a_param_name');"})};function k(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// Overrides the given gate to the specified value\nStatsig.overrideGate("a_gate_name", true);\n\t\n// Overrides the given dynamic config to the provided value\nStatsig.overrideDynamicConfig("a_config_name", { key: "value" });\n\n// Overrides the given experiment to the provided value\nStatsig.overrideExperiment("an_experiment_name", { key: "value" });\n\t\n// Overrides the given layer to the provided value\nStatsig.overrideLayer("a_layer_name", { key: "value" });\n\n// Overrides the given experiment to a particular groupname, available for experiments only:\nStatsig.overrideExperimentByGroupName("an_experiment_name", "a_group_name");\n\n//Alternatively, get the Experiment object for a given groupName\nconst groupExp = statsig.getExperimentByGroupName("pricing_experiment", "premium_group");\nconst premiumPrice = groupExp.getValue("price", 9.99);\n'})})}function A(e){const n={admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// Create a shared instance that can be accessed globally\nconst statsig = Statsig.newShared("secret-key");\nawait statsig.initialize();\n\n// Access the shared instance from anywhere in your code\nconst sharedStatsig = Statsig.shared();\nconst isFeatureEnabled = sharedStatsig.checkGate(user, "feature_name");\n\n// Check if a shared instance exists\nif (Statsig.hasSharedInstance()) {\n  // Use the shared instance\n}\n\n// Remove the shared instance when no longer needed\nStatsig.removeShared();\n'})}),"\n",(0,s.jsx)(n.p,{children:"The shared instance functionality provides a singleton pattern where a single Statsig instance can be created and accessed globally throughout your application. This is useful for applications that need to access Statsig functionality from multiple parts of the codebase without having to pass around a Statsig instance."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Statsig.newShared(sdkKey, options)"}),": Creates a new shared instance of Statsig that can be accessed globally"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Statsig.shared()"}),": Returns the shared instance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Statsig.hasSharedInstance()"}),": Checks if a shared instance exists (useful when you aren't sure if the shared instance is ready yet)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Statsig.removeShared()"}),": Removes the shared instance (useful when you want to switch to a new shared instance)"]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"hasSharedInstance()"})," and ",(0,s.jsx)(n.code,{children:"removeShared()"})," are helpful in specific scenarios but aren't required in most use cases where the shared instance is set up near the top of your application."]}),(0,s.jsx)(n.p,{children:"Also note that only one shared instance can exist at a time. Attempting to create a second shared instance will result in an error."})]})]})}function D(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export interface DataStore {\n  initialize?: () => Promise<void>;\n  shutdown?: () => Promise<void>;\n  get?: (key: string) => Promise<DataStoreResponse>;\n  set?: (key: string, value: string, time?: number) => Promise<void>;\n  supportPollingUpdatesFor?: (key: string) => Promise<boolean>;\n}\n\nexport interface DataStoreResponse {\n  result?: string;\n  time?: number;\n}\n"})})}function R(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export interface ObservabilityClient {\n  initialize?: () => void;\n  increment?: (metricName: string, value: number, tags: Record<string, string>) => void;\n  gauge?: (metricName: string, value: number, tags: Record<string, string>) => void;\n  dist?: (metricName: string, value: number, tags: Record<string, string>) => void;\n  error?: (tag: string, error: string) => void;\n}\n"})})}function I(e){const n={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export interface PersistentStorage {\n  load: (key: string) => UserPersistedValues | null;\n  save: (key: string, config_name: string, data: StickyValues) => void;\n  delete: (key: string, config_name: string) => void;\n}\n\nexport interface StickyValues {\n  value: boolean;\n  json_value: Record<string, unknown>;\n  rule_id: string;\n  group_name: string | null;\n  secondary_exposures: SecondaryExposure[];\n  undelegated_secondary_exposures: SecondaryExposure[];\n  config_delegate: string | null;\n  explicit_parameters: string[] | null;\n  time: number;\n  configVersion?: number | undefined;\n}\n\nexport type UserPersistedValues = Record<string, StickyValues>;\n\nexport interface SecondaryExposure {\n  gate: string;\n  gateValue: string;\n  ruleId: string;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { PersistentStorage, StickyValues, UserPersistedValues } from \'@statsig/statsig-node-core\';\n\nclass MyPersistentStorage implements PersistentStorage {\n  private storage = new Map<string, UserPersistedValues>();\n  constructor() {\n      this.load = this.load.bind(this);\n      this.save = this.save.bind(this);\n      this.delete = this.delete.bind(this);\n  }\n\n  load(key: string): UserPersistedValues | null {\n    return this.storage.get(key) || null;\n  }\n\n  save(key: string, config_name: string, data: StickyValues): void {\n    const existing = this.storage.get(key) || {};\n    existing[config_name] = data;\n    this.storage.set(key, existing);\n  }\n\n  delete(key: string, config_name: string): void {\n    const existing = this.storage.get(key);\n    if (existing) {\n      delete existing[config_name];\n      this.storage.set(key, existing);\n    }\n  }\n  \n  getUserPersistedValue(user: StatsigUser, idType: string): UserPersistedValues | null {\n    const storageKey = this.getStorageKey(user, idType);\n    if (storageKey !== null) {\n      return this.load(storageKey);\n    }\n    return null;\n  }\n\n  private getStorageKey(user: StatsigUser, idType: string): string | null {\n    const lowerCaseIdType = idType.toLowerCase();\n\n    if (lowerCaseIdType === "user_id" || lowerCaseIdType === "userid") {\n      const id = user.userID;\n      return id ? `${id}:userID` : null;\n    } else if (user.customIDs) {\n      const id = user.customIDs[idType];\n      return id ? `${id}:${idType}` : null;\n    }\n\n    return null;\n  }\n\n}\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," Persistent storage support was added in version 0.6.1 of the Node.js SDK."]}),"\n"]})]})}function E(e){const n={code:"code",h3:"h3",li:"li",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface OutputLoggerProvider {\n  initialize?: () => void;\n  debug?: (tag: string, message: string) => void;\n  info?: (tag: string, message: string) => void;\n  warn?: (tag: string, message: string) => void;\n  error?: (tag: string, message: string) => void;\n  shutdown?: () => void;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"implementation-example",children:"Implementation Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { OutputLoggerProvider } from '@statsig/statsig-node-core';\n\nclass CustomOutputLogger implements OutputLoggerProvider {\n  initialize = () => {\n    console.log('Logger initialized');\n  };\n\n  debug = (tag: string, message: string) => {\n    console.debug(`[${tag}] ${message}`);\n  };\n\n  info = (tag: string, message: string) => {\n    console.info(`[${tag}] ${message}`);\n  };\n\n  warn = (tag: string, message: string) => {\n    console.warn(`[${tag}] ${message}`);\n  };\n\n  error = (tag: string, message: string) => {\n    console.error(`[${tag}] ${message}`);\n  };\n\n  shutdown = () => {\n    console.log('Logger shutdown');\n  };\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"usage-with-statsigoptions",children:"Usage with StatsigOptions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { Statsig, StatsigOptions } from '@statsig/statsig-node-core';\n\nconst customLogger = new CustomOutputLogger();\n\nconst options: StatsigOptions = {\n  outputLoggerProvider: customLogger,\n  outputLogLevel: 'info', // 'none' | 'debug' | 'info' | 'warn' | 'error'\n};\n\nconst statsig = new Statsig('secret-key', options);\nawait statsig.initialize();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"notes",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["All methods in the ",(0,s.jsx)(n.code,{children:"OutputLoggerProvider"})," interface are optional"]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"tag"})," parameter indicates the SDK component or category generating the log message"]}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"outputLogLevel"})," in StatsigOptions to control which log levels are actually called"]}),"\n",(0,s.jsx)(n.li,{children:"The logger is automatically initialized when the Statsig client initializes and shut down when the client shuts down"}),"\n"]})]})}function T(e){const n={code:"code",h3:"h3",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"fields-needed-methods-enterprise-only",children:"Fields Needed Methods (Enterprise Only)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Get user fields needed for a gate evaluation\ngetFieldsNeededForGate(gateName: string): Array<string>\n\n// Get user fields needed for a dynamic config evaluation\ngetFieldsNeededForDynamicConfig(configName: string): Array<string>\n\n// Get user fields needed for an experiment evaluation\ngetFieldsNeededForExperiment(experimentName: string): Array<string>\n\n// Get user fields needed for a layer evaluation\ngetFieldsNeededForLayer(layerName: string): Array<string>\n"})})]})}function C(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"client-initialize-response",children:"Client Initialize Response"}),"\n",(0,s.jsx)(n.p,{children:"The Node Core SDK provides a method to generate a client initialize response that can be used to bootstrap client SDKs without requiring network requests."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Get client initialize response for a user\nconst values = statsig.getClientInitializeResponse(user, options);\n\n// Pass values to a client SDK to initialize without a network request\n"})}),"\n",(0,s.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"getClientInitializeResponse"})," method accepts an optional ",(0,s.jsx)(n.code,{children:"options"})," parameter with the following properties:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export interface ClientInitializeResponseOptions {\n  hashAlgorithm?: string;        // Algorithm used for hashing gate/experiment names (default: 'djb2')\n  clientSdkKey?: string;         // Client SDK key to use for initialization\n  includeLocalOverrides?: boolean; // Whether to include local overrides in the response\n  featureGateFilter?: Set<string>; // Filter to only include specific feature gates\n  experimentFilter?: Set<string>;  // Filter to only include specific experiments\n  dynamicConfigFilter?: Set<string>; // Filter to only include specific dynamic configs\n  layerFilter?: Set<string>;     // Filter to only include specific layers\n  paramStoreFilter?: Set<string>; // Filter to only include specific parameter stores\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"hash-algorithm",children:"Hash Algorithm"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"hashAlgorithm"})," option specifies which algorithm to use for hashing gate and experiment names in the client initialize response. The default is ",(0,s.jsx)(n.code,{children:"'djb2'"})," for better performance and smaller payload size."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Use djb2 hashing algorithm for better performance\nconst values = statsig.getClientInitializeResponse(user, {\n  hashAlgorithm: 'djb2',\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"client-sdk-key",children:"Client SDK Key"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"clientSdkKey"})," option lets you filter the response to only the specific feature gates, experiments, dynamic configs, layers, or parameter stores that a particular client key has access to - effectively letting you apply ",(0,s.jsx)(n.a,{href:"/sdk-keys/target-apps/",children:"target apps"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Specify a client SDK key\nconst values = statsig.getClientInitializeResponse(user, {\n  clientSdkKey: 'client-key',\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"filtering",children:"Filtering"}),"\n",(0,s.jsx)(n.p,{children:"The filter options allow you to reduce the payload size by only including specific feature gates, experiments, dynamic configs, layers, or parameter stores in the response."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Only include specific feature gates and experiments\nconst values = statsig.getClientInitializeResponse(user, {\n  featureGateFilter: new Set(['my_gate_1', 'my_gate_2']),\n  experimentFilter: new Set(['my_experiment']),\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"local-overrides",children:"Local Overrides"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"includeLocalOverrides"})," option determines whether to consider ",(0,s.jsx)(n.a,{href:"#local-overrides",children:"local overrides"})," you've set when evaluating each config in the response."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Include local overrides in the response\nconst values = statsig.getClientInitializeResponse(user, {\n  includeLocalOverrides: true,\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-bootstrapping-a-client-sdk",children:"Example: Bootstrapping a Client SDK"}),"\n",(0,s.jsx)(n.p,{children:"Below is a complete example of using the client initialize response to bootstrap a client SDK. Note that you may choose to parallelize or inline the initialize response data with other requests to your server, to eliminate additional requests and latency."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Server-side code\nimport { Statsig, StatsigUser } from '@statsig/node-core';\n\n// Initialize the server SDK\nawait Statsig.initialize('server-secret-key');\n\n// In your API endpoint handler\napp.get('/statsig-bootstrap', (req, res) => {\n  // Create a user object from the request\n  const user = new StatsigUser({\n    userID: req.query.userID || '',\n    email: req.query.email,\n    ip: req.ip,\n    userAgent: req.headers['user-agent'],\n  });\n\n  // Generate the client initialize response with filters\n  const values = Statsig.getClientInitializeResponse(user, {\n    hashAlgorithm: 'djb2',\n    featureGateFilter: new Set(['onboarding_v2', 'new_checkout']),\n    experimentFilter: new Set(['pricing_experiment']),\n    layerFilter: new Set(['ui_layer']),\n  });\n\n  // Return the values to the client\n  res.json({ statsigValues: values });\n});\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Client-side code using @statsig/js-client\nimport { Statsig } from '@statsig/js-client';\n\n// Fetch bootstrap values from your API\nconst response = await fetch('/statsig-bootstrap');\nconst { statsigValues } = await response.json();\n\n// Initialize the client SDK with the bootstrap values\nawait Statsig.initialize({\n  sdkKey: 'client-sdk-key',\n  initializeValues: statsigValues,\n});\n"})})]})}function N(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const statsig = new Statsig('server-secret-key');\n\n// Subscribe to gate evaluation events\nconst gateSubId = statsig.subscribe('gate_evaluated', (event) => {\n  console.log('Gate evaluated:', {\n    gateName: event.gate_name,\n    value: event.value,\n    ruleId: event.rule_id,\n    reason: event.reason\n  });\n});\n\n// Subscribe to dynamic config evaluation events\nconst configSubId = statsig.subscribe('dynamic_config_evaluated', (event) => {\n  console.log('Config evaluated:', {\n    configName: event.dynamic_config.name,\n    values: event.dynamic_config.value\n  });\n});\n\n// Subscribe to experiment evaluation events\nconst experimentSubId = statsig.subscribe('experiment_evaluated', (event) => {\n  console.log('Experiment evaluated:', {\n    experimentName: event.experiment.name,\n    groupName: event.experiment.group_name,\n    parameters: event.experiment.value\n  });\n});\n\n// Subscribe to layer evaluation events\nconst layerSubId = statsig.subscribe('layer_evaluated', (event) => {\n  console.log('Layer evaluated:', {\n    layerName: event.layer.name,\n    allocatedExperiment: event.layer.allocated_experiment_name,\n    parameters: event.layer.value\n  });\n});\n\n// Subscribe to all events\nconst allEventsSubId = statsig.subscribe('*', (event) => {\n  console.log('Event received:', event.event_name, event);\n});\n\n// Unsubscribe from specific event types\nstatsig.unsubscribe('gate_evaluated');\n\n// Unsubscribe using subscription ID\nstatsig.unsubscribeById(configSubId);\n\n// Unsubscribe from all events\nstatsig.unsubscribeAll();\n"})})}const F={sidebar_label:"Node",title:"Node Server SDK"},L=void 0,M={id:"server-core/node-core",title:"Node Server SDK",description:"{Builder.result}",source:"@site/docs/server-core/node-core.mdx",sourceDirName:"server-core",slug:"/server-core/node-core",permalink:"/server-core/node-core",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/server-core/node-core.mdx",tags:[],version:"current",lastUpdatedAt:1758841972e3,frontMatter:{sidebar_label:"Node",title:"Node Server SDK"},sidebar:"api",previous:{title:"Migrating to @statsig/react-bindings",permalink:"/client/javascript-sdk/migrating-from-statsig-react"},next:{title:"Python",permalink:"/server-core/python-core"}},P={},O=(0,r.PG)({sections:[[o.Repository,{repo:"https://github.com/statsig-io/statsig-server-core/tree/main/statsig-node"}],[o.GettingStarted,{sdkType:"Node",install:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}),{}),preamble:(0,s.jsx)(a.Ay,{}),initialize:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}),{})}],[o.WorkingWith,{checkGate:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}),{}),getConfig:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}),{}),getExperiment:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}),{}),getPrompt:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}),{}),getPromptSet:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}),{}),logEvent:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(j,{...e})}):j(e)}),{}),hideAsyncDisclaimer:!0,getFeatureGate:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}),{}),paramStores:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}),{}),sharedInstance:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(A,{...e})}):A(e)}),{}),forwardLogLineEvent:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(v,{...e})}):v(e)}),{})}],[o.ManualExposures,{...S}],[o.StatsigUser,{}],[o.StatsigOptions,{options:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(y,{...e})}):y(e)}),{})}],[o.Shutdown,{shutdown:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(w,{...e})}):w(e)}),{})}],[o.ClientInitResponse,{sdkName:"Node Core",snippet:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(C,{...e})}):C(e)}),{}),signature:()=>{const e={code:"code",...(0,i.R)()};return(0,s.jsx)(e.code,{children:"getClientInitializeResponse"})}}],[o.EventSubscriptions,{snippet:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(N,{...e})}):N(e)}),{})}],[o.LocalOverrides,{snippet:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(k,{...e})}):k(e)}),{})}],[o.PersistentStorage,{content:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(I,{...e})}):I(e)}),{})}],[o.DataStore,{content:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(D,{...e})}):D(e)}),{})}],[o.OutputLogger,{content:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(E,{...e})}):E(e)}),{})}],[o.ObservabilityClient,{content:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(R,{...e})}):R(e)}),{})}],[o.FAQ,{faqs:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(f,{...e})}):f(e)}),{})}],[o.Reference,{snippets:(0,s.jsx)((function(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(T,{...e})}):T(e)}),{})}],[o.FieldsNeededMethods,{}]]}),U=O.toc;function B(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(s.Fragment,{children:O.result})})}function G(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(B,{...e})}):B()}},27293:(e,n,t)=>{t.d(n,{A:()=>E});var s=t(96540),i=t(74848);function r(e){const{mdxAdmonitionTitle:n,rest:t}=function(e){const n=s.Children.toArray(e),t=n.find((e=>s.isValidElement(e)&&"mdxAdmonitionTitle"===e.type)),r=n.filter((e=>e!==t)),o=t?.props.children;return{mdxAdmonitionTitle:o,rest:r.length>0?(0,i.jsx)(i.Fragment,{children:r}):null}}(e.children),r=e.title??n;return{...e,...r&&{title:r},children:t}}var o=t(34164),a=t(21312),l=t(17559);const c={admonition:"admonition_xJq3",admonitionHeading:"admonitionHeading_Gvgb",admonitionIcon:"admonitionIcon_Rf37",admonitionContent:"admonitionContent_BuS1"};function d(e){let{type:n,className:t,children:s}=e;return(0,i.jsx)("div",{className:(0,o.A)(l.G.common.admonition,l.G.common.admonitionType(n),c.admonition,t),children:s})}function h(e){let{icon:n,title:t}=e;return(0,i.jsxs)("div",{className:c.admonitionHeading,children:[(0,i.jsx)("span",{className:c.admonitionIcon,children:n}),t]})}function u(e){let{children:n}=e;return n?(0,i.jsx)("div",{className:c.admonitionContent,children:n}):null}function p(e){const{type:n,icon:t,title:s,children:r,className:o}=e;return(0,i.jsxs)(d,{type:n,className:o,children:[s||t?(0,i.jsx)(h,{title:s,icon:t}):null,(0,i.jsx)(u,{children:r})]})}function g(e){return(0,i.jsx)("svg",{viewBox:"0 0 14 16",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})})}const x={icon:(0,i.jsx)(g,{}),title:(0,i.jsx)(a.A,{id:"theme.admonition.note",description:"The default label used for the Note admonition (:::note)",children:"note"})};function m(e){return(0,i.jsx)(p,{...x,...e,className:(0,o.A)("alert alert--secondary",e.className),children:e.children})}function j(e){return(0,i.jsx)("svg",{viewBox:"0 0 12 16",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})})}const v={icon:(0,i.jsx)(j,{}),title:(0,i.jsx)(a.A,{id:"theme.admonition.tip",description:"The default label used for the Tip admonition (:::tip)",children:"tip"})};function f(e){return(0,i.jsx)(p,{...v,...e,className:(0,o.A)("alert alert--success",e.className),children:e.children})}function y(e){return(0,i.jsx)("svg",{viewBox:"0 0 14 16",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})})}const w={icon:(0,i.jsx)(y,{}),title:(0,i.jsx)(a.A,{id:"theme.admonition.info",description:"The default label used for the Info admonition (:::info)",children:"info"})};function b(e){return(0,i.jsx)(p,{...w,...e,className:(0,o.A)("alert alert--info",e.className),children:e.children})}function S(e){return(0,i.jsx)("svg",{viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})})}const k={icon:(0,i.jsx)(S,{}),title:(0,i.jsx)(a.A,{id:"theme.admonition.warning",description:"The default label used for the Warning admonition (:::warning)",children:"warning"})};function A(e){return(0,i.jsx)("svg",{viewBox:"0 0 12 16",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})})}const D={icon:(0,i.jsx)(A,{}),title:(0,i.jsx)(a.A,{id:"theme.admonition.danger",description:"The default label used for the Danger admonition (:::danger)",children:"danger"})};const R={icon:(0,i.jsx)(S,{}),title:(0,i.jsx)(a.A,{id:"theme.admonition.caution",description:"The default label used for the Caution admonition (:::caution)",children:"caution"})};const I={...{note:m,tip:f,info:b,warning:function(e){return(0,i.jsx)(p,{...k,...e,className:(0,o.A)("alert alert--warning",e.className),children:e.children})},danger:function(e){return(0,i.jsx)(p,{...D,...e,className:(0,o.A)("alert alert--danger",e.className),children:e.children})}},...{secondary:e=>(0,i.jsx)(m,{title:"secondary",...e}),important:e=>(0,i.jsx)(b,{title:"important",...e}),success:e=>(0,i.jsx)(f,{title:"success",...e}),caution:function(e){return(0,i.jsx)(p,{...R,...e,className:(0,o.A)("alert alert--warning",e.className),children:e.children})}}};function E(e){const n=r(e),t=(s=n.type,I[s]||(console.warn(`No admonition component found for admonition type "${s}". Using Info as fallback.`),I.info));var s;return(0,i.jsx)(t,{...n})}}}]);