"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[67583],{19164:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var n=s(74848),i=s(28453);const a={title:"Metric Examples",slug:"/statsig-warehouse-native/configuration/metric-examples",sidebar_label:"Metric Examples",keywords:["owner:craig"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},r=void 0,o={id:"statsig-warehouse-native/configuration/metric-examples",title:"Metric Examples",description:"For customers transitioning from other Warehouse Native Vendors, the format of metrics should be similar and generally customers have been able to use APIs to fetch remote configurations, translate them, and post them to Statsig without issue.",source:"@site/docs/statsig-warehouse-native/configuration/metric-examples.md",sourceDirName:"statsig-warehouse-native/configuration",slug:"/statsig-warehouse-native/configuration/metric-examples",permalink:"/statsig-warehouse-native/configuration/metric-examples",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/statsig-warehouse-native/configuration/metric-examples.md",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Metric Examples",slug:"/statsig-warehouse-native/configuration/metric-examples",sidebar_label:"Metric Examples",keywords:["owner:craig"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"warehouse",previous:{title:"Max/Min",permalink:"/statsig-warehouse-native/metrics/max-min"},next:{title:"Cohort Metrics",permalink:"/statsig-warehouse-native/features/cohort-metrics"}},c={},l=[{value:"User Revenue from a Wide Table",id:"user-revenue-from-a-wide-table",level:2},{value:"How it works in experiments",id:"how-it-works-in-experiments",level:3},{value:"Current Account Value",id:"current-account-value",level:2},{value:"How it works in experiments",id:"how-it-works-in-experiments-1",level:3},{value:"Users D7 Participation",id:"users-d7-participation",level:2},{value:"How it works in experiments",id:"how-it-works-in-experiments-2",level:3},{value:"User Funnel Metric",id:"user-funnel-metric",level:2},{value:"How it works in experiments",id:"how-it-works-in-experiments-3",level:3},{value:"User Retention Rate",id:"user-retention-rate",level:2},{value:"How it works in experiments",id:"how-it-works-in-experiments-4",level:3}];function h(e){const t={a:"a",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"For customers transitioning from other Warehouse Native Vendors, the format of metrics should be similar and generally customers have been able to use APIs to fetch remote configurations, translate them, and post them to Statsig without issue."}),"\n",(0,n.jsx)(t.p,{children:"For customers migrating from in-house systems, there may be gaps in translation between how they think about experiment metrics and how Statsig handles them. This page is intended as a collection of common use cases and how they're handled in Statsig."}),"\n",(0,n.jsx)(t.h2,{id:"user-revenue-from-a-wide-table",children:"User Revenue from a Wide Table"}),"\n",(0,n.jsx)(t.p,{children:"In many cases, companies will have a primary source-of-truth table about user engagement with one row per user-day and many columns representing actions taken or other values. This is very easy to integrate with Statsig."}),"\n",(0,n.jsx)(t.p,{children:"First, enter the table path and optionally a partition column to use for date partitioning:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"configuration",src:s(5939).A+"",width:"3072",height:"1088"})}),"\n",(0,n.jsxs)(t.p,{children:["Then, configure your timestamp field and ID types. Add any custom SQL aliases for other users, e.g. dividing revenue by 100 to convert from cents to dollars.\n",(0,n.jsx)(t.img,{alt:"initials",src:s(20462).A+"",width:"3024",height:"1596"})]}),"\n",(0,n.jsx)(t.p,{children:"Go to the metrics tab, press create, configure your name/source, and then configure a sum metric on the column with the revenue value."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"create_revenue",src:s(29664).A+"",width:"1004",height:"592"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"configure_revenue",src:s(55468).A+"",width:"1718",height:"1622"})}),"\n",(0,n.jsx)(t.h3,{id:"how-it-works-in-experiments",children:"How it works in experiments"}),"\n",(0,n.jsx)(t.p,{children:"First, Statsig aggregates each unit-level record across the days they are enrolled in the experiment."}),"\n",(0,n.jsx)(t.p,{children:"Then, Statsig will calculate the mean unit-level revenue per experiment group, imputing 0s for all exposed users with no revenue."}),"\n",(0,n.jsxs)(t.p,{children:["Statsig provides a description of this in-product for any user who wants to learn more:\n",(0,n.jsx)(t.img,{alt:"aggregation_description",src:s(5939).A+"",width:"3072",height:"1088"})]}),"\n",(0,n.jsx)(t.h2,{id:"current-account-value",children:"Current Account Value"}),"\n",(0,n.jsx)(t.p,{children:'Often, you will want to understand if your experiment has altered the "state" of users. Let\'s say you care about the current account value today on users in test vs. control of your experiment - have you helped users grow their account?'}),"\n",(0,n.jsx)(t.p,{children:"On your end, you'll just need a table or query that tracks users' account values each day. Then, set up a metric source pointing to that table or query."}),"\n",(0,n.jsx)(t.p,{children:"Go to the metrics tab, press create, configure your metric name & source, and then configure a latest value metric on the column with the account value."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"create_account",src:s(14193).A+"",width:"1008",height:"588"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"configure_account",src:s(39421).A+"",width:"3082",height:"1306"})}),"\n",(0,n.jsx)(t.h3,{id:"how-it-works-in-experiments-1",children:"How it works in experiments"}),"\n",(0,n.jsx)(t.p,{children:"First, at unit level, Statsig calculates each day's latest non-null value within any cohort bounds and takes the latest value from the latest day available."}),"\n",(0,n.jsx)(t.p,{children:"Then, Statsig will calculate the mean unit-level value per experiment group on each day, imputing 0s for all exposed users with no value."}),"\n",(0,n.jsxs)(t.p,{children:["Statsig provides a description of this in-product for any user who wants to learn more:\n",(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/7fe6af8f-02a9-45f4-ae3f-5c682757e571",alt:"Screenshot 2025-03-27 at 11 33 31\u202fAM"})]}),"\n",(0,n.jsx)(t.h2,{id:"users-d7-participation",children:"Users D7 Participation"}),"\n",(0,n.jsx)(t.p,{children:"A common metric in experimentation is measuring whether exposed users take specific actions within a defined time window."}),"\n",(0,n.jsxs)(t.p,{children:["On your end, you will just need to provide an event table that records user action with essential columns such as user_id, timestamp and event type. Similarly as above, configure your timestamp field and ID types.\n",(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/148469b7-df7b-4f39-af87-1ee9dd5ee431",alt:"Screenshot 2025-03-27 at 10 37 49\u202fAM"}),"\n",(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/5bd9fcc7-54e1-4a15-a8c4-8d9950631d24",alt:"Screenshot 2025-03-27 at 10 39 14\u202fAM"})]}),"\n",(0,n.jsx)(t.p,{children:"Then you can navigate to the metric catalog and create a unit count metric using the defined metric source. You could leverage the 'Add Filter' option to focus on specific events relevant to your designed metric."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/04712a16-8dac-4c1f-a327-1854fd15d2aa",alt:"Screenshot 2025-03-27 at 10 43 05\u202fAM"})}),"\n",(0,n.jsx)(t.p,{children:"When defining the metric, you can choose from several rollup modes:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Daily Participation Rate -> it measures the days a unit was active after being exposed to the experiment divided by its total days in the experiments"}),"\n",(0,n.jsx)(t.li,{children:"On-Time Event -> it measures if a unit performed an action any time after being exposed to the experiment"}),"\n",(0,n.jsx)(t.li,{children:"Latest Value -> it measures if a unit passed metric filters on their last observed record"}),"\n",(0,n.jsx)(t.li,{children:"Custom Attribution Window -> to include data for each unit in a specified time window after being exposed to the experiment"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/959c5dbd-eecf-4797-bc87-7970ccda4947",alt:"Screenshot 2025-03-27 at 10 40 08\u202fAM"})}),"\n",(0,n.jsxs)(t.p,{children:["In our example, we want to measure the user participation within 7 days. So you can pick 'Custom Attribution Window' as your rollup mode and set start = 0 end = 6 to define a 7-day window. Option to enable 'Only include units with a completed window' to exclude users who haven't reached the full 7-day period from your analysis.\n",(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/0632de2f-dc8c-44c0-85c1-39e8a6a6f070",alt:"Screenshot 2025-03-27 at 10 47 02\u202fAM"})]}),"\n",(0,n.jsx)(t.h3,{id:"how-it-works-in-experiments-2",children:"How it works in experiments"}),"\n",(0,n.jsx)(t.p,{children:"First, at unit level, Statsig will create a 0/1 flag if the event is triggered during the specified time window."}),"\n",(0,n.jsx)(t.p,{children:"Then, at the group level, the mean is calculated as the SUM of the unit-level flags, divided by the count of UNIQUE UNITS exposed to the experiment."}),"\n",(0,n.jsxs)(t.p,{children:["Statsig provides documentation of this for any user who wants to learn more: ",(0,n.jsx)(t.a,{href:"https://docs.statsig.com/statsig-warehouse-native/metrics/unit-count-window",children:"https://docs.statsig.com/statsig-warehouse-native/metrics/unit-count-window"})]}),"\n",(0,n.jsx)(t.h2,{id:"user-funnel-metric",children:"User Funnel Metric"}),"\n",(0,n.jsx)(t.p,{children:"A common analysis in experimentation is understanding how a new feature impacts dropoff rates at each step of a user funnel."}),"\n",(0,n.jsx)(t.p,{children:"To create a funnel metric in Statsig, you need an event table that records each step of the events you want to track. The setup for your metric source follows the same process as described earlier."}),"\n",(0,n.jsxs)(t.p,{children:["When you navigate to the metric catalog, select 'Funnel' as your metric type. Choose the unit level for your funnel steps \u2013 this can be a distinct count of users or sessions based on what you want to measure.\n",(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/76c815a1-14a6-4d8c-853e-10460f38d4a6",alt:"Screenshot 2025-03-27 at 11 39 01\u202fAM"})]}),"\n",(0,n.jsx)(t.p,{children:"Then, you cam define your funnel steps, specifying the sequence of events users go through."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/91d50945-ba23-47d0-b0e4-85308a0e404c",alt:"Screenshot 2025-03-27 at 11 41 16\u202fAM"})}),"\n",(0,n.jsx)(t.p,{children:"In the Advanced Settings, you can further customize your funnel metric to fit different use cases. Options include specify calculation window, measure time to convert, treat exposure as initial funnel event, etc."}),"\n",(0,n.jsxs)(t.p,{children:["These settings provide full flexibility, allowing you to tailor the funnel metric based on your specific analysis needs.\n",(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/a6de4690-83ad-49ed-af9a-4eef9c6a9700",alt:"Screenshot 2025-03-27 at 11 42 15\u202fAM"})]}),"\n",(0,n.jsx)(t.h3,{id:"how-it-works-in-experiments-3",children:"How it works in experiments"}),"\n",(0,n.jsx)(t.p,{children:"First, at unit level, a 1/0 (or session-count number for session funnels) metric is constructed for each step of the funnel. This flag is 1 if the unit completed that step some time after all previous steps were completed in order. If using a session-level funnel, it's the number of sessions where that is true, e.g. all previous steps were completed in order for that session key."}),"\n",(0,n.jsx)(t.p,{children:"Then, at the group level, the stepwise mean is calculated as the total of each step's metric divided by the total metric from the previous step. The overall mean is calculated as the units/sessions that completed the funnel divided by the unit/sessions that started the funnel."}),"\n",(0,n.jsxs)(t.p,{children:["Statsig provides a description of this in-product for any user who wants to learn more:\n",(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/84c22973-af41-495d-a943-f0f7436050ee",alt:"Screenshot 2025-03-27 at 11 45 42\u202fAM"})]}),"\n",(0,n.jsx)(t.h2,{id:"user-retention-rate",children:"User Retention Rate"}),"\n",(0,n.jsx)(t.p,{children:"A retention metric is a great way to measure changes in user stickiness and product growth with the new feature you've built."}),"\n",(0,n.jsx)(t.p,{children:"To create a retention metric in Statsig, you'll need an event table that captures the key activities indicating user retention.  The setup for your metric source follows the same process as described earlier."}),"\n",(0,n.jsxs)(t.p,{children:["When you navigate to the metric catalog, select 'Retention' as your metric type. Configure the retention period and look back window. For example, if you set your 'Retention Period End' to be 14 and retention lookback window to be 7, retention is measured as whether the user has triggered the retention event between day 8 and day 14.\n",(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/e418815e-505c-4356-9922-d706bebb053c",alt:"Screenshot 2025-03-27 at 2 40 05\u202fPM"})]}),"\n",(0,n.jsxs)(t.p,{children:['You also have the option to "Use a different start and completion event for retention calculations" if you don\u2019t want to use exposure as the starting event or if you want to define a specific subset of events as your retention event.\nFor example, based on the setup shown in the screenshots, we will be measuring the week 2 retention rate of users who made a purchase in week 1.\n',(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/d3e12922-3767-4a05-987b-e16df126ea41",alt:"Screenshot 2025-03-27 at 2 43 41\u202fPM"})]}),"\n",(0,n.jsxs)(t.p,{children:["In the Advanced Settings, you can configure what's the ID type for your retention metric.\n",(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/cdf184a4-cd3a-4622-8669-0d029b1e76dc",alt:"Screenshot 2025-03-27 at 2 48 21\u202fPM"})]}),"\n",(0,n.jsx)(t.h3,{id:"how-it-works-in-experiments-4",children:"How it works in experiments"}),"\n",(0,n.jsx)(t.p,{children:"First, for each unit per day, Statsig checks if the retention start event is triggered and assigns a 0/1 flag, which serves as the denominator of the calculation."}),"\n",(0,n.jsx)(t.p,{children:"Next, Statsig checks if the retention completion event occurs within the specified time window and assigns a 0/1 flag, which serves as the numerator of the calculation."}),"\n",(0,n.jsx)(t.p,{children:"Finally, at the group level, retention is calculated as sum(numerator) / sum(denominator) to determine the overall retention rate."}),"\n",(0,n.jsxs)(t.p,{children:["Statsig provides a description of this in-product for any user who wants to learn more:\n",(0,n.jsx)(t.img,{src:"https://github.com/user-attachments/assets/94843265-ed43-4bce-954f-3f64ec2d380f",alt:"Screenshot 2025-03-27 at 2 48 43\u202fPM"})]})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},5939:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/metric_examples_configuration-f78b0297f53266c397e00c984122809f.png"},39421:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/metric_examples_configure_account-0e41be6a5136cfd7d1b1bf8c39959b1c.png"},55468:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/metric_examples_configure_revenue-976529865fdc8caf8f10776313cd4daa.png"},14193:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/metric_examples_create_account-259cf39e938839465311938455e0d772.png"},29664:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/metric_examples_create_revenue-246e606c7b8673a759c0f4f59ce5a825.png"},20462:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/metric_examples_initials-ac87251b9c2149fb4003aa91fd472b81.png"},28453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>o});var n=s(96540);const i={},a=n.createContext(i);function r(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);