"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[91359],{88702:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var r=n(74848),s=n(28453);const i={title:"Managing Experiments With Terraform",sidebar_label:"Managing Experiments",keywords:["owner:brock"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},a=void 0,o={id:"integrations/terraform/terraform_experiment",title:"Managing Experiments With Terraform",description:"You can create a .tf file (Terraform File) to configure your Statsig experiments. All features of console/v1/experiments are supported. The layout is very similar to the JSON body of a /experiments request.",source:"@site/docs/integrations/terraform/terraform_experiment.mdx",sourceDirName:"integrations/terraform",slug:"/integrations/terraform/terraform_experiment",permalink:"/integrations/terraform/terraform_experiment",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/integrations/terraform/terraform_experiment.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Managing Experiments With Terraform",sidebar_label:"Managing Experiments",keywords:["owner:brock"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud",previous:{title:"Managing Gates",permalink:"/integrations/terraform/terraform_gate"},next:{title:"Pulumi",permalink:"/integrations/pulumi"}},l={},c=[{value:"Basic Example",id:"basic-example",level:2},{value:"Changing Experiment Status",id:"changing-experiment-status",level:2},{value:"Status: setup",id:"status-setup",level:4},{value:"Status: active",id:"status-active",level:4},{value:"Status: decision_made",id:"status-decision_made",level:4},{value:"Status: abandoned",id:"status-abandoned",level:4}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["You can create a .tf file (Terraform File) to configure your Statsig experiments. All features of ",(0,r.jsx)(t.a,{href:"/console-api/experiments",children:"console/v1/experiments"})," are supported. The layout is very similar to the JSON body of a /experiments request."]}),"\n",(0,r.jsx)(t.p,{children:"Requiring the Statsig provider. (You will need to change the version)."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-go",children:'terraform {\n  required_providers {\n    statsig = {\n      version = "x.x.x"\n      source  = "statsig-io/statsig"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"basic-example",children:"Basic Example"}),"\n",(0,r.jsx)(t.p,{children:"Creating a basic experiment resource"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-go",children:'resource "statsig_experiment" "my_experiment" {\n  name        = "my_experiment"\n  description = "A short description of what we are experimenting on."\n  id_type     = "userID"\n  allocation  = 10\n  status      = "setup"\n  groups {\n    name                  = "Test Group"\n    size                  = 50\n    parameter_values_json = jsonencode({ "a_string" : "test_string", "a_bool" : true })\n  }\n  groups {\n    name                  = "Control Group"\n    size                  = 50\n    parameter_values_json = jsonencode({ "a_string" : "control_string", "a_bool" : false })\n  }\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"changing-experiment-status",children:"Changing Experiment Status"}),"\n",(0,r.jsxs)(t.p,{children:["You can update the ",(0,r.jsx)(t.code,{children:"status"})," field to four possible values, ",(0,r.jsx)(t.strong,{children:"setup"}),", ",(0,r.jsx)(t.strong,{children:"active"}),", ",(0,r.jsx)(t.strong,{children:"decision_made"})," and ",(0,r.jsx)(t.strong,{children:"abandoned"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["If you would like to see code examples of how the ",(0,r.jsx)(t.strong,{children:"Setup -> Run -> Ship"})," flow works for an experiment, check out our ",(0,r.jsx)(t.a,{href:"#",children:"Terraform Acceptance Tests"})," for experiments."]}),"\n",(0,r.jsx)(t.h4,{id:"status-setup",children:"Status: setup"}),"\n",(0,r.jsx)(t.p,{children:"When an experiment has this status, you are stating that your experiment is not ready, and no values will be served via a Statsig SDK or the HttpAPI."}),"\n",(0,r.jsx)(t.h4,{id:"status-active",children:"Status: active"}),"\n",(0,r.jsx)(t.p,{children:"When an experiment has this status, you are marking the experiment as running, and it will start returning values to your users and collecting analytics data."}),"\n",(0,r.jsx)(t.h4,{id:"status-decision_made",children:"Status: decision_made"}),"\n",(0,r.jsxs)(t.p,{children:["When an experiment has this status, you are stating that your experiment is complete and you have picked an experiment group that you would like to ship.\nChanging to this state will require the ",(0,r.jsx)(t.code,{children:"launched_group_id"})," field to be set will the GroupID found on ",(0,r.jsx)(t.a,{href:"https://console.statsig.com",children:"console.statsig.com"}),"."]}),"\n",(0,r.jsx)(t.h4,{id:"status-abandoned",children:"Status: abandoned"}),"\n",(0,r.jsx)(t.p,{children:"Experiments with this status will not serve any values and will not collect any analytics information."}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:'You may only create an experiment with the status "setup" or "active".'}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:'You can only transition to "decision_made" from "active".'}),"\n"]}),"\n"]})}),"\n",(0,r.jsxs)(t.p,{children:["A full experiment example is included in the open source Github repo ",(0,r.jsx)(t.a,{href:"https://github.com/statsig-io/terraform-provider-statsig/blob/main/examples/resources/statsig_experiment/resource.tf",children:"https://github.com/statsig-io/terraform-provider-statsig/blob/main/examples/resources/statsig_experiment/resource.tf"}),"."]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var r=n(96540);const s={},i=r.createContext(s);function a(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);