"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[1992],{63446:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});var s=n(74848),i=n(28453);const o={sidebar_label:"Log your first custom event",title:"Log your first custom event",keywords:["owner:brock"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},a=void 0,r={id:"guides/logging-events",title:"Log your first custom event",description:"Overview",source:"@site/docs/guides/logging-events.mdx",sourceDirName:"guides",slug:"/guides/logging-events",permalink:"/guides/logging-events",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/guides/logging-events.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{sidebar_label:"Log your first custom event",title:"Log your first custom event",keywords:["owner:brock"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"api",previous:{title:"Run your first A/B test",permalink:"/guides/abn-tests"},next:{title:"Build with LLMs",permalink:"/sdks/build-with-llms"}},c={},l=[{value:"Overview",id:"overview",level:2},{value:"Identifying Users and the &quot;StatsigUser&quot; object",id:"identifying-users",level:2},{value:"Group Analytics",id:"group-analytics",level:2},{value:"Best practices",id:"best-practices",level:2},{value:"Set all known IDs on each StatsigUser object",id:"set-all-known-ids-on-each-statsiguser-object",level:3},{value:"Deduplicating custom events",id:"deduplicating-custom-events",level:3},{value:"Naming conventions",id:"naming-conventions",level:3},{value:"What to measure",id:"what-to-measure",level:3},{value:"Logging events via SDKs",id:"log-via-sdk",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(t.p,{children:["The first step towards building better products is tracking events.  As the saying goes, \"If you can't measure something, you can't understand it. If you can't understand it, you can't control it. If you can't control it, you can't improve it.\"\nRegardless of if you plan to use Statsig for web or product analytics, or for experimentation, defining the key events and metrics for your product is the best place to start.  Event data is consumable in ",(0,s.jsx)(t.a,{href:"/product-analytics/overview",children:"Metrics Explorer"}),", can be turned into ",(0,s.jsx)(t.a,{href:"/metrics/how-metrics-work",children:"custom metrics"}),", visualized in ",(0,s.jsx)(t.a,{href:"/product-analytics/dashboards",children:"dashboards"}),", and used in ",(0,s.jsx)(t.a,{href:"/metrics/pulse",children:"experiment results"})," to show the impact of your experiments on the metrics you care about."]}),"\n",(0,s.jsx)(t.p,{children:"We try to make this easy in a few ways:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Our web SDKs offer ",(0,s.jsx)(t.a,{href:"/webanalytics/overview",children:"autocaptured web analytics"})," to automatically log common events like pageviews, clicks, and more."]}),"\n",(0,s.jsxs)(t.li,{children:["We offer ",(0,s.jsx)(t.a,{href:"https://docs.statsig.com/integrations/introduction",children:"integrations"})," to connect your existing event data in Segment, mParticle, and other sources."]}),"\n",(0,s.jsxs)(t.li,{children:["All of our client and server SDKs provide a simple ",(0,s.jsx)(t.code,{children:"logEvent"})," API to instrument your own events in your app or webserver."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["For general guidance on event logging and core concepts, read on or jump to the ",(0,s.jsx)(t.a,{href:"#log-via-sdk",children:"logging events via SDKs"})," section."]}),"\n",(0,s.jsx)(t.h2,{id:"identifying-users",children:'Identifying Users and the "StatsigUser" object'}),"\n",(0,s.jsx)(t.p,{children:'Many analytics platforms have a concept of "identifying" a user.  In Statsig, this is the StatsigUser object that is set a initialization time in client SDKs, or with each event in Server SDKs.'}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"/concepts/user",children:(0,s.jsx)(t.code,{children:"StatsigUser"})})," is a set of properties that describe the user.  It roughly has the same json definition across all SDKs and integrations:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:"{\n  userID,\n  customIDs,\n  email,\n  ip,\n  userAgent,\n  country,\n  locale,\n  appVersion,\n  custom,\n  privateAttributes,\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"userID"})," field is reserved for a unique identifier for the user.  This should be the ID of the logged in user."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"customIDs"}),' are explained in "Group Analytics" below.']}),"\n",(0,s.jsx)(t.p,{children:"The other fields are fairly self explanatory, and power not just targeting and evaluation for feature flags, but can also be used for custom metrics and data queries in metrics explorer."}),"\n",(0,s.jsx)(t.h2,{id:"group-analytics",children:"Group Analytics"}),"\n",(0,s.jsx)(t.p,{children:'Another core concept in analytics is the idea of different "groups".  For example, a user could belong to a certain company, organization, page, subreddit, facebook group, etc.'}),"\n",(0,s.jsxs)(t.p,{children:["In Statsig, groups are represented by the ",(0,s.jsx)(t.code,{children:"customIDs"})," field.  This is a dictionary that can contain multiple IDs for a single user.  For example, a user could have the following customIDs:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "userID": "123",\n  "customIDs": {\n    "companyID": "456",\n    "projectID": "abc",\n  }\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:"Statsig computes all metrics at the user level, but also for each custom identifier.  This means you can run experiments at a company level, where all users in a company will get the same experience, and compare the impact of company level metrics."}),"\n",(0,s.jsx)(t.p,{children:"You can also use metrics explorer to slice and dice metrics at the company level, rather than the user level, if you set up a customID for it. For example, in the Statsig project, I can look at the console page views at a user or company level in metrics explorer:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://github.com/user-attachments/assets/67719f66-63cb-41c7-8d83-d2a567738a84",alt:"Viewing Console Page Views at a User Level"})}),"\n",(0,s.jsx)(t.p,{children:'To set up a new "group" or "customID":'}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Go to your ",(0,s.jsx)(t.a,{href:"https://console.statsig.com/settings",children:"project settings"})]}),"\n",(0,s.jsx)(t.li,{children:'Locate the "Custom IDs" section and hit "edit"'}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://github.com/user-attachments/assets/e26cc341-13c2-4b78-898f-02d56bfc2474",alt:"CustomIDs in project settings"})}),"\n",(0,s.jsxs)(t.ol,{start:"3",children:["\n",(0,s.jsx)(t.li,{children:"Name the new customID and give it a description so other people in your project know what it means"}),"\n",(0,s.jsxs)(t.li,{children:["Start logging events with that customID in the ",(0,s.jsx)(t.code,{children:"customIDs"})," field of the StatsigUser object"]}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"You must provide the set of all IDs on each StatsigUser object."})}),"\n",(0,s.jsx)(t.h2,{id:"best-practices",children:"Best practices"}),"\n",(0,s.jsx)(t.h3,{id:"set-all-known-ids-on-each-statsiguser-object",children:"Set all known IDs on each StatsigUser object"}),"\n",(0,s.jsxs)(t.p,{children:["In order to generate metrics for each user/group, Statsig needs to know the set of all IDs on each StatsigUser object.  Whether this is at client sdk initialization time, or when calling ",(0,s.jsx)(t.code,{children:"logEvent"})," in a server SDK, you need to pass each identifier for the user for it to contribute to those metrics."]}),"\n",(0,s.jsx)(t.p,{children:"If you use a logged out identifier for anonymous users, you should continue to pass that identifier even after the user logs in and you populate the logged in userID.  This will enable any gates or experiments on the logged out identifier to continue to bucket the user appropriately, and calculate metrics at both the logged out and logged in level."}),"\n",(0,s.jsx)(t.h3,{id:"deduplicating-custom-events",children:"Deduplicating custom events"}),"\n",(0,s.jsx)(t.p,{children:"At the moment, Statsig does not provide a way to deduplicate custom events that you log."}),"\n",(0,s.jsx)(t.h3,{id:"naming-conventions",children:"Naming conventions"}),"\n",(0,s.jsxs)(t.p,{children:['The most important aspect is consistency - you should pick a convention and stick with it. Your events and metrics catalogue can quickly become messy and difficult to navigate when there are similar events with different conventions. Technically speaking, Statsig can accept any type of name convention - E.g.; "Page View", "PageView", "Page-view" and "page_view". Practically speaking, we recommend using "page_view" \u2014 that is, to avoid spacing, and to use all lowercase characters. One thing to note, special characters cannot be used in event names. Statsig drops events that match this regex/contain this character set: ',(0,s.jsx)(t.code,{children:'"\\\\[\\]{}<>#=;&$%|\\u0000\\n\\r"'}),". This will ensure there are no duplicate entries with different casing, and ensure other downstream systems connected via integration can accept and process the event properly given this is the most universally-compatible convention."]}),"\n",(0,s.jsx)(t.h3,{id:"what-to-measure",children:"What to measure"}),"\n",(0,s.jsx)(t.p,{children:"In general, if you're doing normal experimentation/product analytics, you'll want events that correspond to user actions. How you classify them will depend on what you're trying to do.  In general, keep the following in mind:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:['Events should not have high cardinality if you don\'t have a lot of users. Otherwise, experimental/metrics data will be too sparse. E.g.; an eCommerce website should not log a separate event name for every single product page. But instead, should have a generic "product_page_view" event and include contextual page information within the ',(0,s.jsx)(t.code,{children:"optional_event_metadata"})," object."]}),"\n",(0,s.jsx)(t.li,{children:"If you have a well-defined user funnel, you'll want each step to be a separate event."}),"\n",(0,s.jsxs)(t.li,{children:['If you have a less defined user journey, you\'ll want to log generic events (eg. "page_view"), and add more details to either the value field (which should be the primary dimension of interest), or the ',(0,s.jsx)(t.code,{children:"optional_event_metadata"})," object."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"log-via-sdk",children:"Logging events via SDKs"}),"\n",(0,s.jsx)(t.p,{children:"All our SDKs provide a very simple API to log events. They look like this:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"statsig.logEvent(\n  event_name, \n  optional_event_value, \n  optional_event_metadata\n);\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Where event name describes a notable event in your product, like ",(0,s.jsx)(t.code,{children:"sign_up"}),", ",(0,s.jsx)(t.code,{children:"achievement_unlocked"}),", ",(0,s.jsx)(t.code,{children:"add_to_cart"}),", ",(0,s.jsx)(t.code,{children:"check_out"}),", etc."]}),"\n",(0,s.jsx)(t.p,{children:'These events can optionally take an event value.  For instance, you can use this field to specify the type of achievement that was unlocked, or the name of the product that was added to cart, or the price of the item that was purchased.\nIn experiments, the "value" will generate an automatic breakdown of the event if there are fewer than 8 distinct values.'}),"\n",(0,s.jsxs)(t.p,{children:["And finally, the metadata field allows you to specify even more details about the event.  Here's an couple examples of how a ",(0,s.jsx)(t.code,{children:"logEvent"})," call looks like:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"statsig.logEvent(\n  'add_to_cart', // Name\n  19.99, // Price\n  { \n    item_id: 'BC22010', \n    cart_size: '2',\n    user_segment: 'first_time_purchaser',\n  }\n);\n"})}),"\n",(0,s.jsx)(t.p,{children:"An example in CSharp"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-csharp",children:'StatsigClient.LogEvent(\n  "level_completed", // Event Name\n  11, // Level number\n  new Dictionary<string, string>()\n  { \n    { "score", "452" } \n  }\n);\n'})}),"\n",(0,s.jsx)(t.admonition,{title:"Size limits on event payload",type:"info",children:(0,s.jsx)(t.p,{children:"There are limits to how large each event field can be.\nObject fields have an overall limit of 4096 on its stringified length.\nString fields have a limit of 64 on its length."})}),"\n",(0,s.jsxs)(t.p,{children:["See the ",(0,s.jsx)(t.a,{href:"/sdks/getting-started",children:"SDK reference"})," for more details on logging events in the language of your choice."]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var s=n(96540);const i={},o=s.createContext(i);function a(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);