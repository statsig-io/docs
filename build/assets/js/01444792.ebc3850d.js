"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[21944],{83364:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var t=s(74848),a=s(28453);const r={title:"HTTP API",keywords:["owner:brock"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},i=void 0,o={id:"http-api",title:"HTTP API",description:"\u26a0\ufe0f Important: While this HTTP API is available for direct use, we strongly recommend using one of our official SDKs for your programming language whenever possible. SDKs offer better performance, automatic error handling, and type safety. They also provide a more idiomatic integration with your codebase. Only use this HTTP API directly if there isn't an SDK available for your language or if you have a specific use case that requires direct API access.",source:"@site/docs/http-api.md",sourceDirName:".",slug:"/http-api",permalink:"/http-api",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/http-api.md",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"HTTP API",keywords:["owner:brock"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"api",previous:{title:"SDK Support Policy",permalink:"/sdks/support"},next:{title:"Console API Overview",permalink:"/console-api/introduction"}},l={},c=[{value:"Step 1 - Create a free account on the Statsig sign-up page",id:"step-1---create-a-free-account-on-the-statsig-sign-up-page",level:3},{value:"Step 2 - Get an API key from the Statsig Console",id:"step-2---get-an-api-key-from-the-statsig-console",level:3},{value:"Step 3 - Issue API request",id:"step-3---issue-api-request",level:3},{value:"StatsigUser Schema",id:"statsiguser-schema",level:4},{value:"Log an Event",id:"log-an-event",level:3},{value:"Event Schema",id:"event-schema",level:4},{value:"Log an Event with Custom Environment",id:"log-an-event-with-custom-environment",level:3},{value:"Check a Feature Gate",id:"check-a-feature-gate",level:3},{value:"Check Multiple Feature Gates",id:"check-multiple-feature-gates",level:3},{value:"Get a Dynamic Config Value",id:"get-a-dynamic-config-value",level:3},{value:"Fetch Experiment Config",id:"fetch-experiment-config",level:3},{value:"Fetch Layer Value",id:"fetch-layer-value",level:3},{value:"Log an Exposure Event",id:"log-an-exposure-event",level:3},{value:"Log Experiment Exposure",id:"log-experiment-exposure",level:4},{value:"Log Feature Gate Exposure",id:"log-feature-gate-exposure",level:4},{value:"Log Secondary Exposures",id:"log-secondary-exposures",level:3}];function u(e){const n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u26a0\ufe0f Important:"})," While this HTTP API is available for direct use, we strongly recommend using one of our official SDKs for your programming language whenever possible. SDKs offer better performance, automatic error handling, and type safety. They also provide a more idiomatic integration with your codebase. Only use this HTTP API directly if there isn't an SDK available for your language or if you have a specific use case that requires direct API access."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Before you can start calling the server APIs, you need to take care of the following steps:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#step1",children:"Create a free account on statsig.com"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#step2",children:"Get an API key from the admin console"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#step3",children:"Issue API requests"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h3,{id:"step-1---create-a-free-account-on-the-statsig-sign-up-page",children:["Step 1 - Create a free account on the ",(0,t.jsx)(n.a,{href:"https://console.statsig.com/sign_up",children:"Statsig sign-up page"})]}),"\n",(0,t.jsxs)(n.p,{children:["An account will let you use the Statsig Console, where you can manage all of your ",(0,t.jsx)(n.strong,{children:"Feature Gates"}),", ",(0,t.jsx)(n.strong,{children:"Dynamic Configs"}),", and ",(0,t.jsx)(n.strong,{children:"Experiments"}),". Note that you will also be able to invite others to collaborate on your Statsig Projects, so they can interact with your gates and configs."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h3,{id:"step-2---get-an-api-key-from-the-statsig-console",children:["Step 2 - Get an API key from the ",(0,t.jsx)(n.a,{href:"https://console.statsig.com/",children:"Statsig Console"})]}),"\n",(0,t.jsx)(n.p,{children:"An API key is required in every API request. There are two types of API keys you can use with the HTTP API:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Server-side secret Key"}),": Used only from secure servers and should never be exposed in client-side code."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Client-SDK Key"}),": Safe to embed in mobile apps and front-end web apps."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\ud83d\udca1 ",(0,t.jsx)(n.strong,{children:"Tip:"})," If you're working with server-side logic or sensitive data, use the ",(0,t.jsx)(n.strong,{children:"Server-side secret Key"}),". If you\u2019re in doubt or working with public-facing code, use the ",(0,t.jsx)(n.strong,{children:"Client-SDK Key"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"step-3---issue-api-request",children:"Step 3 - Issue API request"}),"\n",(0,t.jsxs)(n.p,{children:["Our API is built on top of HTTPS, and you can authenticate via the ",(0,t.jsx)(n.code,{children:"statsig-api-key"})," header. All API requests use the ",(0,t.jsx)(n.code,{children:"POST"})," method, and parameters are set by passing a JSON object in the request body."]}),"\n",(0,t.jsxs)(n.p,{children:["\ud83d\udca1 ",(0,t.jsxs)(n.strong,{children:["Why ",(0,t.jsx)(n.code,{children:"POST"}),"?"]})," Even for fetching data, we use ",(0,t.jsx)(n.code,{children:"POST"})," to ensure secure and flexible transmission of user-specific data (e.g., configurations or experiment results)."]}),"\n",(0,t.jsxs)(n.p,{children:["Statsig automatically logs ",(0,t.jsx)(n.strong,{children:"exposure events"})," whenever you call the APIs. These exposure events help attribute downstream events to experiments or feature gates, which are used to calculate metrics like analytics lift."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"statsiguser-schema",children:"StatsigUser Schema"}),"\n",(0,t.jsx)(n.p,{children:"Whether you are checking a gate, an experiment, a dynamic config, a layer, or logging an event, you will need to provide the set of properties for that check or event. We call that set of properties the User object (or StatsigUser)."}),"\n",(0,t.jsx)(n.p,{children:"The schema is as follows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"// StatsigUser - object\n{\n  userID: string; // Not required, but you should send at least 1 ID\n  email?: string; // Optional user email\n  ip?: string; // Optional user IP address\n  userAgent?: string; // Optional user agent string for device info\n  country?: string; // Optional country code for location-based targeting\n  locale?: string; // Optional language/locale info\n  appVersion?: string; // Optional app version\n  custom?: Record<string, string | number | boolean | Array<string> | undefined>; // Optional custom user attributes\n  privateAttributes?: Record<string, string | number | boolean | Array<string> | undefined>; // Optional private user attributes\n  customIDs?: Record<string, string>; // Optional custom identifiers\n  statsigEnvironment?: { tier: string }; // Defines the environment (dev, staging, production)\n};\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"log-an-event",children:"Log an Event"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n  --header "statsig-api-key: <YOUR-SDK-KEY>" \\\n  --header "Content-Type: application/json" \\\n  --header "STATSIG-CLIENT-TIME: <local_time>" \\\n  --request POST \\\n  --data \'{"events": [{"user": { "userID": "42" }, "time": 1616826986211, "eventName": "test_api_event"}]}\' \\\n  "https://events.statsigapi.net/v1/log_event"\n'})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"NOTE:"})," ",(0,t.jsx)(n.code,{children:"STATSIG-CLIENT-TIME"})," is required to normalize the timestamp for events against server time. Without it, you may see inconsistent timestamps for client SDKs with varying client clocks. Here\u2019s ",(0,t.jsx)(n.a,{href:"https://github.com/statsig-io/cpp-client-sdk/blob/a62df973388a56669de2a05f0630a65570a775bd/src/statsig/internal/network_service.hpp#L148",children:"an example"})," from one of our SDKs."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"event-schema",children:"Event Schema"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// json\n{\n  events: [StatsigEvent];\n}\n\n// StatsigEvent - object\n{\n  eventName: string;\n  value: number | string;\n  time: string; // unix timestamp\n  user: StatsigUser; // see schema above\n  metadata: Record<string, string>;\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Response:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{"success": true}, status 202\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"log-an-event-with-custom-environment",children:"Log an Event with Custom Environment"}),"\n",(0,t.jsx)(n.p,{children:"Useful when you operate in multiple environments like dev, staging, and production."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n  --header "statsig-api-key: <YOUR-SDK-KEY>" \\\n  --header "Content-Type: application/json" \\\n  --header "STATSIG-CLIENT-TIME: <local_time>" \\\n  --request POST \\\n  --data \'{"events": [{"user": { "userID": "42", "statsigEnvironment": {"tier": "staging"} }, "time": 1616826986211, "eventName": "test_api_event"}]}\' \\\n  "https://events.statsigapi.net/v1/log_event"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Response:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{"success": true}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"check-a-feature-gate",children:"Check a Feature Gate"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n  --header "statsig-api-key: <YOUR-SDK-KEY>" \\\n  --header "Content-Type: application/json" \\\n  --request POST \\\n  --data \'{"user": { "userID": "42" }, "gateName": "<YOUR-GATE-NAME>"}\' \\\n  "https://api.statsig.com/v1/check_gate"\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"check-multiple-feature-gates",children:"Check Multiple Feature Gates"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n  --header "statsig-api-key: <YOUR-SDK-KEY>" \\\n  --header "Content-Type: application/json" \\\n  --request POST \\\n  --data \'{"user": { "userID": "42" }, "gateNames": ["<YOUR-GATE-NAME-1>", "<YOUR-GATE-NAME-2>"]}\' \\\n  "https://api.statsig.com/v1/check_gate"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Response:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[\n  {"name":"YOUR-GATE-NAME-1","value":false,"rule_id":"123","group_name":"group123"},\n  {"name":"YOUR-GATE-NAME-2","value":false,"rule_id":"123","group_name":"group123"}\n]\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"get-a-dynamic-config-value",children:"Get a Dynamic Config Value"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n  --header "statsig-api-key: <YOUR-SDK-KEY>" \\\n  --header "Content-Type: application/json" \\\n  --request POST \\\n  --data \'{"user": { "userID": "42" }, "configName":"<YOUR-CONFIG-NAME>"}\' \\\n  "https://api.statsig.com/v1/get_config"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Response:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{"name":"YOUR-CONFIG-NAME","value":{"a":1,"b":2},"group":"123","rule_id":"123","group_name":"group123"}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"fetch-experiment-config",children:"Fetch Experiment Config"}),"\n",(0,t.jsx)(n.p,{children:"Getting an experiment config is similar to fetching a dynamic configuration. The system will automatically log the right exposure based on the name of the config."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n  --header "statsig-api-key: <YOUR-SDK-KEY>" \\\n  --header "Content-Type: application/json" \\\n  --request POST \\\n  --data \'{"user": { "userID": "42" }, "configName":"<YOUR-EXPERIMENT-NAME>"}\' \\\n  "https://api.statsig.com/v1/get_config"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Response:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{"name":"YOUR-EXPERIMENT-NAME","value":{"color":"blue","shape":"circle"},"group":"123","rule_id":"123","group_name":"group123"}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"fetch-layer-value",children:"Fetch Layer Value"}),"\n",(0,t.jsx)(n.p,{children:"The system will automatically log the right exposure based on the name of the config."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n  --header "statsig-api-key: <YOUR-SDK-KEY>" \\\n  --header "Content-Type: application/json" \\\n  --request POST \\\n  --data \'{"user": { "userID": "42" }, "layerName":"<YOUR-LAYER-NAME>"}\' \\\n  "https://statsigapi.net/v1/get_layer"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Response:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{"name":"YOUR-LAYER-NAME","value":{"color":"blue","shape":"circle"},"ruleID":"2OZdhuDfq3w1UIHovUFRBM", "allocatedExperimentName": "a_experiment"}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"log-an-exposure-event",children:"Log an Exposure Event"}),"\n",(0,t.jsx)(n.p,{children:"You can log one or more exposure events with this API. Exposure events help Statsig track what users are exposed to during experiments or feature gate interactions, helping calculate downstream effects and performance."}),"\n",(0,t.jsx)(n.h4,{id:"log-experiment-exposure",children:"Log Experiment Exposure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n  --header "statsig-api-key: <YOUR-SDK-KEY>" \\\n  --header "Content-Type: application/json" \\\n  --request POST \\\n  --data \'{"exposures": [{"user": {"userID": "user_id_12345"}, "experimentName": "analytics_only_experiment", "group": "Daily Deals"}]}\' \\\n  "https://events.statsigapi.net/v1/log_custom_exposure"\n'})}),"\n",(0,t.jsx)(n.h4,{id:"log-feature-gate-exposure",children:"Log Feature Gate Exposure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n  --header "statsig-api-key: <YOUR-SDK-KEY>" \\\n  --header "Content-Type: application/json" \\\n  --request POST \\\n  --data \'{"exposures": [{"user": {"userID": "user_id_12345"}, "gateName": "saleBanner", "group": "Controls Access", "passes": true}]}\' \\\n  "https://events.statsigapi.net/v1/log_custom_exposure"\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"log-secondary-exposures",children:"Log Secondary Exposures"}),"\n",(0,t.jsx)(n.p,{children:"Secondary exposures are logged alongside other exposure events. They typically represent holdouts or targeting gates."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n \n\n --header "statsig-api-key: <YOUR-SDK-KEY>" \\\n  --header "Content-Type: application/json" \\\n  --request POST \\\n  --data \'{\n  "exposures": [\n    {\n      "user": {\n        "userID": "user_id_12345"\n      },\n      "gateName": "saleBanner",\n      "group": "Controls Access",\n      "passes": true,\n      "secondaryExposures": [\n        {\n          "gate": "test_holdout",\n          "gateValue": "true",\n          "ruleID": "3CQWjvi4HXcHsGIuuffKoe:10.00:2"\n        }\n      ]\n    }\n  ]\n}\' \\\n  "https://events.statsigapi.net/v1/log_custom_exposure"\n'})}),"\n",(0,t.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(96540);const a={},r=t.createContext(a);function i(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);