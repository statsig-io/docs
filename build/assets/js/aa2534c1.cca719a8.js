"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[93831],{91612:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>l});var n=s(74848),i=s(28453);const a={title:"Clickhouse Connection [Beta]",slug:"/statsig-warehouse-native/connecting-your-warehouse/clickhouse",sidebar_label:"Clickhouse [Beta]",keywords:["owner:vm"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},o=void 0,r={id:"statsig-warehouse-native/connecting-your-warehouse/clickhouse",title:"Clickhouse Connection [Beta]",description:"The Clickhouse connector for warehouse native is fully functional, but some functionality may not be performance-optimized or may have minor syntax errors until the beta period is over.",source:"@site/docs/statsig-warehouse-native/connecting-your-warehouse/clickhouse.md",sourceDirName:"statsig-warehouse-native/connecting-your-warehouse",slug:"/statsig-warehouse-native/connecting-your-warehouse/clickhouse",permalink:"/statsig-warehouse-native/connecting-your-warehouse/clickhouse",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/statsig-warehouse-native/connecting-your-warehouse/clickhouse.md",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Clickhouse Connection [Beta]",slug:"/statsig-warehouse-native/connecting-your-warehouse/clickhouse",sidebar_label:"Clickhouse [Beta]",keywords:["owner:vm"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"warehouse",previous:{title:"Trino [Beta]",permalink:"/statsig-warehouse-native/connecting-your-warehouse/trino"},next:{title:"Fabric [Beta]",permalink:"/statsig-warehouse-native/connecting-your-warehouse/fabric"}},c={},l=[{value:"Overview",id:"overview",level:2},{value:"Grant Permissions to Statsig&#39;s Account",id:"grant-permissions-to-statsigs-account",level:2},{value:"What IP addresses will Statsig access data warehouses from?",id:"what-ip-addresses-will-statsig-access-data-warehouses-from",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.admonition,{type:"warning",children:[(0,n.jsx)(t.p,{children:"The Clickhouse connector for warehouse native is fully functional, but some functionality may not be performance-optimized or may have minor syntax errors until the beta period is over."}),(0,n.jsx)(t.p,{children:"Please reach out to support for assistance getting started with Clickhouse on Statsig."})]}),"\n",(0,n.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsx)(t.p,{children:"To set up connection with Clickhouse, we need the following:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["The URL to connect to, e.g. https://<ID>.us-east1.gcp.clickhouse.cloud:8443","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:'This can be found by going to the service that needs to be connect to, and clicking "Connect" in the left rail'}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["A database in the service where Statsig will have full CRUD access for writing logged data and intermediate tables","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Statsig recommends that this is a new database, separate from production data"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["A username/password for a Statsig database user","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Statsig recommends making a new, standalone user for audit purposes"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.li,{children:"An exposures table to export exposures data logged to Statsig"}),"\n",(0,n.jsx)(t.li,{children:"An events table to export events data logged to Statsig"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Connection Card",src:s(55311).A+"",width:"686",height:"614"})}),"\n",(0,n.jsx)(t.p,{children:"To create a user, the easiest way is to run:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"create user <username> IDENTIFIED WITH sha256_password BY '<password>';\n"})}),"\n",(0,n.jsx)(t.p,{children:"But the correct approach will depend on the best practices specified by your database administrator."}),"\n",(0,n.jsx)(t.h2,{id:"grant-permissions-to-statsigs-account",children:"Grant Permissions to Statsig's Account"}),"\n",(0,n.jsx)(t.p,{children:"The database user created for Statsig will need database permissions in order to access data and run workflows."}),"\n",(0,n.jsx)(t.p,{children:"Statsig requires two levels of permission:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Read-only access to any production data (outside of the data logged to Statsig) that will be analyzed in analytics or experimentation"}),"\n",(0,n.jsx)(t.li,{children:"Full CRUD access within the staging database (specified above) where Statsig will write data artifacts to store results for long-running experiments"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"This can be granted to the Statsig user in SQL by an account with sufficient permissions."}),"\n",(0,n.jsx)(t.p,{children:"Read:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"GRANT SHOW TABLES, SHOW COLUMNS, SELECT ON <read_db>.* to <statsig_user>;\n"})}),"\n",(0,n.jsx)(t.p,{children:"CRUD:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"GRANT SHOW TABLES, SHOW COLUMNS, SELECT ON <statsig_db>.* to <statsig_user>;\nGRANT CREATE, DROP, DELETE, ALTER, UPDATE, INSERT ON <statsig_db>.* to <statsig_user>;\n"})}),"\n",(0,n.jsx)(t.h3,{id:"what-ip-addresses-will-statsig-access-data-warehouses-from",children:"What IP addresses will Statsig access data warehouses from?"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"/data-warehouse-ingestion/faq#what-ip-addresses-will-statsig-access-data-warehouses-from",children:"See FAQ"})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},55311:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/chconnectioncard-09e47e11e4715f9f0627a2341dd9371e.png"},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>r});var n=s(96540);const i={},a=n.createContext(i);function o(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);