"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[84279],{91728:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});var s=i(74848),n=i(28453);const a={title:"Semantic Layer Sync",slug:"/statsig-warehouse-native/configuration/semantic-layer-sync",sidebar_label:"Semantic Layer Sync",keywords:["owner:vm"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},o=void 0,r={id:"statsig-warehouse-native/configuration/semantic-layer-sync",title:"Semantic Layer Sync",description:"If you have centrally defined metrics, Statsig offers the ability to sync its data sources and metrics as part of your data version management workflow. Using Statsig's Console API you can automatically sync changes you make to the matching definitions on Statsig, and you can optionally make the metrics read-only in the Statsig console.",source:"@site/docs/statsig-warehouse-native/configuration/semantic-layer-sync.md",sourceDirName:"statsig-warehouse-native/configuration",slug:"/statsig-warehouse-native/configuration/semantic-layer-sync",permalink:"/statsig-warehouse-native/configuration/semantic-layer-sync",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/statsig-warehouse-native/configuration/semantic-layer-sync.md",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Semantic Layer Sync",slug:"/statsig-warehouse-native/configuration/semantic-layer-sync",sidebar_label:"Semantic Layer Sync",keywords:["owner:vm"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"warehouse",previous:{title:"WHN Console API",permalink:"/statsig-warehouse-native/configuration/console-api"},next:{title:"Understanding Experiments",permalink:"/statsig-warehouse-native/features/understanding-experiments"}},c={},l=[{value:"Detailed Guide",id:"detailed-guide",level:2},{value:"Forking the Repository",id:"forking-the-repository",level:3},{value:"Adding the Statsig Console API Key",id:"adding-the-statsig-console-api-key",level:3},{value:"Customizing Metric Definitions",id:"customizing-metric-definitions",level:3},{value:"Verifying Automation",id:"verifying-automation",level:3}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["If you have centrally defined metrics, Statsig offers the ability to sync its data sources and metrics as part of your data version management workflow. Using Statsig's ",(0,s.jsx)(t.a,{href:"/console-api/metrics",children:"Console API"})," you can automatically sync changes you make to the matching definitions on Statsig, and you can optionally make the metrics read-only in the Statsig console."]}),"\n",(0,s.jsxs)(t.p,{children:["We have a demonstration ",(0,s.jsx)(t.a,{href:"https://github.com/statsig-io/semantic_layer",children:"GitHub repository"})," that utilizes ",(0,s.jsx)(t.a,{href:"https://github.com/statsig-io/semantic_layer/blob/main/.github/scripts/statsig_sync.py",children:"a script"})," executed by ",(0,s.jsx)(t.a,{href:"https://github.com/statsig-io/semantic_layer/blob/main/.github/workflows/statsig_sync.yml",children:"a GitHub Action"}),". This setup automatically synchronizes changes to .yml files located in the /metrics or /metric_sources directories in the repo. This means that whenever you create or update these files, the script either updates existing metrics or metric sources in Statsig or creates new ones accordingly."]}),"\n",(0,s.jsx)(t.p,{children:"To use this example template, follow these steps:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Fork ",(0,s.jsx)(t.a,{href:"https://github.com/statsig-io/semantic_layer",children:"this repository"})," to get started."]}),"\n",(0,s.jsx)(t.li,{children:"In your forked repository, add your Statsig Console API Key to GitHub Secrets."}),"\n",(0,s.jsx)(t.li,{children:"Tailor the metric definitions to align with your data needs."}),"\n",(0,s.jsx)(t.li,{children:"Verify the automation by modifying relevant files and observing the triggered GitHub Action."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"detailed-guide",children:"Detailed Guide"}),"\n",(0,s.jsx)(t.h3,{id:"forking-the-repository",children:"Forking the Repository"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Fork this repository"})," to create a copy in your GitHub account. ",(0,s.jsx)("img",{width:"1056",alt:"Untitled",src:"https://github.com/statsig-io/semantic_layer/assets/5475308/79652104-6e13-467a-b4ef-dbbac83e15c9"})]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"adding-the-statsig-console-api-key",children:"Adding the Statsig Console API Key"}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsxs)(t.li,{children:["Navigate to ",(0,s.jsx)(t.code,{children:"Settings > Secrets and variables > Actions"})," in your repository settings. Create a new secret named ",(0,s.jsx)(t.code,{children:"STATSIG_API_KEY"})," with your Statsig Console API key as its value. This key facilitates authentication with the Statsig Console API for the synchronization process. ",(0,s.jsx)("img",{width:"1168",alt:"Untitled",src:"https://github.com/statsig-io/semantic_layer/assets/5475308/0a627a98-3772-4c36-89d1-7587e3950e84"})]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"customizing-metric-definitions",children:"Customizing Metric Definitions"}),"\n",(0,s.jsxs)(t.ol,{start:"3",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Metric definitions reside within the ",(0,s.jsx)(t.code,{children:"./metrics"})," directory, and metric source definitions are found in the ",(0,s.jsx)(t.code,{children:"./metric_sources/"})," directory. To customize:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Utilize the Statsig Console API to fetch an existing ",(0,s.jsx)(t.strong,{children:"metric_source"})," or ",(0,s.jsx)(t.strong,{children:"metric"})," using GET requests for ",(0,s.jsx)(t.a,{href:"/console-api/metrics#post-/metrics/metric_source/-name-",children:"metric sources"})," and ",(0,s.jsx)(t.a,{href:"/console-api/metrics#get-/metrics/-metric_id-",children:"metrics"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Remove the provided example metrics and metric sources, and replace them with your definitions in ",(0,s.jsx)(t.code,{children:"./metric_sources/*.yml"})," and ",(0,s.jsx)(t.code,{children:"./metrics/*.yml"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.em,{children:"Note:"})," For enhanced readability, we modified ",(0,s.jsx)(t.code,{children:"metric.warehouseNative[]"})," to ",(0,s.jsx)(t.code,{children:"metric.metricDefinition[]"})," in our examples. You can see this change ",(0,s.jsx)(t.a,{href:"https://github.com/statsig-io/semantic_layer/blob/1611a68703caf18d7fa32088ff06d568d8b3b03a/.github/scripts/statsig_sync.py#L38",children:"here"}),". Feel free to adjust the translations or revert to using ",(0,s.jsx)(t.code,{children:"metric.warehouseNative[]"})," in your definitions."]}),"\n",(0,s.jsx)(t.h3,{id:"verifying-automation",children:"Verifying Automation"}),"\n",(0,s.jsxs)(t.ol,{start:"4",children:["\n",(0,s.jsxs)(t.li,{children:["To test, edit a metric or metric source description in your repository. This action should trigger the GitHub Action, visible under the ",(0,s.jsx)(t.code,{children:"Actions"})," tab. The process will then either create or update your metrics and metric sources in Statsig based on the repository's semantic definitions."]}),"\n"]}),"\n",(0,s.jsx)("img",{width:"1043",alt:"Untitled",src:"https://github.com/statsig-io/semantic_layer/assets/5475308/2dcf8961-3591-4021-88fe-984994177f35"}),"\n",(0,s.jsx)("img",{width:"1041",alt:"Untitled",src:"https://github.com/statsig-io/semantic_layer/assets/5475308/04a084d6-ef6c-4b3f-aee9-41663ed47a60"}),"\n",(0,s.jsx)("img",{width:"1031",alt:"Untitled",src:"https://github.com/statsig-io/semantic_layer/assets/5475308/4442dd9d-313f-4b16-a978-59513e4e8469"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.p,{children:["This example serves as a basic template. We encourage testing and further development to meet production standards. Please share any feedback or improvements you've made to this workflow with our ",(0,s.jsx)(t.a,{href:"mailto:support@statsig.com",children:"support team"}),", your sales contact, or in our ",(0,s.jsx)(t.a,{href:"https://statsig.com/slack",children:"Slack community"}),". Thank you for any contributions!"]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>r});var s=i(96540);const n={},a=s.createContext(n);function o(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);