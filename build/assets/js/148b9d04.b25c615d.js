"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[23373],{18813:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>p,default:()=>w,frontMatter:()=>h,metadata:()=>m,toc:()=>f});var i=n(74848),s=n(28453),o=n(96540),r=n(41220);const a=function(e){let{cloud:t,warehouse:n}=e;const[s,a]=(0,o.useState)("");return(0,o.useEffect)((()=>{let e;try{e=localStorage.getItem(r.AQ)}catch(i){console.error("Error retrieving mode from local storage",i)}const t=new URLSearchParams(window.location.search).get(r.UB);t&&["cloud","warehouse"].includes(t)&&(e=t),a(e||"cloud");const n=document.getElementById("warehouseToggle");if(null!==n){new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"class"===e.attributeName){const t=e.target.classList;t.contains("cloud")?a("cloud"):t.contains("warehouse")&&a("warehouse")}}))})).observe(n,{attributes:!0})}}),[]),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Statsig Cloud"}),t,(0,i.jsx)("br",{}),(0,i.jsx)("h2",{children:"Warehouse Native"}),n]})};function c(e){const t={p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"At Statsig, the default percentile for winsorization is 99.9%. This reduces the influence of extreme outliers caused by factors such as logging errors or bad actors."}),"\n",(0,i.jsx)(t.p,{children:"Winsorization is applied to to sum and event count metrics, including imported metrics. Winsorization will not be applied to Mean, Ratio, Funnel, Participation, or User Accounting metrics."})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}function u(e){const t={img:"img",p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["Statsig Warehouse Native lets you configure this per metric - and choose explicitly the upper and/or lower bounds to apply.\n",(0,i.jsx)(t.img,{src:"https://github.com/statsig-io/docs/assets/31516123/6d058842-27f7-4b6b-9bd8-245a5f894f90",alt:"Winsorization configuration interface"})]}),"\n",(0,i.jsx)(t.p,{children:"Winsorization is applied to to sum, event count, mean and ratio metrics."})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}const h={title:"Winsorization",sidebar_label:"Winsorization",slug:"/stats-engine/methodologies/winsorization",keywords:["owner:vm"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},p=void 0,m={id:"stats-engine/methodologies/winsorization",title:"Winsorization",description:"Winsorization",source:"@site/docs/stats-engine/methodologies/winsorization.mdx",sourceDirName:"stats-engine/methodologies",slug:"/stats-engine/methodologies/winsorization",permalink:"/stats-engine/methodologies/winsorization",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/stats-engine/methodologies/winsorization.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Winsorization",sidebar_label:"Winsorization",slug:"/stats-engine/methodologies/winsorization",keywords:["owner:vm"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud",previous:{title:"CUPED",permalink:"/stats-engine/methodologies/cuped"},next:{title:"Sequential Testing",permalink:"/experiments-plus/sequential-testing"}},g={},f=[{value:"Winsorization",id:"winsorization",level:2},{value:"Metric Capping",id:"metric-capping",level:2}];function x(e){const t={h2:"h2",p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"winsorization",children:"Winsorization"}),"\n",(0,i.jsx)(t.p,{children:"Winsorization is a common technique for removing noise in experiment results, specifically from outliers."}),"\n",(0,i.jsx)(t.p,{children:"Winsorization refers to the practice of measuring the percentile Px of a metric and setting all values over Px to Px."}),"\n",(0,i.jsx)(t.p,{children:"Statsig computes the Px value using all non-zero and non-null unit-level values of the metric; metrics are aggregated from rows or events, and then the Px'th unit's value is used as the threshold to adjust other units' values."}),"\n",(0,i.jsx)(a,{cloud:(0,i.jsx)(l,{}),warehouse:(0,i.jsx)(d,{})}),"\n",(0,i.jsx)(t.h2,{id:"metric-capping",children:"Metric Capping"}),"\n",(0,i.jsx)(t.p,{children:"This is a very simple, but  effective technique to handle outliers. With this capability, you can define max values for a metric for whatever unit type(s) are configured for this metric. Any value surpassing the set cap will automatically be adjusted downward to match it."}),"\n",(0,i.jsx)(t.p,{children:"For instance, if you determine that purchases greater than $10,000 per day on your E-commerce platform should not skew analysis, any transaction exceeding this threshold will be adjusted downward to this limit, ensuring the integrity of your experiment analysis. Capped metrics are available for Event Count and Aggregation (sum) metric types."})]})}function w(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var i=n(96540);const s={},o=i.createContext(s);function r(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);