"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[90396],{33306:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>n,metadata:()=>a,toc:()=>m});var i=s(74848),r=s(28453);const n={title:"Normalized Metrics (aka Clustered Experiments)",slug:"/statsig-warehouse-native/metrics/normalized-metrics",sidebar_label:"Normalized Metrics",keywords:["owner:vm"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},o="Normalized Metrics",a={id:"statsig-warehouse-native/metrics/normalized-metrics",title:"Normalized Metrics (aka Clustered Experiments)",description:"When to use it",source:"@site/docs/statsig-warehouse-native/metrics/normalized-metrics.md",sourceDirName:"statsig-warehouse-native/metrics",slug:"/statsig-warehouse-native/metrics/normalized-metrics",permalink:"/statsig-warehouse-native/metrics/normalized-metrics",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/statsig-warehouse-native/metrics/normalized-metrics.md",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Normalized Metrics (aka Clustered Experiments)",slug:"/statsig-warehouse-native/metrics/normalized-metrics",sidebar_label:"Normalized Metrics",keywords:["owner:vm"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"warehouse",previous:{title:"Filter Exposures",permalink:"/statsig-warehouse-native/features/filtering-exposures"},next:{title:"Quality Score",permalink:"/experimentation/quality-score-whn"}},c={},m=[{value:"When to use it",id:"when-to-use-it",level:2},{value:"What it does",id:"what-it-does",level:2},{value:"How to do it",id:"how-to-do-it",level:2},{value:"Where to use it",id:"where-to-use-it",level:2}];function d(e){const t={a:"a",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"normalized-metrics",children:"Normalized Metrics"})}),"\n",(0,i.jsx)(t.h2,{id:"when-to-use-it",children:"When to use it"}),"\n",(0,i.jsx)(t.p,{children:"With normal A/B tests the unit of randomization (e.g. UserID) matches the unit of analysis. In some cases it is useful for these to be different. The most common example is with B2B experiments - where you want to randomize by BusinessID - but measure by average metric per userID, not average metric per businessID."}),"\n",(0,i.jsx)(t.p,{children:'For example - you\'ve added image support to a collaborative commenting feature in your product and want to A/B test it before rollout. You randomize it using businessID. You cannot randomize by userID, since you need everyone within a single business to either have this new feature or not. If you simply compared # of comments per businessID, this data would be skewed by large companies. A business with 1000 employees, but 10 comments would "contribute more" than a business with 5 employees who made 5 comments. Normalizing a metric in this case - is normalizing by users exposed to the experiment. In this instance if 1000 and 5 users were exposed from each business, the first business would have a comments/user rate of 0.01, while the second company would have a comments/user rate of 1. This is reasonable now to compare across companies of many different sizes.'}),"\n",(0,i.jsx)(t.h2,{id:"what-it-does",children:"What it does"}),"\n",(0,i.jsxs)(t.p,{children:["Under the covers, normalizing a metric simply creates a ratio metric. The numerator is the metric you're normalizing. The denominator is a COUNT DISTINCT of the UnitID you're normalizing to.\nIf you wanted to, you could also create this ratio metric yourself and use it in experiments - this is documented ",(0,i.jsx)(t.a,{href:"https://docs.statsig.com/metrics/different-id",children:"here"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"how-to-do-it",children:"How to do it"}),"\n",(0,i.jsxs)(t.p,{children:["You can create Normalized Metrics when adding metrics to an Experiment. ",(0,i.jsx)(t.img,{src:"https://github.com/user-attachments/assets/a440ccfa-0271-4fbd-ba9d-7bb858f3e180",alt:"Experiment metrics configuration interface"}),"\nYou can select the unitID to normalize using next."]}),"\n",(0,i.jsx)(t.h2,{id:"where-to-use-it",children:"Where to use it"}),"\n",(0,i.jsx)(t.p,{children:"You can create and use Normalized Metrics anywhere you can run a ratio metric and a count-distinct metric."})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>a});var i=s(96540);const r={},n=i.createContext(r);function o(e){const t=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(n.Provider,{value:t},e.children)}}}]);