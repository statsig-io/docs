"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[93454],{96747:(e,n,t)=>{t.d(n,{PG:()=>h});var i=t(74848),s=t(28453);function r(e){return(0,i.jsx)("div",{style:{height:4}})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(r,{...e})}):r()}var d=t(96540),o=(t(65848),t(5338));function c(){let e=null;try{const n=document.querySelector(".theme-last-updated > b > time");n&&null!=n.dateTime&&(e=new Date(n.dateTime).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}))}catch(n){}return(0,i.jsx)("div",{onClick:e=>e.preventDefault(),style:{cursor:"default",padding:"10px 20px",backgroundColor:"var(--ifm-navbar-background-color)",borderRadius:10,fontSize:12,color:"var(--ifm-color-content)"},children:(0,i.jsx)("a",{onClick:()=>window.open("https://statsig.com/community?ref=statsig_docs_toc","_blank").focus(),href:"#",children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)("img",{src:"/img/slack.webp",style:{height:15,width:15}}),(0,i.jsx)("span",{style:{marginLeft:8},children:"Stuck? Ask Statsig on Slack"})]})})})}function a(){return(0,d.useEffect)((()=>{const e=document.querySelector("#sdk-toc-header");if(e?.getAttribute("x-last-updated")){o.createRoot(document.getElementById("sdk-toc-header")).render((0,i.jsx)(c,{}))}}),[]),(0,i.jsx)(i.Fragment,{})}const h=e=>{const n=e.sections,t=[];t.push({value:`<div id="sdk-toc-header" x-last-updated="${e.lastSDKDocsUpdate}"><div style="min-height: 65px; cursor: default; padding: 10px 20px; background-color: var(--ifm-navbar-background-color); border-radius: 10px; font-size: 12px; margin-bottom: 15px; color: var(--ifm-color-content);">...</div></div>`,id:"0",level:2});const s=n.map((([e,n],s)=>{const r=e.tocFilter,o=e.toc.filter((e=>!0!==r?.includes(e.id)));return t.push(...o),(0,i.jsxs)(d.Fragment,{children:[(0,i.jsx)(e.default,{...n}),(0,i.jsx)(l,{})]},s)}));return{result:[(0,i.jsx)(a,{},"header"),...s],toc:t}}},45926:(e,n,t)=>{t.r(n),t.d(n,{APIChanges:()=>he,GlobalChanges:()=>xe,Installation:()=>ue,Intro:()=>ye,MigrationHelp:()=>fe,NeedHelp:()=>pe,StatsigOptions:()=>je,Troubleshooting:()=>me,UserCreation:()=>ge,assets:()=>ae,contentTitle:()=>oe,default:()=>be,frontMatter:()=>de,metadata:()=>ce,toc:()=>_e});var i={};t.r(i),t.d(i,{contentTitle:()=>m,default:()=>_,frontMatter:()=>p,toc:()=>f});var s={};t.r(s),t.d(s,{contentTitle:()=>b,default:()=>k,frontMatter:()=>v,toc:()=>w});var r={};t.r(r),t.d(r,{contentTitle:()=>A,default:()=>U,frontMatter:()=>C,toc:()=>M});var l={};t.r(l),t.d(l,{contentTitle:()=>D,default:()=>K,frontMatter:()=>I,toc:()=>R});var d={};t.r(d),t.d(d,{contentTitle:()=>L,default:()=>N,frontMatter:()=>P,toc:()=>z});var o={};t.r(o),t.d(o,{contentTitle:()=>E,default:()=>B,frontMatter:()=>O,toc:()=>q});var c={};t.r(c),t.d(c,{contentTitle:()=>V,default:()=>J,frontMatter:()=>W,toc:()=>Y});var a={};t.r(a),t.d(a,{contentTitle:()=>X,default:()=>ne,frontMatter:()=>Q,toc:()=>Z});var h={};t.r(h),t.d(h,{contentTitle:()=>ie,default:()=>le,frontMatter:()=>te,toc:()=>se});var x=t(74848),u=t(28453),j=t(11470),g=t(19365);t(21432);const p={},m=void 0,f=[{value:"API Changes",id:"api-changes",level:2}];function y(e){const n={h2:"h2",...(0,u.R)(),...e.components};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.h2,{id:"api-changes",children:"API Changes"}),"\n",e.apiChanges]})}function _(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,x.jsx)(n,{...e,children:(0,x.jsx)(y,{...e})}):y(e)}const v={},b=void 0,w=[{value:"Behavioral Changes",id:"behavioral-changes",level:2}];function S(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,u.R)(),...e.components};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.h2,{id:"behavioral-changes",children:"Behavioral Changes"}),"\n",(0,x.jsx)(n.p,{children:(0,x.jsx)(n.strong,{children:"User-Agent Parsing"})}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsxs)(n.li,{children:["The SDK now uses a lightweight YAML-based User-Agent parser based on a reduced version of the ",(0,x.jsx)(n.a,{href:"https://github.com/statsig-io/statsig-server-core/blob/00ad0e4024ca5d30f21892c8f2f23e836165a509/statsig-rust/resources/ua_parser_regex_lite.yaml#L4",children:"ua-parser regex definitions"}),"."]}),"\n",(0,x.jsxs)(n.li,{children:["This parser supports the following commonly used browsers:","\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsx)(n.li,{children:"Chrome"}),"\n",(0,x.jsx)(n.li,{children:"Firefox / Firefox Mobile"}),"\n",(0,x.jsx)(n.li,{children:"Safari / Mobile Safari"}),"\n",(0,x.jsx)(n.li,{children:"Chrome Mobile"}),"\n",(0,x.jsx)(n.li,{children:"Android"}),"\n",(0,x.jsx)(n.li,{children:"Edge / Edge Mobile"}),"\n",(0,x.jsx)(n.li,{children:"IE Mobile"}),"\n",(0,x.jsx)(n.li,{children:"Opera Mobile"}),"\n"]}),"\n"]}),"\n",(0,x.jsx)(n.li,{children:"If your use case requires identifying less common browsers, you should parse the User-Agent externally before sending it to Statsig."}),"\n"]}),"\n",(0,x.jsx)(n.p,{children:(0,x.jsx)(n.strong,{children:"Lazy Initialization: User-Agent Parser & Country Lookup"})}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsxs)(n.li,{children:["User-Agent parsing and country lookup are now ",(0,x.jsx)(n.strong,{children:"lazy-loaded by default"})," to improve SDK initialization performance."]}),"\n",(0,x.jsxs)(n.li,{children:["If your application relies on these features being ready ",(0,x.jsx)(n.strong,{children:"immediately after"})," ",(0,x.jsx)(n.code,{children:"initialize()"}),", you can opt in by setting:","\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsxs)(n.li,{children:["\n",(0,x.jsx)("code",{children:e.waitForUserAgentInit||"wait_for_user_agent_init"}),"\n"]}),"\n",(0,x.jsxs)(n.li,{children:["\n",(0,x.jsx)("code",{children:e.waitForCountryLookupInit||"wait_for_country_lookup_init"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,x.jsx)(n.li,{children:"\u26a0\ufe0f Enabling these options will increase total initialization time."}),"\n",(0,x.jsxs)(n.li,{children:["To ",(0,x.jsx)(n.strong,{children:"disable"})," these features entirely, use the following ",(0,x.jsx)(n.code,{children:"StatsigOptions"})," flags:","\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsxs)(n.li,{children:["\n",(0,x.jsx)("code",{children:e.disableUserAgentParsing||"disable_user_agent_parsing"}),"\n"]}),"\n",(0,x.jsxs)(n.li,{children:["\n",(0,x.jsx)("code",{children:e.disableCountryLookup||"disable_country_lookup"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,x.jsx)(n.p,{children:(0,x.jsx)(n.strong,{children:"ID List Feature"})}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsxs)(n.li,{children:["The ID List functionality is ",(0,x.jsx)(n.strong,{children:"disabled by default"}),"."]}),"\n",(0,x.jsxs)(n.li,{children:["To enable it, set the following in your ",(0,x.jsx)(n.code,{children:"StatsigOptions"}),":","\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsxs)(n.li,{children:["\n",(0,x.jsx)("code",{children:e.enableIdLists||"enable_id_lists"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,x.jsx)(n.p,{children:(0,x.jsx)(n.strong,{children:"Endpoint Changes (v1 \u2192 v2)"})}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsxs)(n.li,{children:["The core SDK now fetches configuration specs from a new endpoint:","\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsxs)(n.li,{children:[(0,x.jsx)(n.strong,{children:"Old"}),": ",(0,x.jsx)(n.code,{children:"v1/download_config_specs"})]}),"\n",(0,x.jsxs)(n.li,{children:[(0,x.jsx)(n.strong,{children:"New"}),": ",(0,x.jsx)(n.code,{children:"v2/download_config_specs"})]}),"\n"]}),"\n"]}),"\n",(0,x.jsxs)(n.li,{children:["If you are hosting your own ",(0,x.jsx)(n.strong,{children:"pass-through proxy"}),", ensure it supports and correctly routes the ",(0,x.jsx)(n.code,{children:"v2"})," endpoint."]}),"\n",(0,x.jsxs)(n.li,{children:["If you are using the ",(0,x.jsx)(n.strong,{children:"Statsig Forward Proxy (SFP)"}),", this endpoint migration is handled automatically."]}),"\n"]})]})}function k(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,x.jsx)(n,{...e,children:(0,x.jsx)(S,{...e})}):S(e)}const C={},A=void 0,M=[{value:"Installation",id:"installation",level:2}];function T(e){const n={h2:"h2",...(0,u.R)(),...e.components};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,x.jsxs)(j.A,{children:[(0,x.jsx)(g.A,{value:"new",label:"New Installation",default:!0,children:e.install}),(0,x.jsx)(g.A,{value:"legacy",label:"Legacy Installation",children:e.legacyInstall})]})]})}function U(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,x.jsx)(n,{...e,children:(0,x.jsx)(T,{...e})}):T(e)}const I={},D=void 0,R=[{value:"StatsigOptions Changes",id:"statsigoptions-changes",level:2}];function F(e){const n={h2:"h2",p:"p",...(0,u.R)(),...e.components};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.h2,{id:"statsigoptions-changes",children:"StatsigOptions Changes"}),"\n",(0,x.jsx)(n.p,{children:"The table below shows the mapping between legacy SDK options and Server Core SDK options:"}),"\n",e.optionsMapping]})}function K(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,x.jsx)(n,{...e,children:(0,x.jsx)(F,{...e})}):F(e)}const P={},L=void 0,z=[{value:"StatsigUser",id:"statsiguser",level:2}];function G(e){const n={h2:"h2",...(0,u.R)(),...e.components};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.h2,{id:"statsiguser",children:"StatsigUser"}),"\n",(0,x.jsxs)(j.A,{children:[(0,x.jsx)(g.A,{value:"new",label:"New User Creation",default:!0,children:e.newUserCreation}),(0,x.jsx)(g.A,{value:"legacy",label:"Legacy User Creation",children:e.legacyUserCreation})]})]})}function N(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,x.jsx)(n,{...e,children:(0,x.jsx)(G,{...e})}):G(e)}const O={},E=void 0,q=[{value:"Need Help?",id:"need-help",level:2}];function H(e){const n={a:"a",h2:"h2",li:"li",p:"p",ul:"ul",...(0,u.R)(),...e.components};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,x.jsx)(n.p,{children:"If you encounter any issues during migration, please reach out to us:"}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsx)(n.li,{children:(0,x.jsx)(n.a,{href:"https://statsig.com/slack",children:"Statsig Slack Community"})}),"\n",(0,x.jsx)(n.li,{children:(0,x.jsx)(n.a,{href:"https://github.com/statsig-io/statsig-server-core/issues",children:"GitHub Issues"})}),"\n"]})]})}function B(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,x.jsx)(n,{...e,children:(0,x.jsx)(H,{...e})}):H(e)}const W={},V=void 0,Y=[{value:"Troubleshooting",id:"troubleshooting",level:2}];function $(e){const n={h2:"h2",...(0,u.R)(),...e.components};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",e.troubleshooting]})}function J(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,x.jsx)(n,{...e,children:(0,x.jsx)($,{...e})}):$(e)}const Q={},X=void 0,Z=[{value:"Recommended Migration Path",id:"recommended-migration-path",level:2}];function ee(e){const n={a:"a",h2:"h2",li:"li",ol:"ol",ul:"ul",...(0,u.R)(),...e.components};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.h2,{id:"recommended-migration-path",children:"Recommended Migration Path"}),"\n",(0,x.jsxs)(n.ol,{children:["\n",(0,x.jsx)(n.li,{children:"Add the new Dependencies"}),"\n"]}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsx)(n.li,{children:"Add the new SDK package/module and any required platform-specific dependencies for your environment."}),"\n",(0,x.jsx)(n.li,{children:"Update import or require statements to reference the new SDK namespace or module."}),"\n",(0,x.jsx)(n.li,{children:"For now - keep the old package in-place, it can be helpful to have both running in parallel momentarily during local testing for your upgrade. If needed (language dependent), you may want to alias the new package."}),"\n"]}),"\n",(0,x.jsxs)(n.ol,{start:"3",children:["\n",(0,x.jsx)(n.li,{children:"Update Initialization"}),"\n"]}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsx)(n.li,{children:"Switch to the new initialization syntax. New SDK keys aren't needed - if you choose to update them, ensure they have the same target apps."}),"\n",(0,x.jsx)(n.li,{children:"If needed, use the appropriate builder or configuration pattern for setting options, and ensure you migrate the StatsigOptions you use, as some were renamed."}),"\n"]}),"\n",(0,x.jsxs)(n.ol,{start:"4",children:["\n",(0,x.jsx)(n.li,{children:"Update User Creation"}),"\n"]}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsx)(n.li,{children:"Migrate to the new format for creating user objects."}),"\n",(0,x.jsx)(n.li,{children:"If needed, use the builder pattern or updated constructor to set user properties."}),"\n"]}),"\n",(0,x.jsxs)(n.ol,{start:"5",children:["\n",(0,x.jsx)(n.li,{children:"Update Method Calls"}),"\n"]}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsx)(n.li,{children:"Starting with a few calls, switch your config checks from the new to old SDK, replacing oldStatsig.getExperiment() with newStatsig.getExperiment()"}),"\n",(0,x.jsx)(n.li,{children:"As you change the package usage, conduct some testing of your service locally or with existing test patterns, to build confidence in the new SDK's operation."}),"\n",(0,x.jsx)(n.li,{children:"As you migrate additional calls, update method names if they've changed (notably, get_config() to get_dynamic_config)"}),"\n",(0,x.jsx)(n.li,{children:"Once comfortable with the operation of the new SDK from call-by-call migration, consider the use of refactoring tools to migrate the bulk of your remaining calls."}),"\n"]}),"\n",(0,x.jsxs)(n.ol,{start:"6",children:["\n",(0,x.jsx)(n.li,{children:"Test Thoroughly"}),"\n"]}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsx)(n.li,{children:"Verify that all of your configs are successfully migrated - run your test suites end-to-end."}),"\n"]}),"\n",(0,x.jsxs)(n.ol,{start:"7",children:["\n",(0,x.jsx)(n.li,{children:"Remove old SDK"}),"\n"]}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsx)(n.li,{children:"Remove references to the old SDK, and clean up old initialization and import logic."}),"\n"]}),"\n",(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("ol",{start:"7",children:(0,x.jsxs)("li",{children:["Optional: Gradual Migration Using Adapter ",e.migrationAdapterLink?"":"(Not supported yet)"]})}),(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:"Use a migration adapter to wrap the new SDK with the old interface."}),(0,x.jsx)("li",{children:"This allows for incremental migration without updating all call sites at once."}),e.migrationAdapterLink&&(0,x.jsx)(n.li,{children:(0,x.jsx)(n.a,{href:e.migrationAdapterLink,children:e.migrationAdapterLink})})]})]})]})}function ne(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,x.jsx)(n,{...e,children:(0,x.jsx)(ee,{...e})}):ee(e)}const te={},ie=void 0,se=[{value:"Why Migrate?",id:"why-migrate",level:2}];function re(e){const n={h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,u.R)(),...e.components};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(n.p,{children:["This guide will help you migrate from the legacy ",e.sdkType," Server SDK to the new ",e.sdkType," Core SDK. The ",e.sdkType," Core SDK offers significant performance improvements and new features, as it's built on a shared Rust core library."]}),"\n",(0,x.jsx)(n.h2,{id:"why-migrate",children:"Why Migrate?"}),"\n",(0,x.jsxs)(n.ul,{children:["\n",(0,x.jsxs)(n.li,{children:[(0,x.jsx)(n.strong,{children:"Performance"}),": ",e.sdkType," Core evaluates faster than the legacy SDK"]}),"\n",(0,x.jsxs)(n.li,{children:[(0,x.jsx)(n.strong,{children:"New Features"}),": Access to Parameter Stores, CMAB (Contextual Multi-Armed Bandits), observabilityClient, and more"]}),"\n",(0,x.jsxs)(n.li,{children:[(0,x.jsx)(n.strong,{children:"Future Support"}),": All new features and improvements will only be available in ",e.sdkType," Core"]}),"\n",(0,x.jsxs)(n.li,{children:[(0,x.jsx)(n.strong,{children:"Maintenance"}),": The legacy ",e.sdkType," SDK is in maintenance mode and will only receive critical bug fixes"]}),"\n"]})]})}function le(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,x.jsx)(n,{...e,children:(0,x.jsx)(re,{...e})}):re(e)}const de={},oe=void 0,ce={id:"server-core/MigrationGuideTemplates/index",title:"index",description:"",source:"@site/docs/server-core/MigrationGuideTemplates/index.mdx",sourceDirName:"server-core/MigrationGuideTemplates",slug:"/server-core/MigrationGuideTemplates/",permalink:"/server-core/MigrationGuideTemplates/",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/server-core/MigrationGuideTemplates/index.mdx",tags:[],version:"current",lastUpdatedAt:174795437e4,frontMatter:{}},ae={},he=i,xe=s,ue=r,je=l,ge=d,pe=o,me=c,fe=a,ye=h,_e=[];function ve(e){return(0,x.jsx)(x.Fragment,{})}function be(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,x.jsx)(n,{...e,children:(0,x.jsx)(ve,{...e})}):ve()}},25616:(e,n,t)=>{t.r(n),t.d(n,{Builder:()=>j,assets:()=>u,contentTitle:()=>h,default:()=>m,frontMatter:()=>a,metadata:()=>x,toc:()=>g});var i=t(74848),s=t(28453),r=t(21432),l=t(96747),d=t(45926);t(11470),t(19365);function o(e){const n={a:"a",code:"code",h3:"h3",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"key-package-and-class-changes",children:"Key Package and Class Changes"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:"Python Core SDK"}),(0,i.jsx)(n.th,{children:"Legacy Python SDK"}),(0,i.jsx)(n.th,{children:"Status"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Package"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig_python_core"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig"})}),(0,i.jsx)(n.td,{children:"\u26a0\ufe0f Renamed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Import"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"from statsig_python_core import *"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"from statsig import Statsig"})}),(0,i.jsx)(n.td,{children:"\u26a0\ufe0f Change"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Options"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"StatsigOptions"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"StatsigOptions"})}),(0,i.jsx)(n.td,{children:"\u2713 Same"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"User"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"StatsigUser"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"StatsigUser"})}),(0,i.jsx)(n.td,{children:"\u2713 Same"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Initialize"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.initialize().wait()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.initialize()"})}),(0,i.jsx)(n.td,{children:"\u26a0\ufe0f Added .wait()"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Check Gate"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.check_gate()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.check_gate()"})}),(0,i.jsx)(n.td,{children:"\u2713 Same"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Get Config"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.get_dynamic_config()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.get_config()"})}),(0,i.jsx)(n.td,{children:"\u26a0\ufe0f Renamed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Get Experiment"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.get_experiment()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.get_experiment()"})}),(0,i.jsx)(n.td,{children:"\u2713 Same"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Get Layer"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.get_layer()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.get_layer()"})}),(0,i.jsx)(n.td,{children:"\u2713 Same"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Log Event"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.log_event()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.log_event()"})}),(0,i.jsx)(n.td,{children:"\u2713 Same"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Shutdown"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.shutdown().wait()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"statsig.shutdown()"})}),(0,i.jsx)(n.td,{children:"\u26a0\ufe0f Added .wait()"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["For more details on the new API, see ",(0,i.jsx)(n.a,{href:"/server-core/python-core",children:"Python Core SDK documentation"}),"."]})]})}function c(e){const n={code:"code",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Old Option"}),(0,i.jsx)(n.th,{children:"New / Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"api"})}),(0,i.jsx)(n.td,{children:"Deprecated"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"idlists_thread_limit"}),", ",(0,i.jsx)(n.code,{children:"logging_interval"}),", ",(0,i.jsx)(n.code,{children:"enable_debug_logs"}),", ",(0,i.jsx)(n.code,{children:"events_flushed_callback"})]}),(0,i.jsx)(n.td,{children:"Deprecated"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"timeout"})}),(0,i.jsx)(n.td,{children:"Deprecated (was only for network)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"api_for_download_config_specs"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"specs_url"})," \u2013 must complete with endpoint"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"api_for_get_id_lists"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"id_lists_url"})," \u2013 must complete with endpoint"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"api_for_log_event"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"log_event_url"})," \u2013 must complete with endpoint"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tier"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"environment"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"init_timeout"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"init_timeout_ms"})," \u2013 applies to overall initialization (suggest adding +1000 ms if enabling UA)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"rulesets_sync_interval"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"specs_sync_interval_ms"})," (unit: milliseconds)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"idlists_sync_interval"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"id_lists_sync_interval_ms"})," (unit: milliseconds)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"local_mode"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"disable_network"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"event_queue_size"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"event_logging_max_queue_size"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"data_store"})}),(0,i.jsx)(n.td,{children:"Still supported but interface changed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fallback_to_statsig_api"})}),(0,i.jsx)(n.td,{children:"Still supported"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"output_logger_level"})}),(0,i.jsxs)(n.td,{children:["Now ",(0,i.jsx)(n.code,{children:"output_log_level"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"overall_init_timeout"})}),(0,i.jsxs)(n.td,{children:["Replaced by ",(0,i.jsx)(n.code,{children:"init_timeout_ms"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"observability_client"}),", ",(0,i.jsx)(n.code,{children:"sdk_error_callback"})]}),(0,i.jsxs)(n.td,{children:["Now within ",(0,i.jsx)(n.code,{children:"observability_client"})," interface"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"custom_logger"})}),(0,i.jsxs)(n.td,{children:["Now ",(0,i.jsx)(n.code,{children:"OutputLoggerProvider"})," interface"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"bootstrap_values"}),", ",(0,i.jsx)(n.code,{children:"evaluation_callback"}),", ",(0,i.jsx)(n.code,{children:"proxy_configs"}),", ",(0,i.jsx)(n.code,{children:"out_of_sync_threshold_in_s"}),", ",(0,i.jsx)(n.code,{children:"rules_updated_callback"})]}),(0,i.jsx)(n.td,{children:"Not yet supported"})]})]})]})}const a={title:"Python Core SDK Migration Guide",displayed_sidebar:"api"},h=void 0,x={id:"server-core/python/migration-guide/index",title:"Python Core SDK Migration Guide",description:"[",source:"@site/docs/server-core/python/migration-guide/index.mdx",sourceDirName:"server-core/python/migration-guide",slug:"/server-core/python/migration-guide/",permalink:"/server-core/python/migration-guide/",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/server-core/python/migration-guide/index.mdx",tags:[],version:"current",lastUpdatedAt:174795437e4,frontMatter:{title:"Python Core SDK Migration Guide",displayed_sidebar:"api"},sidebar:"api"},u={},j=(0,l.PG)({sections:[[d.Intro,{sdkType:"Python"}],[d.Installation,{legacyInstall:(0,i.jsx)(r.A,{children:"pip install statsig"}),install:(0,i.jsx)(r.A,{children:"pip install statsig-python-core"})}],[d.UserCreation,{newUserCreation:(0,i.jsx)(r.A,{language:"python",children:'from statsig_python_core import *\n\nuser = StatsigUser(\n    user_id="user_123",\n    email="user@example.com",\n    ip="192.168.0.1",\n    user_agent="Mozilla/5.0",\n    country="US",\n    custom={\n        "subscription_level": "premium"\n    }\n)'}),legacyUserCreation:(0,i.jsx)(r.A,{language:"python",children:'from statsig import StatsigUser\n\nuser = StatsigUser(\n    user_id="user_123",\n    email="user@example.com",\n    ip="192.168.0.1",\n    user_agent="Mozilla/5.0",\n    country="US",\n    custom={\n        "subscription_level": "premium"\n    }\n)'})}],[d.APIChanges,{apiChanges:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}),{})}],[d.GlobalChanges,{waitForUserAgentInit:"wait_for_user_agent_init",waitForCountryLookupInit:"wait_for_country_lookup_init",disableUserAgentParsing:"disable_user_agent_parsing",disableCountryLookup:"disable_country_lookup",enableIdLists:"enable_id_lists"}],[d.StatsigOptions,{optionsMapping:(0,i.jsx)((function(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}),{})}],[d.MigrationHelp,{migrationAdapterLink:"https://github.com/statsig-io/statsig-server-core-migration-adapters/blob/main/python_core_migration_adapter.py"}],[d.NeedHelp,{}]]}),g=j.toc;function p(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(i.Fragment,{children:j.result})})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p()}}}]);