"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[18957],{11820:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var i=n(74848),s=n(28453);const o={title:"Get Started with Geotests",sidebar_label:"Getting Started",slug:"/experiments-plus/geotests-setup",keywords:["owner:makris"],last_update:{date:new Date("2025-09-22T00:00:00.000Z")}},r="Get Started with Geotests",a={id:"statsig-warehouse-native/geotests/geotests-setup",title:"Get Started with Geotests",description:"This guide walks you through creating a Geotest experiment using Statsig. The steps include:",source:"@site/docs/statsig-warehouse-native/geotests/geotests-setup.md",sourceDirName:"statsig-warehouse-native/geotests",slug:"/experiments-plus/geotests-setup",permalink:"/experiments-plus/geotests-setup",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/statsig-warehouse-native/geotests/geotests-setup.md",tags:[],version:"current",lastUpdatedAt:17584992e5,frontMatter:{title:"Get Started with Geotests",sidebar_label:"Getting Started",slug:"/experiments-plus/geotests-setup",keywords:["owner:makris"],last_update:{date:"2025-09-22T00:00:00.000Z"}},sidebar:"warehouse",previous:{title:"Geotests",permalink:"/experiments-plus/geotests"},next:{title:"Methodology",permalink:"/experiments-plus/geotests/methodology"}},l={},d=[{value:"Define your Geo Types",id:"define-your-geo-types",level:2},{value:"Configure your Metric Source",id:"configure-your-metric-source",level:2},{value:"Create and Configure",id:"create-and-configure",level:2},{value:"Generate Design Options",id:"generate-design-options",level:2},{value:"Define Targeting",id:"define-targeting",level:3},{value:"Set Inclusion or Exclusion Overrides",id:"set-inclusion-or-exclusion-overrides",level:3},{value:"Define Date Range",id:"define-date-range",level:3},{value:"Advanced Options",id:"advanced-options",level:3},{value:"Evaluate Design Options",id:"evaluate-design-options",level:2},{value:"Run Analysis",id:"run-analysis",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"get-started-with-geotests",children:"Get Started with Geotests"})}),"\n",(0,i.jsx)(t.p,{children:"This guide walks you through creating a Geotest experiment using Statsig. The steps include:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Define your Geo Types"}),"\n",(0,i.jsx)(t.li,{children:"Configure your Metric Source"}),"\n",(0,i.jsx)(t.li,{children:"Create and Configure"}),"\n",(0,i.jsx)(t.li,{children:"Evaluate Design Options"}),"\n",(0,i.jsx)(t.li,{children:"Run Analysis"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"define-your-geo-types",children:"Define your Geo Types"}),"\n",(0,i.jsx)(t.p,{children:"First decide on one more geo types relevant to your business. Some of the most common are Postal Codes and DMAs (Designated Market Areas), but Statsig allows you to define any arbitrary geo type you'd like."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Geo types configuration interface",src:n(23084).A+"",width:"2162",height:"1036"})}),"\n",(0,i.jsx)(t.h2,{id:"configure-your-metric-source",children:"Configure your Metric Source"}),"\n",(0,i.jsxs)(t.p,{children:["Assuming you've already added a ",(0,i.jsx)(t.a,{href:"/statsig-warehouse-native/configuration/metric-sources/",children:"metric source"})," to Statsig, you can next indicate which column(s) represent the geo type(s) you've created."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Geo column mapping configuration screen",src:n(13824).A+"",width:"1714",height:"324"})}),"\n",(0,i.jsx)(t.h2,{id:"create-and-configure",children:"Create and Configure"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Navigate to your Experiments page."}),"\n",(0,i.jsx)(t.li,{children:"Click the + Create button."}),"\n",(0,i.jsx)(t.li,{children:"In the modal, select Analyze to analyze existing experiment data in your warehouse."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Experiment creation modal with analyze option",src:n(90007).A+"",width:"1113",height:"741"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Enter a name and description for your experiment."}),"\n",(0,i.jsx)(t.li,{children:"Choose Geotest as the experiment type from the dropdown. Fill in the remaining info as you usually would"}),"\n"]}),"\n",(0,i.jsx)("img",{src:"/img/geotests/SetType.png",alt:"Geotest experiment type selection dropdown",width:"500px"}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"If you are unable to create a Geotest at this step, it might be because your organization requires experiments to use a Template. If so, you need to contact your project admin and ask for a Geotest Template or bypass the policy."})}),"\n",(0,i.jsx)(t.p,{children:"In the Setup tab:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Define your hypothesis."}),"\n",(0,i.jsx)(t.li,{children:"Set the Geo Type (e.g., country_id) from one of the types you've defined in your project and metric sources"}),"\n",(0,i.jsx)(t.li,{children:"Choose your Primary Metrics."}),"\n"]}),"\n",(0,i.jsx)(t.admonition,{title:"Metric Types",type:"important",children:(0,i.jsx)(t.p,{children:"GeoTest metrics are currently limited to SUM, COUNT, and COUNT_DISTINCT types. This limitation is driven by the inference techniques involved in synthetic control methodologies."})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Geotest experiment setup configuration screen",src:n(21484).A+"",width:"1323",height:"1086"})}),"\n",(0,i.jsx)(t.p,{children:"Configure:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Expected Treatment Start/End Dates"}),"\n",(0,i.jsx)(t.li,{children:"Desired Effect Size % (this is the MDE you're hoping to measure; smaller MDEs will make finding a valid design harder)"}),"\n",(0,i.jsx)(t.li,{children:"Type of Test: 1-sided or 2-sided"}),"\n",(0,i.jsx)(t.li,{children:"Alpha level (desired type I error rate, inverse of Significance)"}),"\n",(0,i.jsx)(t.li,{children:"Optionally enable Budgeting"}),"\n",(0,i.jsxs)(t.li,{children:["Additional advanced modeling parameters for users familiar with ",(0,i.jsx)(t.a,{href:"https://github.com/facebookincubator/GeoLift/blob/main/R/pre_test_power.R",children:"Geolift's Advanced API"})]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Experiment configuration settings interface",src:n(42414).A+"",width:"2320",height:"1248"})}),"\n",(0,i.jsx)(t.h2,{id:"generate-design-options",children:"Generate Design Options"}),"\n",(0,i.jsx)(t.p,{children:'When you\'re happy with your initial settings, click "Use Experiment Designer" to begin to design process.'}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Experiment designer launch button",src:n(45956).A+"",width:"1317",height:"269"})}),"\n",(0,i.jsx)(t.p,{children:"The Experiment Designer automates the process of evaluating potential splits of geos. Creating a new design set involves 3 steps:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Define your targeting"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Set any Inclusion or Exclusion overrides"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Define your date range"})}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Geographic limitations configuration interface",src:n(18237).A+"",width:"1399",height:"1055"})}),"\n",(0,i.jsx)(t.h3,{id:"define-targeting",children:"Define Targeting"}),"\n",(0,i.jsx)(t.p,{children:"Targeting allows you to define the set of geos potentially eligible to be included in your experiment. By default it pulls the unique set of geo types from your metric source from the last 90 days. You can add additional custom filters that help you filter your geos down, based on columns in your metric source. For example, you can filter geos to those in a certain region or by transactions that occurred in a certain language."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Image",src:n(77286).A+"",width:"744",height:"547"})}),"\n",(0,i.jsx)(t.p,{children:"You can also manually specify a set of geos yourself. The geo id types must match those in your metric source exactly."}),"\n",(0,i.jsx)(t.h3,{id:"set-inclusion-or-exclusion-overrides",children:"Set Inclusion or Exclusion Overrides"}),"\n",(0,i.jsx)(t.p,{children:"After defining your targeting set, you can manually overwrite any of these geos into treatment or control groups as desired."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Image",src:n(84796).A+"",width:"1405",height:"447"})}),"\n",(0,i.jsx)(t.p,{children:"For example, when testing if a new marketing campaign is effective, you might know that you want include the city of Austin because a contract has already been signed. And you might know that you do not want to launch in New York, Los Angeles, or Washington D.C. because of local regulations. You can specify these constraints on the designer and it will ensure that all design options considered will conform to these rules."}),"\n",(0,i.jsx)(t.h3,{id:"define-date-range",children:"Define Date Range"}),"\n",(0,i.jsx)(t.p,{children:"Lastly, you must define the data range of your design dataset. This date range defines what data gets pulled as historical baseline to train a synthetic control model. In general, a good rule of thump is that you design data duration should be at least 4x the expected duration of your treatment period in order to achieve good fits and maximize sensitivity and power of your experiments."}),"\n",(0,i.jsx)(t.h3,{id:"advanced-options",children:"Advanced Options"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Rolling Lookback Windows:"})," Control how many iterative simulations should be done to evaluate power. For instance, a value equal to 5 would simulate power for the last five possible tests in the date range. Corresponds to ",(0,i.jsx)(t.code,{children:"lookback_window"})," in the GeoLift API."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Dynamic Time Warping:"})," Control how much the synthetic control model depends on auto-correlations in the metric vs. correlations between different geos on the same days. A value of 1 focuses exclusively on the metric while a value of 0 (default) relies on correlations only. Corresponds to ",(0,i.jsx)(t.code,{children:"dtw"})," in the GeoLift API."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Control Cell Size Requirements:"})," Sets limits on the share of primary metric value from geos in any considered control group. If not set, all design options will be analyzed regardless of their size. For example, if designing on a Revenue metric, a control size range of [50%, 90%] would mean that only design options where 50% to 90% of revenue was in the designated control geos. Corresponds to ",(0,i.jsx)(t.code,{children:"holdout"})," in the GeoLift API."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"evaluate-design-options",children:"Evaluate Design Options"}),"\n",(0,i.jsx)(t.p,{children:"Once a Design Option Set has been created (usually takes a few minutes), it will be shown in your Experiment Designs tab. All design option sets generated are shown here, enabling you to look through prior design iterations as needed."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Experiment designer options display",src:n(47128).A+"",width:"1404",height:"508"})}),"\n",(0,i.jsx)(t.p,{children:"Click into a completed design set (e.g. \u201cDesign Set 3\u201d)."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Review the ranked recommendations for your best design options"}),"\n",(0,i.jsx)(t.li,{children:"Compare MDE, Power, Cost and Control/Test Allocation"}),"\n",(0,i.jsx)(t.li,{children:"Click View Cell Details to expand and see specific geo assignments"}),"\n",(0,i.jsx)(t.li,{children:"See additional model performance details"}),"\n",(0,i.jsxs)(t.li,{children:["Select your desired design using the radio button, and clicking ",(0,i.jsx)(t.strong,{children:"Save Design to Experiment"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Design option selection interface",src:n(72690).A+"",width:"1390",height:"1169"})}),"\n",(0,i.jsx)(t.h2,{id:"run-analysis",children:"Run Analysis"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Geotest analysis results dashboard",src:n(30659).A+"",width:"1405",height:"774"})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},30659:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/AnalysisResults-5319f67bbe87c5b076fd14e6e57e7444.png"},18237:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/CreateDesign-8f9cbb9761ccfadced9756349a51739a.png"},90007:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/CreateXP-15dc3b12b41b77a8b5b3a04f77190ee7.png"},72690:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/DesignOption-d774e7c5418d22846793fe018b1a4712.png"},47128:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/DesignerOptions-adce099ed475687ce91afebf689b2b03.png"},21484:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/SetupXP-2700d19b02cb513d5b983612a27211d4.png"},45956:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/StartDesigner-4385f234fea72855fb8008e61984ac49.png"},42414:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/XPConfigs-3379f8f6260df9665ed81441d6e2b770.png"},13824:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/geo_column_mapping-52d0cbba74773536d0197f9be4db84fd.png"},23084:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/geo_types_settings-6ee437882e85a504162acde8eddad55b.png"},77286:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/targeting-51ad7d000ffacee17ed0cb22498f801c.png"},84796:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/targetingoverwrites-c1e7d56df3646a43ae6eaa5a8509a4e1.png"},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var i=n(96540);const s={},o=i.createContext(s);function r(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);