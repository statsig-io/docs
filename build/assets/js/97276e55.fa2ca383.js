"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[51031],{26661:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var a=n(74848),s=n(28453);const r={title:"Permanent and Stale Gates",sidebar_label:"Permanent and stale gates",slug:"/feature-flags/permanent-and-stale-gates",keywords:["owner:shubham"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},i=void 0,l={id:"feature-flags/permanent-and-stale-gates",title:"Permanent and Stale Gates",description:"It is important for your codebase and team to bring feature gates to a final state (i.e. flags now permanently part of your codebase or completely removed) when they have served their purpose, as described here. On Statsig, you can use feature gate Types to easily keep track of your flags that might be ready to brought to their final state.",source:"@site/docs/feature-flags/permanent-and-stale-gates.md",sourceDirName:"feature-flags",slug:"/feature-flags/permanent-and-stale-gates",permalink:"/feature-flags/permanent-and-stale-gates",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/feature-flags/permanent-and-stale-gates.md",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"Permanent and Stale Gates",sidebar_label:"Permanent and stale gates",slug:"/feature-flags/permanent-and-stale-gates",keywords:["owner:shubham"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud",previous:{title:"Feature Gate lifecycles",permalink:"/feature-flags/feature-flags-lifecycle"},next:{title:"Best practices",permalink:"/feature-flags/best-practices"}},o={},c=[{value:"Types",id:"types",level:2},{value:"Nudges to clean up Stale gates",id:"nudges-to-clean-up-stale-gates",level:2}];function d(e){const t={a:"a",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["It is important for your codebase and team to bring feature gates to a final state (i.e. flags now permanently part of your codebase or completely removed) when they have served their purpose, as described ",(0,a.jsx)(t.a,{href:"/feature-flags/feature-flags-lifecycle",children:"here"}),". On Statsig, you can use feature gate ",(0,a.jsx)(t.strong,{children:"Types"})," to easily keep track of your flags that might be ready to brought to their final state."]}),"\n",(0,a.jsx)(t.h2,{id:"types",children:"Types"}),"\n",(0,a.jsxs)(t.p,{children:["In your feature gates catalog, you'll see different ",(0,a.jsx)(t.strong,{children:"Types"})," displayed in the Status column, as well as under the filter option -\n",(0,a.jsx)(t.img,{src:"https://user-images.githubusercontent.com/120431069/224765362-9b9686f2-62b0-4605-8b8c-911987d343e0.png",alt:"Feature gates catalog with status types filter"})]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Permanent Gates"})," (set by you)","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Permanent feature gates"})," are expected to live in your codebase for an extended period of time, beyond a feature release, usually for operations or infrastructure control. Common examples include user permissions (e.g. premium features based on subscription level) or circuit breakers/kill switches (e.g. terminating a connection to prevent negative customer impact) or even supporting legacy features in old app versions.","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["There are two ways to mark a gate as\xa0",(0,a.jsx)(t.strong,{children:"Permanent"}),":","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["When creating the gate: the ",(0,a.jsx)(t.strong,{children:"Permanent"})," box in the gate creation flow\n",(0,a.jsx)(t.img,{src:"https://user-images.githubusercontent.com/120431069/224768058-1a1b74a2-6b5d-4bfd-b73c-e2fc1f4a7a7f.png",alt:"Permanent checkbox in gate creation flow"})]}),"\n",(0,a.jsxs)(t.li,{children:['After a gate has been created: click on the "..." menu and then "Mark Gate Permanent"\n',(0,a.jsx)(t.img,{src:"https://user-images.githubusercontent.com/120431069/224763304-2002e482-8ef0-4025-b13c-acb92ffb2bcc.png",alt:"Mark Gate Permanent menu option"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["Implications of marking a gate as ",(0,a.jsx)(t.strong,{children:"Permanent"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"No change in the gate\u2019s behavior when called"}),"\n",(0,a.jsx)(t.li,{children:"Easy filtering on feature gates catalog"}),"\n",(0,a.jsxs)(t.li,{children:["More caution in its management: while you are able to archive or delete a\xa0",(0,a.jsx)(t.strong,{children:"permanent"}),"\xa0feature gate, there will be a warning shown before proceeding"]}),"\n",(0,a.jsx)(t.li,{children:"Statsig will forgo reminding you to clean up these gates and may display them differently in the console"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["You will be able to change the gate back to\xa0",(0,a.jsx)(t.strong,{children:"Temporary"}),"\xa0at any point.","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["All newly created feature gates are marked as ",(0,a.jsx)(t.strong,{children:"Temporary"}),", unless marked otherwise (i.e. Permanent). Therefore, Statsig will not display the phrase ",(0,a.jsx)(t.strong,{children:"Temporary"})," in the feature gates Catalog or within the individual gates page."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Stale Gates"})," (set by Statsig)","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Stale feature gates"})," indicate to your team that these gates could be a good candidate for cleanup. Statsig automatically marks gates as stale based on the following definition (excludes Permanent and archived gates)","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Gates created less than 30 days ago, modified in the last 30 days, or referenced by other gates/experiments/dynamic configs are never consider stale"}),"\n",(0,a.jsxs)(t.li,{children:["Otherwise, any of the following conditions make a gate stale:","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"The gate has had 0 checks within last 30 days"}),"\n",(0,a.jsx)(t.li,{children:"The gate is still being checked but its earliest check was at least 30 days ago"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["Implications of gates being marked as ",(0,a.jsx)(t.strong,{children:"Stale"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"No change in the gate\u2019s behavior when called"}),"\n",(0,a.jsx)(t.li,{children:"Easy filtering on Feature Gates catalog"}),"\n",(0,a.jsx)(t.li,{children:"Will include the gate in Statsig\u2019s nudges for cleanup (more below)"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Stale Reasons"})," are the reason why a gate has been set as stale. This information can be queried on the ",(0,a.jsx)(t.a,{href:"/console-api/gates",children:"Console API"}),".","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"None"})," No Stale Gates should have their reason set as None, this is exclusively for ",(0,a.jsx)(t.strong,{children:"Temporary"})," or ",(0,a.jsx)(t.strong,{children:"Permanent"})," gates."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"STALE_PROBABLY_DEAD_CHECK"})," There have been no checks in the last 30 days."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"STALE_PROBABLY_LAUNCHED"})," The Gate is marked as launched or has an everyone rule passing 100% (rollout rate of 100%)."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"STALE_PROBABLY_UNLAUNCHED"})," The Gate is marked as disabled or has an everyone rule passing 0% (rollout rate of 0%)."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"STALE_PROBABLY_FORGOTTEN"})," This gate appears to have been only partially launched for some time. You might want to launch/disable it, or make it permanent if you need to keep it around."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"STALE_NO_RULES"})," The Gate has no set rules."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"STALE_ALL_TRUE"})," The Gate has been returning true every time it has been checked for the last 30 days (or number of days configured in project settings). It could probably be removed."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"STALE_ALL_FALSE"})," The Gate has been returning false every time it has been checked for the last 30 days (or number of days configured in project settings). It could probably be removed."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"STALE_EMPTY_CHECKS"})," The Gate has been returning empty (probably indicating an error) every time it has been checked for the last 30 days (or number of days configured in project settings). It could probably be removed or might need to be investigated."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"nudges-to-clean-up-stale-gates",children:"Nudges to clean up Stale gates"}),"\n",(0,a.jsxs)(t.p,{children:["Using the ",(0,a.jsx)(t.strong,{children:"Stale"})," type discussed above, Statsig provides both in-console and external nudges to remind you to cleanup (or make Permanent) your feature gates."]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"In-console:"})," See the reminder at the top of the individual feature gate page\n",(0,a.jsx)(t.img,{src:"https://user-images.githubusercontent.com/120431069/224457644-16844256-e7f8-4490-b07e-74f0d85eb6ee.png",alt:"Stale gate cleanup reminder notification"})]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Email/Slack:"})," We will proactively reach out to you with an email/ Slack reminder (if you've enabled the Slack integration) to clean up or mark permanent any stale gates you own. We will send this reminder nudge monthly until the gates are either cleaned up or marked as permanent."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>l});var a=n(96540);const s={},r=a.createContext(s);function i(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);