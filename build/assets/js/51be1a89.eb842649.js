"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[14945],{5880:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>x,frontMatter:()=>a,metadata:()=>d,toc:()=>h});var r=s(74848),n=s(28453),i=s(11470),o=s(19365);const a={title:"User (StatsigUser) Object",sidebar_label:"Passing a User to SDKs",keywords:["owner:brock"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},l=void 0,d={id:"concepts/user",title:"User (StatsigUser) Object",description:"Introduction to the StatsigUser object",source:"@site/docs/concepts/user.mdx",sourceDirName:"concepts",slug:"/concepts/user",permalink:"/concepts/user",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/concepts/user.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{title:"User (StatsigUser) Object",sidebar_label:"Passing a User to SDKs",keywords:["owner:brock"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"api",previous:{title:"SDK Overview",permalink:"/sdks/getting-started"},next:{title:"Initializing the SDK",permalink:"/client/concepts/initialize"}},c={},h=[{value:"Introduction to the StatsigUser object",id:"introduction-to-the-statsiguser-object",level:2},{value:"Usage Example in Node:",id:"usage-example-in-node",level:2},{value:"I passed that attribute before - why do I need to pass it again?",id:"i-passed-that-attribute-before---why-do-i-need-to-pass-it-again",level:3},{value:"User Attributes",id:"user-attributes",level:2},{value:"How to override &quot;Operating System&quot; and &quot;Browser&quot; explicitly",id:"how-to-override-operating-system-and-browser-explicitly",level:3},{value:"Have sensitive user PII data that should not be logged?",id:"have-sensitive-user-pii-data-that-should-not-be-logged",level:3},{value:"Time-based conditions",id:"time-based-conditions",level:3},{value:"Why is an ID always required for server SDKs?",id:"why-is-an-id-always-required-for-server-sdks",level:3},{value:"Pass all IDs when you have them",id:"pass-all-ids-when-you-have-them",level:3}];function u(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"introduction-to-the-statsiguser-object",children:"Introduction to the StatsigUser object"}),"\n",(0,r.jsxs)(t.p,{children:["The user(StatsigUser) object is the sole input you provide to SDKs to target gates and assign users to experiments. If you'd like to target on an attribute, you'll need to add it to your user object, so assembling the data is an important part of SDK setup. ",(0,r.jsx)(t.strong,{children:"We recommend providing as much info as practical,"})," as every additional field can enrich your analyses and expand targeting possibilities. Statsig also infers some information about each user based on other traits (for example, we resolve IP Addresses into countries), read on for more details."]}),"\n",(0,r.jsx)(t.h2,{id:"usage-example-in-node",children:"Usage Example in Node:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:'//Create a user object\nconst user = new StatsigUser({ userID: "12345", email: "vincent@statsig.com"});\n//Use it in getExperiment()\nconst my_experiment = statsig.getExperiment(user, "my_experiment_name") //<- any attribute you pass, you can target on\n'})}),"\n",(0,r.jsx)(t.h3,{id:"i-passed-that-attribute-before---why-do-i-need-to-pass-it-again",children:"I passed that attribute before - why do I need to pass it again?"}),"\n",(0,r.jsxs)(t.p,{children:["If you want to see a specific user's historical attributes for analytics purposes, you can see that in the statsig console via ",(0,r.jsx)(t.a,{href:"/users/profiles",children:"User Profiles"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["However, you cannot use a user's historical attributes for targeting or gate/experiment evaluation at runtime.  Statsig evaluates gates and experiment buckets based ",(0,r.jsx)(t.strong,{children:"only on the information you provide when you check something."})," Statsig's promise of evaluating every gate or experiment in milliseconds is dependent on having all information available at request time, rather than querying previous data, or storing massive amounts of historical data in memory."]}),"\n",(0,r.jsx)(t.h2,{id:"user-attributes",children:"User Attributes"}),"\n",(0,r.jsxs)(i.A,{groupId:"user-object",defaultValue:"client",values:[{label:"Client SDKs",value:"client"},{label:"Server SDKs",value:"server"}],children:[(0,r.jsxs)(o.A,{value:"client",children:[(0,r.jsx)(t.p,{children:"All user attributes can be explicitly supplied, and some can be inferred from a user's device or connection. Supplying one will always override an inferred value."}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Key"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Example"}),(0,r.jsx)(t.th,{children:"Client SDK Support"}),(0,r.jsx)(t.th,{children:"Auto-infer"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"userID"})}),(0,r.jsxs)(t.td,{children:["ID representing a unique user. This ID will be used to guarantee consistency of targeting for Feature Gates and Experiments and will be used to evaluate experiment results. If ",(0,r.jsx)(t.code,{children:"User ID"})," doesn't exist yet, leave this empty; a ",(0,r.jsx)(t.code,{children:"Stable ID"})," persisted locally will be used for evaluations."]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"your_user_id"})}),(0,r.jsx)(t.td,{children:"All"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"email"})}),(0,r.jsx)(t.td,{children:"Email of the user."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"marcos@statsig.com"})}),(0,r.jsx)(t.td,{children:"All"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"userAgent"})}),(0,r.jsx)(t.td,{children:"User agent of the browser. This will be decoded to determine the Browser and Operating System of the user's context. Will be inferred if not provided."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.40 Safari/537.36"})}),(0,r.jsx)(t.td,{children:"Web"}),(0,r.jsx)(t.td,{children:"\u2714"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"ip"})}),(0,r.jsx)(t.td,{children:"IP address of the user. Inferred from the request to /initialize if not provided"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"192.168.1.101"})}),(0,r.jsx)(t.td,{children:"All"}),(0,r.jsx)(t.td,{children:"\u2714"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"country"})}),(0,r.jsx)(t.td,{children:"2-letter country code of the user. This can be supplied or inferred, and we can target based on the country code in both cases. When inferred, the country code follows ISO-3166."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"US"})}),(0,r.jsx)(t.td,{children:"All"}),(0,r.jsx)(t.td,{children:"\u2714"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"locale"})}),(0,r.jsx)(t.td,{children:"Locale of the user. When using the Android or iOS SDK, this will be inferred if not provided."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"en_US"})}),(0,r.jsx)(t.td,{children:"Mobile"}),(0,r.jsx)(t.td,{children:"\u2714"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"appVersion"})}),(0,r.jsx)(t.td,{children:"Version of the app the user is using. When using the Android or iOS SDK, this will be inferred if not provided."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"1.0.1"})}),(0,r.jsx)(t.td,{children:"Mobile"}),(0,r.jsx)(t.td,{children:"\u2714"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"systemName"})}),(0,r.jsx)(t.td,{children:"When using our Android/iOS SDKs, this will be automatically assigned, but you can also provide an explicit operating system to override."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Android"})}),(0,r.jsx)(t.td,{children:"All"}),(0,r.jsx)(t.td,{children:"\u2714"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"systemVersion"})}),(0,r.jsx)(t.td,{children:"When using our Android/iOS SDKs, this will be automatically assigned, but you can also provide an explicit OS version to override."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"15.4"})}),(0,r.jsx)(t.td,{children:"All"}),(0,r.jsx)(t.td,{children:"\u2714"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"browserName"})}),(0,r.jsx)(t.td,{children:"When using our Web SDK, this will be automatically assigned, but you can also provide an explicit Browser Name to override."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Chrome"})}),(0,r.jsx)(t.td,{children:"Web"}),(0,r.jsx)(t.td,{children:"\u2714"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"browserVersion"})}),(0,r.jsx)(t.td,{children:"When using our Web SDK, this will be automatically assigned, but you can also provide an explicit Browser Version to override."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"45.0"})}),(0,r.jsx)(t.td,{children:"Web"}),(0,r.jsx)(t.td,{children:"\u2714"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"custom"})}),(0,r.jsx)(t.td,{children:"Dictionary that can contain key/value pairs that can be used for Feature Gate targeting. The content of this dictionary will be stored and available after targeting."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'{subscriber: "yes", ...}'})}),(0,r.jsx)(t.td,{children:"All"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"privateAttributes"})}),(0,r.jsxs)(t.td,{children:["Dictionary that can contain key/value pairs that can be used for Feature Gate targeting. The content of this dictionary will ",(0,r.jsx)(t.strong,{children:"not"})," be stored after being used for targeting and will be removed from any ",(0,r.jsx)(t.code,{children:"log_event"})," calls."]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'{sensitive_field: "sensitive_information", ...}'})}),(0,r.jsx)(t.td,{children:"All"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"customIDs"})}),(0,r.jsxs)(t.td,{children:["Dictionary that can contain key/value pairs used as the randomization unit ID for experiments that are set up using these IDs instead of the ",(0,r.jsx)(t.code,{children:"User ID"}),"."]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'{account_id: "23456555", company_id: "company_xyz"}'})}),(0,r.jsx)(t.td,{children:"All"}),(0,r.jsx)(t.td,{})]})]})]})]}),(0,r.jsxs)(o.A,{value:"server",children:[(0,r.jsx)(t.p,{children:"All user attributes can be explicitly supplied, and some can be inferred from a provided IP Address or User Agent. Supplying one will always override an inferred value."}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Attributes"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Example"}),(0,r.jsx)(t.th,{children:"Auto Infer"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"userID"})}),(0,r.jsx)(t.td,{children:"ID representing a unique user. This ID will be used to guarantee consistency of targeting for Feature Gates and Experiments and will be used to evaluate experiment results."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"your_user_id"})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"email"})}),(0,r.jsx)(t.td,{children:"Email of the user"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"marcos@statsig.com"})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"userAgent"})}),(0,r.jsx)(t.td,{children:"User agent of the browser. This will be decoded to determine the Browser and Operating System of the user's context"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.40 Safari/537.36"})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"ip"})}),(0,r.jsx)(t.td,{children:"IP address of the user"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"192.168.1.101"})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"country"})}),(0,r.jsx)(t.td,{children:"2 letter country code of the user"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"US"})}),(0,r.jsx)(t.td,{children:"\u2714, from IP"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"locale"})}),(0,r.jsx)(t.td,{children:"Locale of the user"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"en_US"})}),(0,r.jsx)(t.td,{children:"\u2714, from IP"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"appVersion"})}),(0,r.jsx)(t.td,{children:"Version of the app the user is using"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"1.0.1"})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"custom"})}),(0,r.jsx)(t.td,{children:"Dictionary that can contain key/value pairs that can be used for Feature Gate targeting. The content of this dictionary will be stored and available after targeting"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'{skill_level: "5", is_subscriber:"false" ...}'})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"privateAttributes"})}),(0,r.jsxs)(t.td,{children:["Dictionary that can contain key/value pairs that can be used to evaluate feature gate conditions and segment conditions. The content of this dictionary will ",(0,r.jsx)(t.strong,{children:"not"})," be stored after used for targeting and will be removed from any log_event calls"]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'{sensitive_field: "sensitive_information", ...}'})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"customIDs"})}),(0,r.jsxs)(t.td,{children:["Dictionary that can contain key/value pairs used as the randomization unit ID for experiments that are set up using these IDs instead of the ",(0,r.jsx)(t.code,{children:"User ID"})]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'{account_id: "23456555", company_id: "company_xyz"}'})}),(0,r.jsx)(t.td,{})]})]})]}),(0,r.jsx)(t.h3,{id:"how-to-override-operating-system-and-browser-explicitly",children:'How to override "Operating System" and "Browser" explicitly'}),(0,r.jsx)(t.p,{children:'Operating system and Browser are two default targeting options on Statsig, and if you set the userAgent field, server SDKs will parse out the OS/Browser information to evaluate them. If you prefer to explicitly setup this, you can in two places: either top-level in the user object (which typing may not allow in languages), or in the "custom" object. You need to provide this information under the following keys:'}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Operating System: os_name"}),"\n",(0,r.jsx)(t.li,{children:"OS Version: os_version"}),"\n",(0,r.jsx)(t.li,{children:"Browser Name: browser_name"}),"\n",(0,r.jsx)(t.li,{children:"Browser Version: browser_version"}),"\n"]}),(0,r.jsx)(t.p,{children:"As an example, you could set this either of these two ways in the user object:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  userID: "uuid",\n  os_name: "Android", // top level\n  custom: {\n    os_name: "iOS",\n  }\n}\n'})}),(0,r.jsxs)(t.p,{children:["If either of these fields is explicitly set, it will take precedence over inferring the value from the ",(0,r.jsx)(t.code,{children:"userAgent"})," field."]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"have-sensitive-user-pii-data-that-should-not-be-logged",children:"Have sensitive user PII data that should not be logged?"}),"\n",(0,r.jsx)(t.p,{children:"On the StatsigUser object, there is a field called privateAttributes, which is a simple object/dictionary that you can use to set private user attributes. Any attribute set in privateAttributes will only be used for evaluation/targeting, and removed from any logs before they are sent to Statsig server."}),"\n",(0,r.jsxs)(t.p,{children:['For example, if you have feature gates that should only pass for users with emails ending in "@statsig.com", but do not want to log your users\' email addresses to Statsig, you can simply add the key-value pair ',(0,r.jsx)(t.code,{children:'{ email: "my_user@statsig.com" }'})," to privateAttributes on the user and that's it!"]}),"\n",(0,r.jsx)(t.h3,{id:"time-based-conditions",children:"Time-based conditions"}),"\n",(0,r.jsx)(t.p,{children:"All SDKs (both server and client-side) support unix timestamps in milliseconds to evaluate time based conditions (After time, before time).  Without knowing all possible variations of DateTime formats, we have to normalize on something, so its best to convert your DateTime field into a standard format for evaluation."}),"\n",(0,r.jsx)(t.p,{children:"We have added support for ISO timestamps to some server SDKs."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.code,{children:"java-server"})," sdk, as of ",(0,r.jsx)(t.code,{children:"v1.6.0"})," supports ",(0,r.jsxs)(t.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT",children:["DateTime fields in the format of ",(0,r.jsx)(t.code,{children:"ISO_INSTANT"})]})]}),"\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.code,{children:"go"})," sdk, as of ",(0,r.jsx)(t.code,{children:"v1.12.1"})," supports ",(0,r.jsxs)(t.a,{href:"https://pkg.go.dev/time#pkg-constants",children:["DateTime fields in the format of ",(0,r.jsx)(t.code,{children:"RFC3339"})]})]}),"\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.code,{children:"python"})," sdk supports the usage of epoch time in seconds. using ",(0,r.jsx)(t.code,{children:"time.time()"})," may include sub-second components so you should use round the value to an integer"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"We have added support for ISO timestamps to server SDKs supported by server core (Java, Python, PHP, Rust, Node)."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsxs)(t.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT",children:["DateTime fields in the format of ",(0,r.jsx)(t.code,{children:"ISO_INSTANT"})]})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsxs)(t.a,{href:"https://pkg.go.dev/time#pkg-constants",children:["DateTime fields in the format of ",(0,r.jsx)(t.code,{children:"RFC3339"})]})}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"why-is-an-id-always-required-for-server-sdks",children:"Why is an ID always required for server SDKs?"}),"\n",(0,r.jsxs)(t.p,{children:["In Server SDKs, a StatsigUser with a userID (or customID) is required for checkGate, getConfig, and getExperiment. In short, its ",(0,r.jsx)(t.em,{children:"always"})," better to pass the user ID if it's available: users will get a stable experience, and any events will be attributed to the correct users so you can accurately measure downstream metrics."]}),"\n",(0,r.jsx)(t.p,{children:"Still don't want to pass an ID? Here are our suggestions for different use cases:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["If you plan to only use one/off feature gates, or non-percent-based rules (like countries)\nWhile you're still losing functionality, you can pass any non-empty identifier, hard coded string, or ",(0,r.jsx)(t.strong,{children:"a random ID less than 100 if you do not have the actual user ID."})," Don't pass a purely random ID - as we won't be able to dedupe your events, you'll explode your event usage, and your Statsig bill."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"If you want to rollout a feature partially, check for regressions, then roll out to everyone, you must pass an ID in your checkGate/getConfig/getExperiment calls, as well as any logEvent calls you make. Otherwise, we're not able to attribute the events you log to the correct users who saw or didn't see your new feature, or calculate metrics correctly to help you see any regressions."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["If you want to run an A/B experiment to decide whether to ship a new feature, you should also ",(0,r.jsx)(t.strong,{children:"pass the persistent user IDs"}),", for the same reason mentioned in 2, above."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"If you want to pass a userID for the above reasons, but don't have a logged in user (e.g. you are optimizing the login flow), set a stable identifier (we provide one in client SDKs!) as a cookie or in local storage and use that with each call to Statsig."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["We hope this is helpful. If you have a use case that is not covered in these scenarios, or have any question at all, feel free to join our ",(0,r.jsx)(t.a,{href:"https://statsig.com/slack",children:"Slack community"})," and drop a question/comment there!"]}),"\n",(0,r.jsx)(t.h3,{id:"pass-all-ids-when-you-have-them",children:"Pass all IDs when you have them"}),"\n",(0,r.jsx)(t.p,{children:'A common mistake is to accidentally expose users without a userID to a user-ID based experiment. All of them will be bucketed into one group (whichever the "null" userID goes to), polluting your results. If you run experiments on multiple ID types (or you might one day), its best to pass every identifier available.'})]})}function x(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},19365:(e,t,s)=>{s.d(t,{A:()=>o});s(96540);var r=s(34164);const n={tabItem:"tabItem_Ymn6"};var i=s(74848);function o(e){let{children:t,hidden:s,className:o}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(n.tabItem,o),hidden:s,children:t})}},11470:(e,t,s)=>{s.d(t,{A:()=>w});var r=s(96540),n=s(34164),i=s(23104),o=s(56347),a=s(205),l=s(57485),d=s(31682),c=s(70679);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:s}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:s,attributes:r,default:n}}=e;return{value:t,label:s,attributes:r,default:n}}))}(s);return function(e){const t=(0,d.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,s])}function x(e){let{value:t,tabValues:s}=e;return s.some((e=>e.value===t))}function j(e){let{queryString:t=!1,groupId:s}=e;const n=(0,o.W6)(),i=function(e){let{queryString:t=!1,groupId:s}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:t,groupId:s});return[(0,l.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(n.location.search);t.set(i,e),n.replace({...n.location,search:t.toString()})}),[i,n])]}function p(e){const{defaultValue:t,queryString:s=!1,groupId:n}=e,i=u(e),[o,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!x({value:t,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=s.find((e=>e.default))??s[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:i}))),[d,h]=j({queryString:s,groupId:n}),[p,m]=function(e){let{groupId:t}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,i]=(0,c.Dv)(s);return[n,(0,r.useCallback)((e=>{s&&i.set(e)}),[s,i])]}({groupId:n}),f=(()=>{const e=d??p;return x({value:e,tabValues:i})?e:null})();(0,a.A)((()=>{f&&l(f)}),[f]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!x({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),m(e)}),[h,m,i]),tabValues:i}}var m=s(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=s(74848);function b(e){let{className:t,block:s,selectedValue:r,selectValue:o,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.a_)(),c=e=>{const t=e.currentTarget,s=l.indexOf(t),n=a[s].value;n!==r&&(d(t),o(n))},h=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=l.indexOf(e.currentTarget)+1;t=l[s]??l[0];break}case"ArrowLeft":{const s=l.indexOf(e.currentTarget)-1;t=l[s]??l[l.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.A)("tabs",{"tabs--block":s},t),children:a.map((e=>{let{value:t,label:s,attributes:i}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>l.push(e),onKeyDown:h,onClick:c,...i,className:(0,n.A)("tabs__item",f.tabItem,i?.className,{"tabs__item--active":r===t}),children:s??t},t)}))})}function v(e){let{lazy:t,children:s,selectedValue:i}=e;const o=(Array.isArray(s)?s:[s]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===i));return e?(0,r.cloneElement)(e,{className:(0,n.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==i})))})}function y(e){const t=p(e);return(0,g.jsxs)("div",{className:(0,n.A)("tabs-container",f.tabList),children:[(0,g.jsx)(b,{...t,...e}),(0,g.jsx)(v,{...t,...e})]})}function w(e){const t=(0,m.A)();return(0,g.jsx)(y,{...e,children:h(e.children)},String(t))}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>a});var r=s(96540);const n={},i=r.createContext(n);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);