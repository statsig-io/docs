"use strict";(self.webpackChunkstatsig_docs=self.webpackChunkstatsig_docs||[]).push([[48963],{80582:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var i=n(74848),s=n(28453);const a={sidebar_label:"Email AB Testing with SendGrid",title:"Email AB Testing with SendGrid",keywords:["owner:vm"],last_update:{date:new Date("2025-09-18T00:00:00.000Z")}},r=void 0,o={id:"guides/sendgrid-email-abtest",title:"Email AB Testing with SendGrid",description:"Email campaigns are a critical tool for any Marketing team.  Finding the best performing Email template is a perfect use-case for an A/B test.  Statsig allows you to run simple but powerful A/B tests on different parts of your email content.  Since Statsig can integrate seamlessly with product analytics, you can run email experiments and understand deeper business level impact easily.",source:"@site/docs/guides/sendgrid-email-abtest.mdx",sourceDirName:"guides",slug:"/guides/sendgrid-email-abtest",permalink:"/guides/sendgrid-email-abtest",draft:!1,unlisted:!1,editUrl:"https://github.com/statsig-io/docs/edit/main/docs/guides/sendgrid-email-abtest.mdx",tags:[],version:"current",lastUpdatedAt:17581536e5,frontMatter:{sidebar_label:"Email AB Testing with SendGrid",title:"Email AB Testing with SendGrid",keywords:["owner:vm"],last_update:{date:"2025-09-18T00:00:00.000Z"}},sidebar:"cloud",previous:{title:"Email AB Testing with Customer.io",permalink:"/guides/customer-io-email-abtest"},next:{title:"General CMS Integrations",permalink:"/guides/cms-integrations"}},l={},c=[{value:"Step 1: Create an experiment",id:"step-1-create-an-experiment",level:3},{value:"Step 2: Start the experiment",id:"step-2-start-the-experiment",level:3},{value:"Step 3: Set up Webhook",id:"step-3-set-up-webhook",level:3},{value:"Step 4: Create Single Sends",id:"step-4-create-single-sends",level:3},{value:"Monitoring the set up",id:"monitoring-the-set-up",level:2},{value:"Interpreting results",id:"interpreting-results",level:2},{value:"Using API instead of Single Send",id:"using-api-instead-of-single-send",level:2},{value:"More than two variants",id:"more-than-two-variants",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Email campaigns are a critical tool for any Marketing team.  Finding the best performing Email template is a perfect use-case for an A/B test.  Statsig allows you to run simple but powerful A/B tests on different parts of your email content.  Since Statsig can integrate seamlessly with product analytics, you can run email experiments and understand deeper business level impact easily."}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsxs)(t.p,{children:["This guide assumes you have an existing Statsig account.  Please go here to create a new free account if you don't already have one: ",(0,i.jsx)(t.a,{href:"https://statsig.com/signup",children:"https://statsig.com/signup"})]})}),"\n",(0,i.jsx)(t.h3,{id:"step-1-create-an-experiment",children:"Step 1: Create an experiment"}),"\n",(0,i.jsx)(t.p,{children:"Start by creating a new Experiment on Statsig console. Put in a name and leave the rest of the fields empty/default.  For the purposes of this walkthrough, that should do."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210731384-8bbfc1e1-076c-4ae3-959a-ef1507801e71.png",alt:"Experiment creation interface"})}),"\n",(0,i.jsx)(t.h3,{id:"step-2-start-the-experiment",children:"Step 2: Start the experiment"}),"\n",(0,i.jsx)(t.p,{children:"Since you can't start an experiment without a parameter, let's go ahead and add a dummy parameter."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210316935-99f13616-c412-47c1-b9ab-99b90462805e.png",alt:"Experiment parameter configuration"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210731687-0883c356-5cef-458d-a6aa-bfde9ad36f8b.png",alt:"Experiment setup completion"})}),"\n",(0,i.jsxs)(t.p,{children:["Save the experiment setup and ",(0,i.jsx)(t.strong,{children:"Start"})," it.  We're all set with the experiment set up."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210731969-decf481a-b6a2-41ee-b1c1-6b917bb18fab.png",alt:"Experiment start confirmation"})}),"\n",(0,i.jsxs)(t.p,{children:["While you're at it, copy the ",(0,i.jsx)(t.strong,{children:"Experiment Name"}),".  We'll use this in a bit."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210732298-34c0e1f4-6485-425b-af07-fa535ad86396.png",alt:"Experiment name copy interface"})}),"\n",(0,i.jsx)(t.h3,{id:"step-3-set-up-webhook",children:"Step 3: Set up Webhook"}),"\n",(0,i.jsxs)(t.p,{children:["In your SendGrid console, go to ",(0,i.jsx)(t.strong,{children:"Settings"})," -> ",(0,i.jsx)(t.strong,{children:"Mail Settings"})," -> ",(0,i.jsx)(t.strong,{children:"Event Webhook"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"In the HTTP Post URL, put in:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"https://sendgrid-webhook.statsig.workers.dev/?apikey=[YOUR STATSIG API KEY]"})}),"\n",(0,i.jsxs)(t.admonition,{type:"info",children:[(0,i.jsx)(t.p,{children:"You can find your API Key by navigating to Statsig Project Settings -> API Keys, and copying the 'Client API Key'."}),(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210319717-49ac4a21-8bdd-4348-b534-374b760ab047.png",alt:"Statsig API key location"})}),(0,i.jsxs)(t.p,{children:["It should look like this: ",(0,i.jsx)(t.code,{children:"client-abcd123efg..."})]})]}),"\n",(0,i.jsxs)(t.p,{children:["Make sure all the ",(0,i.jsx)(t.strong,{children:"Deliverability Data"})," and ",(0,i.jsx)(t.strong,{children:"Engagement Data"})," checkboxes are checked.  Next, Enable the ",(0,i.jsx)(t.strong,{children:"Event Webhook Status"})," and hit Save."]}),"\n",(0,i.jsx)(t.p,{children:"The set up should look like this:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210737123-86725ff7-2432-4bde-95e6-173f8f194f86.png",alt:"SendGrid webhook configuration"})}),"\n",(0,i.jsx)(t.h3,{id:"step-4-create-single-sends",children:"Step 4: Create Single Sends"}),"\n",(0,i.jsxs)(t.p,{children:["Now on your SendGrid app, create two new ",(0,i.jsx)(t.strong,{children:"Single Send"})," and name them using the experiment-name like this."]}),"\n",(0,i.jsxs)(t.p,{children:['The first one would be the "Control", which is the baseline.  That one should be named ',(0,i.jsx)(t.code,{children:"[experiment_name]/control"}),".  For example, in our case it will be ",(0,i.jsx)(t.code,{children:"drip_campaign_ab_test/control"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210733152-5766320a-ed30-45f7-b57f-bf0526f796a8.png",alt:"Control email template setup"})}),"\n",(0,i.jsxs)(t.p,{children:['The second one would be the "Test", which is the template you are comparing with the baseline.  That one should be named ',(0,i.jsx)(t.code,{children:"[experiment_name]/test"}),".  For example, in our case it will be ",(0,i.jsx)(t.code,{children:"drip_campaign_ab_test/test"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210733504-581ea181-3ebc-4bc1-a707-391866bcbf62.png",alt:"Test email template setup"})}),"\n",(0,i.jsx)(t.p,{children:"You can customize these templates however you want, and even use different subjects."}),"\n",(0,i.jsx)(t.p,{children:"The most important thing here is you need to split the recipient list evenly between the Control & Test.  This will aid in a 'balanced' experiment."}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsx)(t.p,{children:"In order to avoid introducing any bias, it is best to split the recipient list at random.  For instance, you want to ensure recipients within the same company are distributed evenly between the two lists."})}),"\n",(0,i.jsx)(t.p,{children:"Now you're good to go.  Send those emails and Statsig will automatically track how well each variant in your A/B test is performing across email opens, clicks, etc."}),"\n",(0,i.jsx)(t.h2,{id:"monitoring-the-set-up",children:"Monitoring the set up"}),"\n",(0,i.jsx)(t.p,{children:"When you've started the sends, you can verify everything is working as expected by navigating to the Diagnostics Tab in your experiment and looking at the 'Exposure Stream' at the bottom of the page.  This shows a realtime stream of the page loads along with the variant they were allocated."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210737715-6adf5fd9-3b23-433a-a852-f2c8ea93cf2a.png",alt:"Experiment exposure stream in diagnostics tab"})}),"\n",(0,i.jsx)(t.h2,{id:"interpreting-results",children:"Interpreting results"}),"\n",(0,i.jsxs)(t.p,{children:["By going to the ",(0,i.jsx)(t.strong,{children:"Pulse Results"})," tab in the Experiment page, you can add metrics you want to monitor and verify which variant is doing better.  To learn more about reading Pulse Results, check this article out: ",(0,i.jsx)(t.a,{href:"../pulse/read-pulse",children:"Reading Pulse Results"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210737928-3f33ca3b-a46b-40ac-b095-0b33fab66109.png",alt:"Pulse results tab showing experiment metrics"})}),"\n",(0,i.jsx)(t.h2,{id:"using-api-instead-of-single-send",children:"Using API instead of Single Send"}),"\n",(0,i.jsxs)(t.p,{children:["Statsig also supports A/B testing when using API or Automation to send marketing emails.  In order to enable this, you would use unique arguments (",(0,i.jsx)(t.a,{href:"https://docs.sendgrid.com/for-developers/sending-email/unique-arguments",children:"https://docs.sendgrid.com/for-developers/sending-email/unique-arguments"}),") and pass in unique_args as below:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "unique_args": {\n    "statsig_experiment_name": "[Experiment Name]",\n    "statsig_variant_name": "[control or test]"\n  }\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"So in our example above, you will set up the Control variant like this:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "unique_args": {\n    "statsig_experiment_name": "drip_campaign_ab_test",\n    "statsig_variant_name": "control"\n  }\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"And the Test variant would look like this:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "unique_args": {\n    "statsig_experiment_name": "drip_campaign_ab_test",\n    "statsig_variant_name": "control"\n  }\n}\n'})}),"\n",(0,i.jsx)(t.h2,{id:"more-than-two-variants",children:"More than two variants"}),"\n",(0,i.jsx)(t.p,{children:"It's simple to extend this setup to run ABC or ABn tests.  You can add more variants in the Experiment Setup tab, like below.  Make sure the variant name is correctly applied in either the Single Send name or the unique arguments in the API."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/74588208/210738925-89f91116-fefc-4e3c-992d-c9fc228f1a8c.png",alt:"ABC test variant configuration interface"})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var i=n(96540);const s={},a=i.createContext(s);function r(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);