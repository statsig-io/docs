---
title: Migrating From statsig-react
sidebar_label: Migrating from statsig-react/rn
slug: /client/javascript-sdk/migrating-from-statsig-react
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import GitHubEmbed from "@site/src/components/GitHubEmbed";


### Initialize

In the old `statsig-react` package, all values needed to be given to the StatsigProvider, 
which internally would setup the Statsig client instance. This approach lead to issues in managing state between 
the Statsig client and the StatsigProvider, making it fragile and likely to break if you ever tried using the Statsig client directly.

The new approach is to run everything through the Statsig client instance, and just pass that to the StatsigProvider.

<Tabs
  groupId="js-migration-choice"
  defaultValue="new"
  values={[
    {label: 'statsig-react (Legacy)', value: 'legacy'},
    {label: 'New', value: 'new'},
  ]}>
  <TabItem value="legacy">

```jsx
import { StatsigProvider } from "statsig-react";

function App() {
  return (
    <StatsigProvider
      sdkKey="<STATSIG_CLIENT_SDK_KEY>"
      user={{ userID: "a-user" }}
      waitForInitialization={true}
      // StatsigOptions (Not Required)
      options={{
        environment: { tier: "staging" },
      }}
    >
      <div className="App">{/* Rest of App ... */}</div>
    </StatsigProvider>
  );
}
```

  </TabItem>
  <TabItem value="new">

<GitHubEmbed
  language="jsx"
  url="https://raw.githubusercontent.com/statsig-io/js-client-monorepo/main/samples/react/src/samples/react-precomp/sample-react-precomp-initialize.tsx"
/>

  </TabItem>
</Tabs>









### Updating the User


<Tabs
  groupId="js-migration-choice"
  defaultValue="new"
  values={[
    {label: 'statsig-react (Legacy)', value: 'legacy'},
    {label: 'New', value: 'new'},
  ]}>
  <TabItem value="legacy">

```jsx
import { useContext, useState } from "react";
import { StatsigUser, StatsigProvider, StatsigContext } from "statsig-react";

function UpdateUserButton() {
  const { updateUser } = useContext(StatsigContext);

  return <button onClick={() => updateUser({ userID: "b-user" })}>Update</button>
}

function App() {
  const [user, setUser] = useState<StatsigUser>({ userID: "a-user" });

  return (
    <StatsigProvider
      sdkKey="<STATSIG_CLIENT_SDK_KEY>"
      user={user}
      setUser={setUser}
    >
      <UpdateUserButton />
    </StatsigProvider>
  );
}
```

  </TabItem>
  <TabItem value="new">

<GitHubEmbed
  language="jsx"
  url="https://raw.githubusercontent.com/statsig-io/js-client-monorepo/main/samples/react/src/samples/react-precomp/sample-react-precomp-update-user.tsx"
/>

  </TabItem>
</Tabs>