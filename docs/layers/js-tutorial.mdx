---
title: Tutorial
sidebar_label: Example in Javascript
slug: /layers/js-tutorial
---

# Using a layer in Javascript

This example shows how to create a layered experiment with multiple shared parameters.

## Setup

### Create a Layer

First, create a new layer by logging into the [Statsig Console](https://console.statsig.com), navigate to experiments, select the layers tab and then select **Create New**.

![Screen Shot 2022-03-21 at 8 33 56 AM](https://user-images.githubusercontent.com/95646168/159297814-db7a8423-ecc5-4370-8b41-733e97954a55.png)

In the dialog that appears, give your new layer a name and then select **Create**.

![Screen Shot 2022-03-21 at 8 46 15 AM](https://user-images.githubusercontent.com/95646168/159298510-ef27ef28-fc2b-4301-8156-df6fb6703586.png)


With this layer created, you can now add parameters that can be shared across experiments.


### Add Parameters

On the layer page, select Add Parameter. 

![Screen Shot 2022-03-21 at 10 13 30 AM](https://user-images.githubusercontent.com/95646168/159327580-837ab0ef-5449-4cb7-b09b-41f3bfa93e63.png)


In the dialog that appears, you can enter the name, type and default value for your parameter.

![Screen Shot 2022-03-21 at 10 13 51 AM](https://user-images.githubusercontent.com/95646168/159327612-b0f09c4c-9d47-48d0-972b-e1d27bc3d3f2.png)

> *Note: You can also add parameters later on from the experiments page.*

### Create an Experiment

We can now reference our layer during experiment creation, allowing us to pull in these parameters and share them across experiments.

On the layers page, select **Create New Experiment in Layer**, provide a name in the dialog and then hit **Create**.

You can also specify the layer when creating an experiment from the experiment page, expand the **Advanced** options, check **Add Layer**, and select your layer from the layer dropdown.

![Screen Shot 2022-03-21 at 10 17 48 AM](https://user-images.githubusercontent.com/95646168/159328392-b6890759-2356-4a97-ab0f-61643c7d5118.png)


On the experiment page, add your layer parameters to the experiment groups by selecting **+ Add Parameter**.

![Screen Shot 2022-03-21 at 10 23 31 AM](https://user-images.githubusercontent.com/95646168/159329356-97787500-ac38-4a66-ad88-e5980ed2d992.png)

In the dialog that appears, select your existing layer parameter from the dropdown menu.

![Screen Shot 2022-03-21 at 10 20 10 AM](https://user-images.githubusercontent.com/95646168/159328907-aa825add-e328-4407-b6d9-f2c269abfc2d.png)

Now, when this experiment is running, users that are put into these groups will get the associated values. For parameters that are not explicitly referenced from your experiment, the layer default values will be returned.

## Implement the Code

Here is a Javascript example of how you can reference your parameters in code. Note that we are using **getLayer, not getExperiment**, to get our parameters. This will allow us to run multiple experiments without needing to continually update the client code. Statsig will automatically override the default layer values with experiment values if a user is in an experiment group.

```js
await statsig.initialize(
  "<CLIENT_SDK_KEY>",
  { userID: 'user_a' },
);

const layer = statsig.getlayer('my_first_layer');

layer.getValue('test_string', ''));
layer.getValue('test_array', []);
layer.getValue('test_object', {});
```