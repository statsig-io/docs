import Gap from "./_Gap.mdx";

import SDKDocTOCHeader from "@site/src/components/SDKDocTOCHeader";

export const HOOK__SDKDocUpdate = "<SDK_DOC_UPDATE_HOOK>";

export const SDKDocsBuilder = (tocHeaderConfig, sections, toc, appendTOC) => {
  toc.length = 0;
  toc.push({
    value: SDKDocTOCHeader(tocHeaderConfig),
    id: "0",
    level: 2,
  });
  //
  const result = sections.map(([Section, props], index) => {
    toc.push(...Section.toc);
    return (
      <React.Fragment key={"" + index}>
        <Section.default {...props} />
        <Gap />
      </React.Fragment>
    );
  });
  toc.push(...(appendTOC ?? []));
  return result;
};
