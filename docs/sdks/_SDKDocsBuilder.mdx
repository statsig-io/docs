import Gap from "./_Gap.mdx";
import React from "react";
export const HOOK__SDKDocUpdate = "<SDK_DOC_UPDATE_HOOK>";
import TOCCollapsible from '@theme/TOCCollapsible';

export const SDKDocsBuilder = (props) => {
  const sections = props.sections;

  const toc = [];
  const result = sections.map(([Section, props], index) => {
    const tocFilters = Section.tocFilter;
    const addToc = Section.toc.filter((entry) => tocFilters?.includes(entry.id) !== true);
    toc.push(...addToc);
    return <React.Fragment key={index}>
      <Section.default {...props} />
      <Gap />
    </React.Fragment>
  });

  return {
    result,
    toc
  }
};
