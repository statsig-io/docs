---
sidebar_label: Your First Shopify A/B Test
title: Build your first Shopify A/B test  
---

Prereqs
- an existing shopify store using the Dawn theme
- existing Statsig account

### Step 1: Create an experiment on Statsig

To create an experiment on Statsig, 
- Log into https://console.statsig.com/
- Click on **Experiments** from the left hand navigation menu
- Click on **Create**, then enter the name and description of the experiment
- In the experiment **Setup** tab, click on **sample_parameter** in the **Groups** panel and enter the parameter name; in this case we're calling the parameter **image_selector**

![image](https://user-images.githubusercontent.com/1315028/150042592-cae884bc-8675-4ec8-911a-d303f0823be0.png)

![image](https://user-images.githubusercontent.com/1315028/150048492-57645d20-3825-4e78-b553-00671fb9bd5f.png)

### Step 2: Customize your Shopify store theme

#### Step 2.1: Log in to your Shopify store
Once you've [created your Shopify store](https://www.shopify.com/blog/start-online-store), log into your store as **admin**. 
To do this,
- Log into https://partners.shopify.com/ 
- Click on **Stores** in the left navigation menu
- Click on **Log in** link next to the store where you want to run the A/B test

Here's my store on the Shopify Partners portal. It's called **Fall Colors**, where I sell paintings centered around fall (autumn) themes. 
My store happens to still be in development stage.

![image](https://user-images.githubusercontent.com/1315028/150030303-eb4068ee-f5b8-42bc-9f94-9ca17df36e17.png)

#### Step 2.2: Customize your theme

Once you log into your store, click on **Themes** under the **Online Store** in the left hand navigation panel. Next, 
- Click on the **Actions** drop down, then click on **Edit Code**
- Click on **theme.liquid** file under the **Layout** section
- Load the SDK by copying the code the below in the `head` section; use the experiment config to show the right image to your visitors

```js
<script src="https://cdn.jsdelivr.net/npm/statsig-js/build/statsig-prod-web-sdk.min.js"></script>
```


- Initialize the SDK and get the experiment config by copying the following in the `body` section

```js
<script>
    // hide the page until we fetch the configuration from statsig
    document.getElementsByTagName("BODY")[0].style.display = "none";
    
    //initialize the Statsig SDK using your Statsig client SDK key 
    window.statsig.initialize("<CLIENT_SDK_KEY>").then(() => {
        // Assuming you're on the Dawn theme and you've uploaded two images for the hero image
        // You can use this same idea to customize/experiment with the different blocks of the page                               	
        const heroImages = document.querySelectorAll(".banner > .banner__media");
        if (heroImages.length == 2) {
            heroImages[0].classList.remove("banner__media-half");
            heroImages[1].classList.remove("banner__media-half");
            
            //get experiment config
            const config = statsig.getExperiment("shopify_hero_image_abtest").get("image_selector", <DEFAULT_VALUE>)

            // swap the images if config set to treatment (image is set to 1) 
            if (config == 1){
              const primaryHTML = heroImages[0].innerHTML;
              const primaryOuter = heroImages[0].outerHTML;
              
              heroImages[0].innerHTML = heroImages[1].innerHTML;
              heroImages[0].outerHTML = heroImages[1].outerHTML;
              
              heroImages[1].innerHTML = primaryHTML;
              heroImages[1].outerHTML = primaryOuter;
            }
        }
        // show the page
        document.getElementsByTagName("BODY")[0].style.display = "block";                                         
    });
</script>
```

- Log the key events that you want to track as metrics (along with any metadata) by copying the code below into the pages where customers take key actions

```js
statsig.logEvent('add_to_cart', 'SKU_12345', {'price': '9.99', 'item_name': 'diet_coke_48_pack'});
```

- Click **Save** after you make these changes

### Step 3: Verify your experiment

Make sure your customers are being assigned to control and test groups using the **Diagnostics** tab in your experiment. As visitors hit your store pages, 
you should start ongoing experiment checks for the users entering the experiment in the **Checks** panel as shown below.

![Screen Shot 2022-01-18 at 5 36 36 PM](https://user-images.githubusercontent.com/1315028/150048630-cd501f16-dfdf-44c9-b26c-5e74c06147ac.png)

As your visitors engage with products on your store, you'll also start to see the hourly event count for the events you're logging from your store in the **Event Count by Group** panel. 

![image](https://user-images.githubusercontent.com/1315028/150048026-ab114024-f029-4b7d-88ea-99a1d3da0808.png)

Most importantly, you can see a live event stream in the **Exposure Stream** panel.

![image](https://user-images.githubusercontent.com/1315028/150048124-de087077-ac87-4baa-9d9c-a47801b1d27d.png)


### Step 4: Review experiment results

As the experiment runs, you'll see cumulative exposures in the **Results** tab. 

![image](https://user-images.githubusercontent.com/1315028/150048889-4f181821-4d40-4e47-83d1-afdeb528adc1.png)

The **Metric Lifts** panel will show you which of your metrics are seeing a statistically significant change based on your experiment.

![image](https://user-images.githubusercontent.com/1315028/150048918-a147afe0-0938-4555-9cd8-d4df0886da40.png)



