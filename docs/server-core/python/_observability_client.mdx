## Observability Client Interface

The `ObservabilityClient` allows you to monitor the health of the SDK by integrating with your own observability systems.

### Interface Methods

```python
class ObservabilityClient(ObservabilityClientBase):
    def __init__(self):
        super().__init__()
        self.init_fn = self.init
        self.increment_fn = self.increment
        self.gauge_fn = self.gauge
        self.dist_fn = self.dist
        self.error_fn = self.error
        self.should_enable_high_cardinality_for_this_tag_fn = self.should_enable_high_cardinality_for_this_tag

    def init(self):
        """
        Initialize the observability client. Called when the Statsig client initializes.
        """
        pass

    def increment(self, metric_name: str, value: float, tags: Optional[Dict[str, str]] = None):
        """
        Report a counter metric.
        
        Args:
            metric_name: The name of the metric
            value: The amount to increment by
            tags: Optional tags to associate with the metric
        """
        pass

    def gauge(self, metric_name: str, value: float, tags: Optional[Dict[str, str]] = None):
        """
        Report a gauge metric.
        
        Args:
            metric_name: The name of the metric
            value: The current value
            tags: Optional tags to associate with the metric
        """
        pass

    def dist(self, metric_name: str, value: float, tags: Optional[Dict[str, str]] = None):
        """
        Report a distribution metric.
        
        Args:
            metric_name: The name of the metric
            value: The value to record
            tags: Optional tags to associate with the metric
        """
        pass

    def error(self, tag: str, error: str):
        """
        Report an error.
        
        Args:
            tag: Category/component tag for the error
            error: The error message
        """
        pass

    def should_enable_high_cardinality_for_this_tag(self, tag: str) -> bool:
        """
        Determine if high cardinality should be enabled for a tag.
        
        Args:
            tag: The tag to check
            
        Returns:
            True if high cardinality should be enabled, False otherwise
        """
        pass
```

### Example Implementation

```python
import statsd
from statsig_python_core import ObservabilityClient
from typing import Optional, Dict

class StatsdObservabilityClient(ObservabilityClient):
    def __init__(self, host='localhost', port=8125, prefix='statsig.'):
        super().__init__()
        self.client = statsd.StatsClient(host=host, port=port, prefix=prefix)
        self.errors = {}
        
    def init(self):
        self.client.incr('client.initialized')
        
    def increment(self, metric_name: str, value: float, tags: Optional[Dict[str, str]] = None):
        # Statsd doesn't support tags natively, so we'll adapt
        tag_suffix = self._format_tags(tags) if tags else ''
        self.client.incr(f"{metric_name}{tag_suffix}", value)
        
    def gauge(self, metric_name: str, value: float, tags: Optional[Dict[str, str]] = None):
        tag_suffix = self._format_tags(tags) if tags else ''
        self.client.gauge(f"{metric_name}{tag_suffix}", value)
        
    def dist(self, metric_name: str, value: float, tags: Optional[Dict[str, str]] = None):
        tag_suffix = self._format_tags(tags) if tags else ''
        self.client.timing(f"{metric_name}{tag_suffix}", value)
        
    def error(self, tag: str, error: str):
        error_key = f"{tag}.{error}"
        count = self.errors.get(error_key, 0) + 1
        self.errors[error_key] = count
        self.client.incr(f"errors.{tag}", 1)
        
    def should_enable_high_cardinality_for_this_tag(self, tag: str):
        # Example: enable high cardinality for specific tags
        return tag in ['user_id', 'experiment_id']
        
    def _format_tags(self, tags: Dict[str, str]) -> str:
        # Format tags for statsd which doesn't natively support tags
        return '.' + '.'.join(f"{k}_{v}" for k, v in tags.items())
```

To use a custom observability client:

```python
from statsig_python_core import Statsig, StatsigOptions

# Create your custom observability client
obs_client = StatsdObservabilityClient()

# Pass it to StatsigOptions
options = StatsigOptions()
options.observability_client = obs_client

# Initialize Statsig with options
statsig = Statsig("secret-key", options)
statsig.initialize().wait()
```
