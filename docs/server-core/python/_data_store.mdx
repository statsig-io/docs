## Data Store Interface

The `DataStore` class allows you to implement custom storage for Statsig configurations, which can be used for advanced caching or storage strategies.

### Interface Methods

```python
class DataStore(DataStoreBase):
    def __init__(self):
        super().__init__()
        self.initialize_fn = self.initialize
        self.shutdown_fn = self.shutdown
        self.get_fn = self.get
        self.set_fn = self.set
        self.support_polling_updates_for_fn = self.support_polling_updates_for

    def initialize(self):
        """
        Initialize the data store. Called when the Statsig client initializes.
        """
        pass

    def shutdown(self):
        """
        Clean up resources when the Statsig client shuts down.
        """
        pass

    def get(self, key: str) -> Optional[DataStoreResponse]:
        """
        Retrieve value from the data store.
        
        Args:
            key: The key to retrieve the value for
            
        Returns:
            DataStoreResponse containing the result and time
        """
        pass

    def set(self, key: str, value: str, time: Optional[int] = None):
        """
        Store a value in the data store.
        
        Args:
            key: The key to store the value under
            value: The value to store
            time: Optional timestamp
        """
        pass

    def support_polling_updates_for(self, key: str) -> bool:
        """
        Whether the data store supports polling for updates for the given key.
        
        Args:
            key: The key to check
            
        Returns:
            True if polling is supported, False otherwise
        """
        return False
```

### Example Implementation

```python
import redis
from statsig_python_core import DataStore, DataStoreResponse
from typing import Optional

class RedisDataStore(DataStore):
    def __init__(self, host='localhost', port=6379):
        super().__init__()
        self.client = redis.Redis(host=host, port=port)
        
    def initialize(self):
        # Ensure connection is established
        self.client.ping()
        
    def shutdown(self):
        self.client.close()
        
    def get(self, key: str) -> Optional[DataStoreResponse]:
        value = self.client.get(key)
        if value is None:
            return None
        
        # Get the time if stored separately, or current time
        time_key = f"{key}:time"
        time = self.client.get(time_key)
        time = int(time) if time else None
        
        return DataStoreResponse(
            result=value.decode('utf-8'),
            time=time
        )
        
    def set(self, key: str, value: str, time: Optional[int] = None):
        self.client.set(key, value)
        if time:
            time_key = f"{key}:time"
            self.client.set(time_key, str(time))
            
    def support_polling_updates_for(self, key: str) -> bool:
        # Example: support polling for specific keys
        return key.startswith('/v2/download_config_specs')
```

To use a custom data store:

```python
from statsig_python_core import Statsig, StatsigOptions

# Create your custom data store
data_store = RedisDataStore()

# Pass it to StatsigOptions
options = StatsigOptions()
options.data_store = data_store

# Initialize Statsig with options
statsig = Statsig("secret-key", options)
statsig.initialize().wait()
```
