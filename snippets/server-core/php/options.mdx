<Accordion title="StatsigOptions">

<ResponseField name="specs_url" type="string">
  Custom URL for fetching feature specifications.
</ResponseField>

<ResponseField name="log_event_url" type="string">
  Custom URL for logging events.
</ResponseField>

<ResponseField name="specs_adapter" type="StatsigSpecsAdapter">
  An adapter with custom storage behavior for config specs. For example, use `StatsigLocalFileSpecsAdapter` to store configs in the local filesystem.
</ResponseField>

<ResponseField name="event_logging_adapter" type="StatsigEventLoggingAdapter">
  An adapter with custom event logging behavior. For example, use `StatsigLocalFileEventLoggingAdapter` to store events in the local filesystem.
</ResponseField>

<ResponseField name="environment" type="string">
  Environment parameter for evaluation.
</ResponseField>

<ResponseField name="event_logging_flush_interval_ms" type="int">
  How often events are flushed to Statsig servers (in milliseconds).
</ResponseField>

<ResponseField name="event_logging_max_queue_size" type="int">
  Maximum number of events to queue before forcing a flush.
</ResponseField>

<ResponseField name="specs_sync_interval_ms" type="int">
  How often the SDK updates specifications from Statsig servers (in milliseconds).
</ResponseField>

<ResponseField name="output_log_level" type="string">
  Controls the verbosity of SDK logs.
</ResponseField>

<ResponseField name="disable_country_lookup" type="bool">
  Disables country lookup based on IP address. Set to `true` to improve performance if country-based targeting is not needed.
</ResponseField>

<ResponseField name="disable_user_agent_parsing" type="bool">
  Disables user agent parsing. Set to `true` to improve performance if device/browser-based targeting is not needed.
</ResponseField>

<ResponseField name="init_timeout_ms" type="int" default="3000">
  Maximum time in milliseconds to wait for SDK initialization to complete. If initialization takes longer than this timeout, the SDK will continue to operate but may return default values until initialization completes.
</ResponseField>

<ResponseField name="fallback_to_statsig_api" type="bool" default="false">
  When set to true, the SDK will fallback to using the Statsig API directly if custom adapters (like local file adapters) fail to load configurations.
</ResponseField>

<ResponseField name="enable_id_lists" type="bool">
  Enable/disable ID list functionality. **Required to be `true` when using segments with more than 1000 IDs.** See [ID List segments](/segments/add-id-list) for more details.
</ResponseField>

<ResponseField name="proxy_config" type="ProxyConfig">
  Configuration for connecting through a proxy server.
</ResponseField>

<Accordion title="ProxyConfig">
<ResponseField name="proxyHost" type="string">
  The hostname or IP address of the proxy server (e.g., `"proxy.example.com"` or `"192.168.1.100"`).
</ResponseField>

<ResponseField name="proxyPort" type="int">
  The port number of the proxy server (e.g., `8080`, `3128`, `1080`).
</ResponseField>

<ResponseField name="proxyAuth" type="string">
  Authentication credentials for the proxy server in the format `"username:password"`. Only required if the proxy requires authentication.
</ResponseField>

<ResponseField name="proxyProtocol" type="string">
  The protocol to use for the proxy connection. Supported values: `"http"`, `"https"`, `"socks5"`.
</ResponseField>
</Accordion>

---

### Performance Recommendations

If you are experiencing performance issues, particularly with long initialization times, you can disable user agent parsing and country lookup to improve performance:

- Set `disable_user_agent_parsing: true` if you don't need device or browser-based targeting
- Set `disable_country_lookup: true` if you don't need country-based targeting

These optimizations were added in response to performance issues identified in [PR #1119](https://github.com/statsig-io/private-statsig-server-core/pull/1119).

---

### Example Usage

```php
use Statsig\Statsig;
use Statsig\StatsigOptions;
use Statsig\ProxyConfig;
use Statsig\StatsigLocalFileSpecsAdapter;
use Statsig\StatsigLocalFileEventLoggingAdapter;

// Create proxy configuration
$proxyConfig = new ProxyConfig(
    proxyHost: "proxy.example.com",
    proxyPort: 8080,
    proxyAuth: "username:password",  // Optional, only if authentication is required
    proxyProtocol: "http"
);

// Initialize StatsigOptions with custom parameters
$options = new StatsigOptions(
    specs_url: null,
    log_event_url: null,
    specs_adapter: new StatsigLocalFileSpecsAdapter($sdk_key, "/tmp"),
    event_logging_adapter: new StatsigLocalFileEventLoggingAdapter($sdk_key, "/tmp"),
    environment: "development",
    event_logging_flush_interval_ms: 60000,
    event_logging_max_queue_size: 1000,
    specs_sync_interval_ms: 600000,
    output_log_level: "INFO",
    disable_country_lookup: true, // For better performance
    wait_for_country_lookup_init: false,
    wait_for_user_agent_init: false,
    enable_id_lists: false,
    disable_network: false,
    id_lists_url: null,
    id_lists_sync_interval_ms: null,
    disable_all_logging: false,
    init_timeout_ms: 3000,
    fallback_to_statsig_api: false,
    use_third_party_ua_parser: null,
    persistent_storage: null,
    proxy_config: $proxyConfig  // Add proxy configuration
);

// Pass the options object into Statsig constructor
$statsig = new Statsig($sdk_key, $options);
$statsig->initialize();
```

<Callout type="warning">
When using `StatsigLocalFile` Adapters, ensure your cron job has run at least one time before using Statsig.
See [Add Scripts & Cron Job](#2-add-scripts--cron-job)
</Callout>

</Accordion>
