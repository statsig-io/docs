Statsig supports both [Page Router](https://nextjs.org/docs/pages) & [App Router](https://nextjs.org/docs/app), with some differences in integration patterns.

<Tabs>
<Tab title="App Router">
<Steps>
  <Step title="Set environment variables">
Add the keys to your .env.local file:
```bash .env.local
# the NEXT_PUBLIC_ prefix is required for this to be available on the client side
NEXT_PUBLIC_STATSIG_CLIENT_KEY=client-<REPLACE_WITH_YOUR_CLIENT_KEY>
STATSIG_SERVER_KEY=secret-<REPLACE_WITH_YOUR_SERVER_KEY>
```

</Step>
<Step title="Install packages">

For App Router, install the @statsig/next package:

<CodeGroup>
```bash NPM
npm i @statsig/next
```

```bash Yarn
yarn add @statsig/next
```

```bash PNPM
pnpm add @statsig/next
```
</CodeGroup>

</Step>
<Step title="Add the StatsigBootstrapProvider">

The \<StatsigBootstrapProvider\> creates both a Statsig Client and Server instance under the hood, and ["bootstraps"](/client/concepts/initialize#2-bootstrap-initialization) the client so it can render each page without a blocking network request. this will keep your app speedy and is recommended for most users. If you need more control over your setup, our [Bootstrapping](#client-bootstrapping-recommended) and [React](/client/React) docs can provide more guidance.

Add this component around the content in your root `layout.tsx` file:

```tsx app/layout.tsx
import { StatsigBootstrapProvider } from "@statsig/next"

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {

  const user = {
    userID: "user-123", // add additional parameters as needed
  };
  return (
    <html lang="en">
      <body>
        <StatsigBootstrapProvider
          user={user}
          clientKey={process.env.NEXT_PUBLIC_STATSIG_CLIENT_KEY}
          serverKey={process.env.STATSIG_SERVER_KEY}
        >
          {children}
        </StatsigBootstrapProvider>
      </body>
    </html>
  );
}
```
</Step>
</Steps>
</Tab>

<Tab title="Page Router">


<Steps>
  <Step title="Set environment variables">
Add the keys to your .env.local file:
```bash .env.local
# the NEXT_PUBLIC_ prefix is required for this to be available on the client side
NEXT_PUBLIC_STATSIG_CLIENT_KEY=client-<REPLACE_WITH_YOUR_CLIENT_KEY>
```

</Step>
<Step title="Install packages">

Install the @statsig/react-bindings package:

<CodeGroup>
```bash NPM
npm i @statsig/react-bindings @statsig/web-analytics
```

```bash Yarn
yarn add @statsig/react-bindings @statsig/web-analytics
```

```bash PNPM
pnpm add @statsig/react-bindings @statsig/web-analytics
```
</CodeGroup>

</Step>
<Step title="Add StatsigProvider to _app.tsx">

To integrate Statsig into your Page Router app you can add the `StatsigProvider` to your `_app.tsx` file.

There is a [full example](https://github.com/statsig-io/js-client-monorepo/tree/main/samples/next-js-pages-router-sample) in the samples directory of the javascript sdk.

```tsx pages/_app.tsx
import type { AppProps } from "next/app";

import {
  LogLevel,
  StatsigProvider,
} from "@statsig/react-bindings";
import { StatsigAutoCapturePlugin } from '@statsig/web-analytics';

export default function App({ Component, pageProps }: AppProps) {
  return (
    <StatsigProvider
      sdkKey={process.env.NEXT_PUBLIC_STATSIG_CLIENT_KEY!}
      user={{ userID: "a-user" }}
      options={{
        plugins: [ new StatsigAutoCapturePlugin() ],
      }}>
      <Component {...pageProps} />
    </StatsigProvider>
  );
}
```
</Step>
</Steps>
</Tab>
</Tabs>

See the [User (StatsigUser)](/concepts/user) doc for more info on the user property. From here, you're ready to start checking gates & experiments and sending events in any sub-file of layout.tsx!
